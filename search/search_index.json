{"config":{"lang":["en"],"separator":"[\\s\\u200b\\u3000\\-\u3001\u3002\uff0c\uff0e\uff1f\uff01\uff1b]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"\u661f\u77bb\u6f2b\u6e38\u6307\u5357","text":"<p>\u6b22\u8fce\u6765\u5230\u661f\u77bb\u7cfb\u7edf\u7684\u4e16\u754c\u3002</p>"},{"location":"#_2","title":"\u4e86\u89e3","text":"<p>\u60f3\u77e5\u9053\u4ec0\u4e48\u662f\u661f\u77bb\uff1f\u4e86\u89e3\u4e00\u4e0b\u300c\u6838\u5fc3\u6982\u5ff5\u300d\u3002</p> <p>\u5982\u679c\u4f60\u5e0c\u671b\u5feb\u901f\u4f53\u9a8c\u661f\u77bb\u7cfb\u7edf\uff0c\u8bf7\u53c2\u8003\u300c\u5feb\u901f\u4e0a\u624b\u300d\u3002</p> <p>\u6709\u66f4\u591a\u5174\u8da3\uff1f\u60f3\u77e5\u9053\u6211\u4eec\u4e3a\u4ec0\u4e48\u7814\u53d1\u661f\u77bb\u3001\u661f\u77bb\u6709\u4ec0\u4e48\u4f18\u52bf\u3001\u548c\u540c\u7c7b\u9879\u76ee\u7684\u5bf9\u6bd4\uff1f\u8bf7\u6233\u8fd9\u91cc\u3002</p>"},{"location":"#_3","title":"\u4f7f\u7528","text":"<p>\u5982\u679c\u4f60\u5e0c\u671b\u5c1d\u8bd5\u4e00\u4e0b\u661f\u77bb\uff0c\u4f46\u4e0d\u77e5\u9053\u5982\u4f55\u5f00\u59cb\uff1f</p> <p>\u53ef\u4ee5\u5148\u4ece\u6574\u4f53\u601d\u8003\u4e00\u4e0b\uff1a\u5982\u4f55\u901a\u8fc7\u661f\u77bb\u6536\u96c6\u9700\u8981\u7684\u6570\u636e\uff0c\u4ee5\u53ca\u5bf9\u670d\u52a1\u5668\u8d44\u6e90\u4f7f\u7528\u91cf\u8fdb\u884c\u76d1\u63a7\uff0c\u4ece\u800c\u5f62\u6210\u4e00\u4e2a\u5b8c\u5584\u5e76\u9002\u5408\u5b9e\u9645\u9700\u6c42\u7684\u670d\u52a1\u5668\u76d1\u63a7\u4f18\u5316\u67b6\u6784\uff1f \u8fd9\u91cc\u6709\u4e00\u4e2a\u53c2\u8003\u3002</p> <p>\u63a5\u7740\uff0c\u4f60\u53ef\u4ee5\u9009\u62e9\u9002\u5408\u7684\u4e1a\u52a1\u300c\u573a\u666f\u300d\uff0c\u67e5\u770b\u661f\u77bb\u5728Kubernetes\u4e0b\u7684\u6700\u4f73\u5b9e\u8df5\u3002</p> <p>\u8fd9\u91cc\u8fd8\u6d89\u53ca\u5230\u5982\u4f55\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u300c\u90e8\u7f72\u300d\u661f\u77bb\u3002</p> <p>\u53e6\u5916\uff0c\u60f3\u67e5\u770b\u5177\u4f53\u7ec4\u4ef6\u7684\u4f7f\u7528\u65b9\u5f0f\uff0c\u8bf7\u53c2\u8003\u300c\u914d\u7f6e\u300d\u3002</p>"},{"location":"#_4","title":"\u89e3\u7b54","text":"<p>\u5728\u4f7f\u7528\u661f\u77bb\u7cfb\u7edf\u7684\u65f6\u5019\u9047\u5230\u95ee\u9898\uff1f \u8bf7\u63d0issues\u6216\u8005\u8054\u7cfb\u6211\u4eec\u3002</p> <p>\u5fae\u4fe1\u626b\u7801\u52a0\u5165\u661f\u77bb\u7cfb\u7edf\u8ba8\u8bba\u7fa4\uff1a\uff08\u8001\u7684\u5fae\u4fe1\u5df2\u6ee1\uff0c\u672a\u901a\u8fc7\u7684\u8bf7\u91cd\u65b0\u626b\u7801\uff09</p> <p></p>"},{"location":"#_5","title":"\u53c2\u4e0e","text":"<p>\u5982\u679c\u4f60\u5bf9\u661f\u77bb\u7cfb\u7edf\u7684\u5177\u4f53\u5b9e\u73b0\u611f\u5174\u8da3\uff0c\u60f3\u53c2\u4e0e\u661f\u77bb\u7cfb\u7edf\u5f00\u6e90\u7684\u7814\u53d1\uff1f\u60f3\u81ea\u7814\u63d2\u4ef6\uff1f\u8bf7\u770b\u300c\u5f00\u53d1\u624b\u518c\u300d\u3002  </p>"},{"location":"developer-guide/contributing/","title":"\u4ee3\u7801\u8d21\u732e","text":"<p>Note</p> <p>\u5982\u679c\u4f60\uff1a</p> <ul> <li>\u6709\u65b0\u7684\u60f3\u6cd5</li> <li>\u63d0\u4ea4Feature</li> <li>Bug report/fix</li> <li>\u8d21\u732e\u6587\u6863</li> <li>Help wanted</li> </ul> <p>\u5efa\u8bae\u5148\u63d0Issues\uff0c\u63cf\u8ff0\u4f60\u7684\u76ee\u7684\u6216\u8005\u95ee\u9898\u3002  </p>"},{"location":"developer-guide/contributing/#_2","title":"\u4ee3\u7801/\u6587\u6863\u8d21\u732e\u6d41\u7a0b","text":""},{"location":"developer-guide/contributing/#1","title":"1. \u521b\u5efa\u672c\u5730\u5de5\u7a0b","text":""},{"location":"developer-guide/contributing/#fork","title":"fork\u4ee3\u7801","text":"<p>\u8bbf\u95eehttps://github.com/loggie-io/loggie\uff0c\u70b9\u51fb\u53f3\u4e0a\u89d2\u7684Fork\uff0cfork\u5230\u81ea\u5df1\u7684github\u4ed3\u5e93\u4e2d\u3002</p>"},{"location":"developer-guide/contributing/#clone","title":"clone\u5230\u672c\u5730","text":"<p>\u5c06fork\u540e\u7684\u5de5\u7a0bclone\u5230\u672c\u5730\uff1a <pre><code>cd ${go-workspace}\n\ngit clone git@github.com:${yourAccountId}/loggie.git\n</code></pre></p>"},{"location":"developer-guide/contributing/#2","title":"2. \u672c\u5730\u5f00\u53d1","text":""},{"location":"developer-guide/contributing/#add-upstream","title":"add upstream","text":"<p>\u5728\u672c\u5730\u5de5\u7a0b\u4e2d\uff0c\u6dfb\u52a0upstream remote\uff1a</p> <pre><code>git remote add upstream https://github.com/loggie-io/loggie.git\ngit remote set-url --push upstream no_push\n</code></pre> <p>\u53ef\u4ee5\u4f7f\u7528<code>git remote -v</code>\u67e5\u770b\uff0corigin\u4e3a\u4f60\u4e2a\u4eba\u8d26\u53f7fork\u7684git\u5730\u5740\uff0cupstream\u4e3aLoggie\u5b98\u65b9\u4ed3\u5e93\u5730\u5740\uff0cuptream\u4ec5\u4e3a\u672c\u5730\u540c\u6b65\u4ee3\u7801\u4f7f\u7528\uff0c\u6b63\u5e38\u65e0push\u6743\u9650\u3002</p>"},{"location":"developer-guide/contributing/#create-branch","title":"create branch","text":"<p>\u57fa\u4e8e\u6700\u65b0\u7684main\u5206\u652f\uff0c\u521b\u5efa\u51fa\u4f60\u7684\u5206\u652f\uff0c\u901a\u5e38\u4ee5feat/fix/chore\u7b49\u5f00\u5934\u3002</p> <pre><code>git checkout -b feat-mywork\n</code></pre> <p>\u5728\u8be5\u5206\u652f\u5f00\u53d1\u5b8c\u540e\uff0c\u5f85\u63d0\u4ea4\u524d\uff0c\u5efa\u8bae\u4fdd\u6301\u4ee3\u7801\u548c\u4e0a\u6e38\u4e00\u81f4\uff1a</p> <pre><code>git pull upstream -r\n</code></pre>"},{"location":"developer-guide/contributing/#_3","title":"\u63d0\u4ea4\u4ee3\u7801","text":"<pre><code>git commit\n\ngit push origin feat-mywork\n</code></pre> <p>Commit\u89c4\u8303</p> <p>\u901a\u5e38\u6211\u4eec\u4f7f\u7528<code>&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;</code>\u7684\u5f62\u5f0f\uff1a</p> <p><code>&lt;type&gt;:</code>\uff08\u5fc5\u987b\uff09</p> <ul> <li>feat\uff1a\u8868\u793a\u4e00\u4e2a\u65b0\u7684\u529f\u80fdfeature</li> <li>fix\uff1abug\u7684\u4fee\u590d</li> <li>chore\uff1a\u6784\u5efa\u8fc7\u7a0b\u6216\u8005\u8f85\u52a9\u5de5\u5177\u7684\u53d8\u52a8</li> <li>test\uff1a\u6d4b\u8bd5\u76f8\u5173 </li> <li>docs\uff1a\u4fee\u6539\u4e86\u6587\u6863</li> <li>perf\uff1a\u6027\u80fd\u4f18\u5316\u76f8\u5173\u6539\u52a8</li> <li>refactor\uff1a\u4ee3\u7801\u91cd\u6784</li> </ul> <p><code>&lt;scope&gt;:</code>\uff08\u53ef\u9009\uff09</p> <ul> <li>core\uff1aLoggie\u6846\u67b6\u7684\u6838\u5fc3\u4ee3\u7801\u6539\u52a8</li> <li>source\uff1aLoggie source\u90e8\u5206\u529f\u80fd\u65b0\u589e\u6216\u6539\u52a8</li> <li>sink\uff1aLoggie sink\u90e8\u5206\u529f\u80fd\u65b0\u589e\u6216\u6539\u52a8</li> <li>interceptor\uff1aLoggie interceptor\u90e8\u5206\u529f\u80fd\u65b0\u589e\u6216\u6539\u52a8</li> <li>discovery\uff1a\u670d\u52a1\u53d1\u73b0\u548c\u914d\u7f6e\u4e2d\u5fc3\u90e8\u5206</li> <li>monitor\uff1amonitor eventbus\u90e8\u5206</li> </ul> <p><code>&lt;subject&gt;:</code> \uff08\u5fc5\u987b\uff09\u5373commit\u7684\u5185\u5bb9\u63cf\u8ff0</p>"},{"location":"developer-guide/contributing/#3-pr","title":"3. \u521b\u5efaPR","text":""},{"location":"developer-guide/contributing/#github","title":"\u63d0\u4ea4\u81f3Github","text":"<p>\u8bbf\u95ee\u4f60\u7684\u4e2a\u4ebagithub\u8d26\u53f7\u91ccfork\u7684Loggie\u9879\u76ee\uff0c\u5e76<code>Open pull request</code>\u3002 \u5c3d\u91cf\u63cf\u8ff0\u6e05\u695aPR\u7684\u80cc\u666f\u3001\u76ee\u7684\u548c\u6539\u52a8\u70b9\u3002 \u5982\u679c\u6709\u76f8\u5173Issues\uff0c\u9700\u5173\u8054\u3002  </p> <p>\u63d0\u4ea4\u524d\u8bf7\u68c0\u67e5\uff1a</p> <ul> <li> \u662f\u5426\u9700\u8981\u6dfb\u52a0/\u4fee\u6539\u76f8\u5173unit test/e2e/\u6027\u80fd\u6d4b\u8bd5</li> <li> \u662f\u5426\u9700\u8981\u6dfb\u52a0/\u4fee\u6539\u76f8\u5173\u6587\u6863</li> </ul>"},{"location":"developer-guide/contributing/#merge","title":"\u5bfb\u6c42Merge","text":"<p>\u4f60\u53ef\u4ee5\u5728OWNERS\u627e\u4eba\uff0c\u6216\u8005\u9ed8\u8ba4\u6dfb\u52a0loggie-robot\u8d26\u53f7\u4f5c\u4e3a\u4f60PR\u7684Reviewers\u6216Assigneees\u3002</p>"},{"location":"developer-guide/development/","title":"\u672c\u5730\u5f00\u53d1","text":"<p>\u672c\u6587\u4ecb\u7ecd\u5982\u4f55\u5728\u672c\u5730\u5f00\u53d1\u548c\u8c03\u8bd5Loggie\u5de5\u7a0b\u3002</p>"},{"location":"developer-guide/development/#_2","title":"\u672c\u5730\u5de5\u7a0b","text":""},{"location":"developer-guide/development/#golang","title":"golang\u5f00\u53d1\u73af\u5883","text":"<p>Loggie\u4f7f\u7528Golang\u7f16\u5199\uff0c\u8bf7\u786e\u4fdd\u672c\u5730\u6709Golang\u5f00\u53d1\u73af\u5883\u3002</p> <pre><code>go version\n</code></pre>"},{"location":"developer-guide/development/#_3","title":"\u4ee3\u7801\u5de5\u7a0b","text":"<p>\u8bf7\u4f7f\u7528\u81ea\u5df1\u7684github\u8d26\u53f7fork Loggie\u5de5\u7a0b\u3002\u7136\u540egit clone\u5230\u672c\u5730\u3002</p> <pre><code>git clone git@github.com:&lt;Account&gt;/loggie.git\n</code></pre>"},{"location":"developer-guide/development/#_4","title":"\u672c\u5730\u73af\u5883","text":"<p>\u6b63\u5e38\u60c5\u51b5\u4e0b\uff0c\u672c\u5730\u65e0\u7279\u6b8a\u4f9d\u8d56\u3002</p> <p>\u9488\u5bf9\u4e0d\u540c\u7684\u529f\u80fd\u573a\u666f\uff0c\u9700\u8981\u6839\u636e\u5177\u4f53\u60c5\u51b5\u5b89\u88c5\u6216\u8005\u4f7f\u7528\u5916\u90e8\u7684\u4f9d\u8d56\u3002</p> <p>\u5efa\u8bae\u672c\u5730\u8fd0\u884cKubernetes\u8fdb\u884c\u90e8\u7f72\u548c\u7ba1\u7406\u3002</p>"},{"location":"developer-guide/development/#kubernetes","title":"Kubernetes","text":"<p>\u642d\u5efaKubernetes</p> <p>\u63a8\u8350\u4f7f\u7528Kind\u3002</p> <p>\u90e8\u7f72\u4f9d\u8d56\u7ec4\u4ef6</p> <p>\u63a8\u8350\u4f7f\u7528Helm\u6765\u90e8\u7f72\u3002\u76f8\u5173\u7684\u7ec4\u4ef6\u53ef\u4f7f\u7528\u516c\u5f00\u7684Helm\u4ed3\u5e93\u6765\u6dfb\u52a0\u548c\u90e8\u7f72\u3002</p> <p>\u672c\u5730Loggie\u8fde\u63a5Kubernetes</p> <p>\u5982\u679c\u9700\u8981\u4f7f\u7528LogConfig\u7b49CRD\uff0c\u6216\u8005\u8c03\u8bd5Kubernetes\u4e0b\u7684\u4f7f\u7528\u65b9\u5f0f\uff0c\u9700\u8981\u5728\u7cfb\u7edf\u914d\u7f6e\u4e2d\uff0cenable Kubernetes Discovery\u3002 </p> <p>loggie.yml</p> <pre><code>  discovery:\n    enabled: true\n    kubernetes:\n      kubeconfig: ${home}/.kube/config\n</code></pre> <p>\u6307\u5b9akubeconfig\u8fde\u63a5\u672c\u5730\u7684Kubernetes APIServer\u3002  </p> <p>\u53e6\u5916\uff0cAgent\u5f62\u6001\u7684Loggie\uff0c\u4f1a\u53ea\u76d1\u542c\u672c\u8282\u70b9\u7684Kubernetes Pod\u4e8b\u4ef6\uff0c\u9700\u8981\u5728Loggie\u542f\u52a8\u53c2\u6570\u4e2d\u6dfb\u52a0<code>-meta.nodeName</code>\u6765\u6a21\u62df\u6240\u5728\u7684\u8282\u70b9\u3002  </p> <p>\u4f8b\u5982\uff0c\u53ef\u4ee5\u4f7f\u7528<code>kubectl get node</code>\u67e5\u770b\u6240\u6709\u8282\u70b9\u540d\u79f0\uff1a</p> <p><pre><code>NAME                 STATUS   ROLES    AGE     VERSION\nkind-control-plane   Ready    master   2y50d   v1.21.0\n</code></pre> \u7136\u540e\u542f\u52a8\u53c2\u6570\u589e\u52a0<code>-meta.nodeName=kind-control-plane</code>\uff0c\u53ef\u4ee5\u4f7fLoggie\u542f\u52a8\u540e\u88ab\u8ba4\u4e3a\u90e8\u7f72\u5728\u8be5\u8282\u70b9\u3002</p>"},{"location":"developer-guide/development/#_5","title":"\u9a8c\u8bc1\u4e0e\u8c03\u8bd5","text":"<p>Loggie\u9ed8\u8ba4\u542f\u52a8\u540e\uff0c\u8f93\u51fa\u7684\u65e5\u5fd7\u683c\u5f0f\u4e3aJSON\uff0c\u5982\u679c\u4f60\u4e0d\u4e60\u60ef\uff0c\u53ef\u5728\u542f\u52a8\u53c2\u6570\u4e2d\u6dfb\u52a0<code>-log.jsonFormat=false</code>\u6765\u5173\u95ed\u3002  </p> <p>\u672c\u5730\u5c3d\u91cf\u4f7f\u7528\u6a21\u62df\u7684\u65b9\u5f0f\uff0c\u5408\u7406\u5229\u7528dev source\u548cdev sink\u3002\u6bd4\u5982\uff1a</p> <ul> <li>\u5f00\u53d1source\uff0c\u53ef\u914d\u7f6edev sink\u8f93\u51fa\u5230\u672c\u5730stdout\u9a8c\u8bc1</li> <li>\u5f00\u53d1sink\uff0c\u53ef\u914d\u7f6edev source\u6a21\u62df\u8f93\u5165\u6216\u8005\u914d\u7f6efile source\u91c7\u96c6\u672c\u5730\u6587\u4ef6</li> <li>\u5f00\u53d1interceptor\uff0c\u53ef\u540c\u65f6\u914d\u7f6edev source\u548cdev sink\u7528\u4e8e\u6a21\u62df</li> </ul> <p>\u793a\u4f8b\uff1a\u5728pipelines\u4e2d\uff0c\u4f7f\u7528dev sink\uff0c\u67e5\u770b\u6700\u7ec8\u8f93\u51fa\u53d1\u9001\u81f3\u4e0b\u6e38\u7684\u6570\u636e\u3002</p> <p>pipelines.yml</p> <pre><code>    sink:\n      type: \"dev\"\n      printEvents: true\n      codec:\n        pretty: true\n</code></pre>"},{"location":"developer-guide/release/","title":"\u7248\u672c\u548cRelease\u53d1\u5e03\u6d41\u7a0b","text":""},{"location":"developer-guide/release/#_1","title":"\u7248\u672c\u53d1\u5e03\u6d89\u53ca\u5de5\u7a0b","text":"<ul> <li>Loggie \u4e3b\u5de5\u7a0b</li> <li>Loggie-installation \u90e8\u7f72\u811a\u672c\u5de5\u7a0b</li> <li>Loggie docs \u6587\u6863\u9879\u76ee\uff08\u6682\u65f6\u4e3a\u6700\u65b0\u7684\u7248\u672c\u6587\u6863\uff0c\u540e\u7eed\u4f1a\u652f\u6301\u591a\u7248\u672c\uff09</li> </ul>"},{"location":"developer-guide/release/#_2","title":"\u4ee3\u7801\u5206\u652f\u7b56\u7565","text":"<ul> <li>\u7248\u672c\u53c2\u8003Semantic\u8bed\u4e49</li> <li>\u4f7f\u7528main\u4e3b\u5206\u652f\u4e3a\u5f00\u53d1\u5206\u652f\uff0c\u65e5\u5e38\u6240\u6709\u4ee3\u7801PR\u5747\u5408\u5165main\u5206\u652f</li> <li>\u65b0\u7248\u672c\u4f7f\u7528release\u5206\u652f\uff0c\u683c\u5f0f\u4e3a<code>release-vA.B</code>\uff0c\u4f8b\u5982<code>release-v1.1</code>\uff0c\u8fd9\u91cc\u53ea\u4f7f\u7528\u7248\u672c\u524d\u4e24\u4f4d</li> <li>\u57fa\u4e8erelease\u5206\u652f\u6253\u4e0atag\u8868\u793a\u5177\u4f53\u7248\u672c\uff0c\u4f8b\u5982<code>v1.1.0</code></li> <li>bugfix \u9664\u4e86\u80af\u5b9a\u4f1a\u5408\u5165main\u5206\u652f\u5916\uff0c\u6839\u636e\u4e25\u91cd\u60c5\u51b5cherry-pick\u81f3\u5177\u4f53\u7684release\u5206\u652f\uff0c\u540c\u65f6\u6253\u4e0atag\uff0c\u9700\u8981\u5347\u7ea7\u6700\u5c0f\u7248\u672c\uff0c\u4f8b\u5982<code>v1.1.1</code></li> </ul>"},{"location":"developer-guide/release/#_3","title":"\u53d1\u5e03\u65b0\u7248\u672c\u6b65\u9aa4","text":""},{"location":"developer-guide/release/#1-release","title":"1. \u521b\u5efa\u65b0\u7684release\u5206\u652f","text":"<p>\u786e\u8ba4\u7248\u672c\u9700\u8981\u7684\u6240\u6709\u529f\u80fd\u5df2\u7ecf\u5408\u5165\uff0cmain\u5206\u652f\u4e3a\u6700\u65b0\u63d0\u4ea4\uff1a</p> <pre><code>git checkout main\ngit pull upstream main -r\n</code></pre> <p>\u57fa\u4e8emain\u5206\u652f\u521b\u5efa\u65b0\u7684release\u5206\u652f\uff0c\u4f8b\u5982<code>release-v1.1</code>\uff1a <pre><code>git checkout -b release-v${A.B}\n</code></pre></p>"},{"location":"developer-guide/release/#2-changelog","title":"2. \u586b\u5199CHANGELOG","text":"<p>\u57fa\u4e8e\u8be5\u5206\u652f\u586b\u5199CHANGELOG\uff0c\u63d0\u4ea4\u81f3\u5de5\u7a0b\u4e2d\u5408\u5165</p> <pre><code>git add .\ngit commit -m'Release: add v${A.B.C} changelog'\ngit push upstream release-v${A.B.C}\n</code></pre>"},{"location":"developer-guide/release/#3-release-loggie-installation","title":"3. release Loggie-installation","text":"<p>release Loggie-installationation\u90e8\u7f72\u811a\u672c\u5de5\u7a0b\uff0c\u548c\u4e0a\u8ff01\uff0c2\u6b65\u9aa4\u76f8\u540c</p> <p>\u8bf7\u6ce8\u610f\uff1a</p> <ul> <li>\u8bf7\u52ff\u5fd8\u8bb0\u4fee\u6539Chart.yaml\u4e2d\u7684\u7248\u672c\u53f7</li> </ul>"},{"location":"developer-guide/release/#4","title":"4. \u56de\u5f52\u6d4b\u8bd5","text":"<p>\u57fa\u4e8erelease\u5206\u652f\u8fdb\u884c\u56de\u5f52\u6d4b\u8bd5\u3002 release\u5206\u652fpush\u81f3Github\u540e\uff0c\u4f1a\u89e6\u53d1action\u8fdb\u884c\u955c\u50cf\u6784\u5efa\uff0c\u4f7f\u7528\u8be5\u955c\u50cf\u8fdb\u884c\u56de\u5f52\u6d4b\u8bd5\u3002 \u8fd9\u91cc\u7684\u6d4b\u8bd5\u4f1a\u4f7f\u7528loggie-installationation\u90e8\u7f72\u811a\u672c\u91cc\u76f8\u5e94\u7684release\u5206\u652f\uff0c\u540c\u65f6\u56de\u5f52\u9a8c\u8bc1\u90e8\u7f72\u811a\u672c\u6b63\u786e\u6027\u3002 \u5982\u679c\u6d4b\u8bd5\u53d1\u73b0Bug\uff0c\u63d0\u4ea4PR\u5408\u5165release\u5206\u652f\uff0c\u91cd\u65b0\u8fdb\u884c\u56de\u5f52\u3002  </p>"},{"location":"developer-guide/release/#5-tag","title":"5. \u6253\u4e0a\u7248\u672ctag","text":"<p>\u6d4b\u8bd5\u901a\u8fc7\u540e\uff0c\u57fa\u4e8e\u8be5release\u5206\u652f\u6253\u4e0a\u76f8\u5e94\u7684\u7248\u672ctag\uff0c\u6bd4\u5982<code>v1.1.0</code> <pre><code>git pull upstream release-v${A.B.C}\ngit tag v${A.B.C}\ngit push v${A.B.C}\n</code></pre> \u6ce8\u610fLoggie\u5de5\u7a0b\u548cLoggie-installationation\u90e8\u7f72\u811a\u672c\u5747\u9700\u8981\u3002</p>"},{"location":"developer-guide/release/#6-githubrelease","title":"6. \u5728Github\u4e0a\u53d1\u5e03release","text":"<ul> <li>Loggie\u5de5\u7a0b\u590d\u5236\u9879\u76ee\u4e2d\u7684CHANGELOG\u5373\u53ef</li> <li>Loggie installation\u5de5\u7a0b\u9700\u8981\u63d0\u4f9b<code>loggie-linux-amd64</code>\u4e8c\u8fdb\u5236\u548c<code>loggie-v${A.B.C}.tgz</code> helm chart\u5305\u3002</li> <li>\u4e8c\u8fdb\u5236\u9700\u8981\u627e\u53f0linux amd64\u673a\u5668\u8fdb\u884c<code>make build</code></li> <li>helm chart\u5305\u9700\u8981\u57fa\u4e8e\u5bf9\u5e94\u7248\u672c\u7684loggie installation\u9879\u76ee\uff0c\u6267\u884c<code>helm package ./helm-chart</code>\u5373\u53ef\u3002</li> </ul>"},{"location":"developer-guide/release/#7-loggie-docs","title":"7. \u66f4\u65b0Loggie docs\u6587\u6863","text":"<ul> <li>\u66f4\u65b0Loggie docs\u6587\u6863\uff0c\u5e76\u63d0PR\u5408\u5165</li> <li>\u6ce8\u610f\u4fee\u6539Loggie\u955c\u50cf\u548c\u7248\u672c\u53f7\u7b49</li> </ul>"},{"location":"developer-guide/release/#8-releasemain","title":"8. \u5c06release\u5206\u652f\u5408\u5165main","text":"<p>\u63d0PR\u5c06release\u5206\u652f\u5408\u5165main\uff0c\u53ef\u7b49\u7a33\u5b9a\u4e00\u6bb5\u65f6\u95f4\u540e\u518d\u5408\u5165\uff0c\u6ce8\u610fLoggie\u5de5\u7a0b\u548cLoggie-installation\u90e8\u7f72\u811a\u672c\u5747\u9700\u8981\u3002</p>"},{"location":"developer-guide/release/#bugfix","title":"\u6709BugFix\u65f6","text":"<ul> <li>\u5982\u679c\u662f\u4e0d\u91cd\u8981\u7684bug\uff0c\u57fa\u4e8emain\u5206\u652f\u63d0\u4ea4\u4fee\u6539\u5373\u53ef\uff0c\u53ef\u4ee5\u4e0d\u5408\u5165release\u5206\u652f</li> <li>\u5982\u679c\u4e3a\u91cd\u8981\u7684bug\uff0c\u9700\u8981\u4fee\u590d\uff0c\u786e\u5b9a\u9700\u8981\u4fee\u590d\u7684\u7248\u672crelease\u5206\u652f\uff08\u53ef\u4e3a\u6700\u8fd1\u4e00\u4e2a\u6216\u8005\u591a\u4e2a\uff09\uff0c\u9664\u4e86\u63d0\u4ea4\u81f3main\u5206\u652f\u5916\uff0c\u8fd8\u9700\u8981cherry-pick\u81f3\u6307\u5b9arelease\u5206\u652f\uff0c\u540c\u65f6\u6253\u4e0atag\uff0c\u65b0\u589e\u6700\u5c0f\u7248\u672c\u53f7\uff0c\u540c\u65f6\u9700\u8981\u786e\u8ba4Loggie-installation\u548cdocs\u662f\u5426\u540c\u6b65\u4fee\u6539\u3002</li> </ul>"},{"location":"developer-guide/code/coding-guide/","title":"\u4ee3\u7801\u89c4\u8303","text":""},{"location":"developer-guide/code/coding-guide/#_2","title":"\u5f00\u53d1\u89c4\u5219","text":""},{"location":"developer-guide/code/coding-guide/#golang","title":"\u901a\u7528Golang\u89c4\u8303","text":"<p>\u53c2\u8003\uff1a</p> <ul> <li>Effective Go</li> <li>Go Code Review Comments</li> <li>Uber Go Style Guide</li> </ul>"},{"location":"developer-guide/code/coding-guide/#novagolang","title":"Nova\u7684golang\u89c4\u8303","text":"<ol> <li>\u804c\u8d23\u5355\u4e00\u539f\u5219\uff0c\u4e00\u4e2acomponent\u53ea\u505a\u4e00\u4ef6\u4e8b\uff0c\u4e14\u505a\u597d\u4e00\u4ef6\u4e8b</li> <li>\u542f\u52a8\u4efb\u4f55\u4e00\u4e2agoroutine\u90fd\u8981\u5148\u60f3\u597d\u5982\u4f55\u9000\u51fa\uff0c\u4ee5\u53ca\u7f16\u7801\u9000\u51fa\u903b\u8f91</li> <li>return err\u7684\u65f6\u5019\u60f3\u60f3\u662f\u5426\u9700\u8981\u6e05\u7406\u672c\u65e0\u9700\u542f\u52a8\u7684goroutine</li> <li>\u6c38\u8fdc\u8bb0\u4f4fgo\u4e2d\u7684\u64cd\u4f5c\u90fd\u4e0d\u4fdd\u8bc1\u539f\u5b50\u6027\uff08\u4f8b\u5982\u5b57\u7b26\u4e32\u62fc\u63a5\uff09\uff0c\u9664\u4e86chan\u3001sync\u5305\u7b49</li> <li>for\uff08for each\uff09\u5faa\u73af\u7684\u65f6\u5019\uff0c\u6ce8\u610f\u51fd\u6570\u53d8\u91cf\u662f\u5171\u4eab\u76f8\u540c\u7684\u5730\u5740</li> <li>\u51cf\u5c11\u4f7f\u7528\u5168\u5c40\u7684done chan\uff08\u5927\u91cfgoroutine\u8f6e\u8be2\u540c\u4e00\u4e2adone chan\u6027\u80fd\u4f1a\u6025\u5267\u4e0b\u964d\uff09\u3002 \u66f4\u5efa\u8bae\u4f7f\u7528\u7ec4\u4ef6struct\u72ec\u7acb\u7684done chan\u548c\u63d0\u4f9bStop()\u65b9\u6cd5\u6765\u4f9b\u4e0a\u5c42\u8c03\u7528\u6765\u5173\u95ed\u4ee5\u907f\u514dgoroutine\u6cc4\u9732</li> <li>Component\u60f3\u597d\u5982\u4f55\u5408\u7406\u4f18\u96c5Stop\uff08\u7279\u522b\u662f\u4e0d\u8981\u53d1\u751fpanic\u5bfc\u81f4\u6574\u4e2a\u8fdb\u7a0b\u6302\u6389\uff09</li> <li>\u4e0d\u8981\u5173\u95ed(close)\u4e00\u4e2a\u7528\u4e8e\u8bfb\u5199\u7684chan\u6765\u8fbe\u5230\u9000\u51fagoroutine\u6216\u8005\u505c\u6b62Component\u7684\u76ee\u6807\uff0c\u53ef\u80fd\u5728close chan\u540e\u8fd8\u6709\u5199\u64cd\u4f5c\u4f1a\u9020\u6210panic\u3002 \u4f7f\u7528\u4e00\u4e2a\u5355\u72ec\u7684done chan\u6765\u6807\u793a\u662f\u5426\u9000\u51fa</li> <li>\u5173\u95ed(Stop)Component\u7684\u65f6\u5019\u6ce8\u610f\u5173\u95ed\u7684\u987a\u5e8f\u548c\u8d44\u6e90\u91ca\u653e\uff0c \u4e0d\u8981\u9020\u6210\u5176\u4ed6goroutine\u592f\u4f4f(\u4f8b\u5982\u4f9b\u5916\u90e8\u5199\u76840\u5bb9\u91cf\u7684chan\u6ca1\u6709\u5904\u7406\uff0c\u4f46\u662f\u8bfb\u7684goroutine\u9000\u51fa\u4e86\uff0c\u5bfc\u81f4\u5916\u90e8\u5199\u7684goroutine\u4e00\u76f4\u963b\u585e)</li> <li>\u5c06chan\u7684\u751f\u547d\u5468\u671f\u5c01\u88c5\u5728chan\u6240\u6709\u8005\u5185\u90e8</li> <li>\u4f7f\u7528done chan\u9000\u51fagoroutine\u7684\u65f6\u5019\uff0c\u4e0d\u8981\u505a\u4efb\u4f55\u6e05\u7406\u8d44\u6e90\u7684\u64cd\u4f5c\u3002\u6e05\u7406\u8d44\u6e90\u4f18\u5148\u4f7f\u7528defer\uff0c\u56e0\u4e3a\u5f53goroutine panic\u7684\u65f6\u5019\uff0c defer\u8fd8\u80fd\u591f\u6e05\u7406\u8d44\u6e90\uff0c\u800cdone chan\u4e2d\u7684\u6e05\u7406\u903b\u8f91\u53ef\u80fd\u6c38\u8fdc\u4e0d\u4f1a\u88ab\u6267\u884c</li> <li>\u4e0d\u5141\u8bb8\u4f7f\u7528<code>time.after()</code>\u3002\u4f7f\u7528<code>time.NewTicker()</code>\u4ee3\u66ff\uff0c\u5e76\u53ca\u65f6\u6e05\u7406ticker</li> </ol>"},{"location":"developer-guide/code/coding-guide/#_3","title":"\u65e5\u5fd7","text":"<ul> <li>\u65e5\u5fd7\u5e94\u8be5\u88ab\u8ba4\u771f\u5bf9\u5f85\u3002\u5728\u8fdb\u884c\u4fee\u6539\u65f6\uff0c\u8bf7\u82b1\u65f6\u95f4\u8bb0\u5f55\u65e5\u5fd7\uff0c\u4ee5\u786e\u4fdd\u91cd\u8981\u7684\u4e8b\u60c5\u88ab\u8bb0\u5f55\u4e0b\u6765\u3002\u7279\u522b\u662fpipeline name\u3001source name\u7b49\u7ec4\u4ef6\u7684\u5173\u952e\u4fe1\u606f</li> <li>\u65e5\u5fd7\u8bed\u53e5\u5e94\u8be5\u662f\u5b8c\u6574\u7684\u53e5\u5b50\uff0c\u5927\u5c0f\u5199\u9002\u5f53\uff0c\u4f9b\u4e0d\u4e00\u5b9a\u719f\u6089\u6e90\u4ee3\u7801\u7684\u4eba\u9605\u8bfb</li> <li>\u6253\u5370\u65e5\u5fd7\u76f4\u63a5\u4f7f\u7528\u9879\u76ee\u9884\u8bbe\u7684\u51fd\u6570\uff0c\u4f8b\u5982<code>log.Info()</code>\u3001<code>log.Error()</code>\u3002\u4e0d\u5141\u8bb8\u4f7f\u7528<code>fmt.Printf()</code>\u3001<code>fmt.Println()</code>\u7b49go\u5185\u7f6efmt\u65b9\u6cd5\u3002\u9879\u76ee\u65e5\u5fd7\u7cfb\u7edf\u91c7\u7528 zerolog</li> </ul>"},{"location":"developer-guide/code/coding-guide/#_4","title":"\u65e5\u5fd7\u7ea7\u522b","text":"<ul> <li>DEBUG\uff1a\u6253\u5370\u4e00\u4e9b\u72b6\u6001\u3001\u63d0\u793a\u4fe1\u606f\uff0c\u7528\u4e8e\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u89c2\u5bdf\uff0c\u5f00\u53d1\u5b8c\u6210\u3001\u6b63\u5f0f\u4e0a\u7ebf\u540e\u9700\u8981\u5c4f\u853d\uff0c\u4f46\u5728\u53d1\u751f\u96be\u4ee5\u6392\u67e5\u7684\u5f02\u5e38\u65f6\uff0c\u53ef\u4ee5\u6253\u5f00\u4ee5\u63d0\u4f9b\u66f4\u591a\u7684\u8be6\u7ec6\u5185\u90e8\u4fe1\u606f\u3002</li> <li>INFO\uff1a\u4e00\u4e9b\u63d0\u793a\u6027\u7684\u4fe1\u606f\uff0c\u5373\u4f7f\u5728\u5f00\u53d1\u5b8c\u6210\u3001\u6b63\u5f0f\u4e0a\u7ebf\u7684\u7cfb\u7edf\u4e2d\uff0c\u4e5f\u6709\u4fdd\u7559\u7684\u4ef7\u503c\u3002</li> <li>WARN\uff1a\u5c5e\u4e8e\u8f7b\u5fae\u7684\u8b66\u544a\uff0c\u7a0b\u5e8f\u4e2d\u51fa\u73b0\u4e86\u4e00\u4e9b\u5f02\u5e38\u60c5\u51b5\uff0c\u4f46\u662f\u5f71\u54cd\u4e0d\u5927\uff0c\u8fd8\u53ef\u4ee5\u6b63\u5e38\u4f7f\u7528\u3002</li> <li>ERROR\uff1a\u5c5e\u4e8e\u666e\u901a\u7684\u9519\u8bef\uff0c\u5728\u7a0b\u5e8f\u53ef\u4ee5\u63a7\u5236\u7684\u8303\u56f4\u5185\uff0c\u4e0d\u4f1a\u9020\u6210\u8fde\u9501\u5f71\u54cd\u6216\u5de8\u5927\u5f71\u54cd\u3002</li> <li>PANIC/FATAL\uff1a\u5c5e\u4e8e\u81f4\u547d\u9519\u8bef\uff0c\u4f1a\u5bfc\u81f4\u7cfb\u7edf\u762b\u75ea\u3001\u5173\u95ed\uff0c\u5fc5\u987b\u9a6c\u4e0a\u8fdb\u884c\u5904\u7406\u3002\u4e00\u822c\u5728main\u51fd\u6570\u542f\u52a8\u6d41\u7a0b\u4e2d\u4f7f\u7528\uff0c\u6b63\u5e38\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u8c28\u614e\u4f7f\u7528\u3002\u5e76\u4e14\u8bf7\u6ce8\u610fLoggie\u7684\u591aPipeline\u8bbe\u8ba1\u4e0a\u4e92\u76f8\u9694\u79bb\uff0cFATAL\u4f1a\u5f71\u54cd\u6240\u6709Pipeline\u3002</li> </ul> <p>PANIC\u548cFATAL\u533a\u522b</p> <p>PANIC\u6700\u7ec8\u8c03\u7528\u7684\u662fpanic(msg)</p> <p>FATAL\u6700\u7ec8\u8c03\u7528\u7684\u662fos.Exit(1)</p>"},{"location":"developer-guide/code/coding-guide/#_5","title":"\u76d1\u63a7","text":"<ul> <li>\u4efb\u4f55\u65b0\u7ec4\u4ef6\u90fd\u5e94\u8be5\u5e26\u6709\u9002\u5f53\u7684\u6307\u6807\uff0c\u4ee5\u4fbf\u76d1\u63a7\u529f\u80fd\u6b63\u5e38\u5de5\u4f5c</li> <li>\u5e94\u8be5\u8ba4\u771f\u5bf9\u5f85\u8fd9\u4e9b\u6307\u6807\uff0c\u5e76\u4e14\u53ea\u4e0a\u62a5\u6709\u7528\u7684\u6307\u6807\uff0c\u8fd9\u4e9b\u6307\u6807\u5c06\u5728\u751f\u4ea7\u4e2d\u7528\u4e8e\u76d1\u6d4b/\u63d0\u9192\u7cfb\u7edf\u7684\u5065\u5eb7\u72b6\u51b5\uff0c\u6216\u6392\u67e5\u95ee\u9898</li> </ul>"},{"location":"developer-guide/code/coding-guide/#_6","title":"\u5355\u5143\u6d4b\u8bd5","text":"<ul> <li>\u65b0\u529f\u80fd\u9700\u8981\u5305\u542b\u5355\u5143\u6d4b\u8bd5</li> <li>\u5355\u5143\u6d4b\u8bd5\u5e94\u8be5\u6d4b\u8bd5\u5c3d\u53ef\u80fd\u5c11\u7684\u4ee3\u7801\uff0c\u4e0d\u8981\u542f\u52a8\u6574\u4e2a\u670d\u52a1\uff0c\u6709\u5916\u90e8\u4f9d\u8d56\u8bf7\u8865\u5145e2e\u6216\u8005\u96c6\u6210\u6d4b\u8bd5</li> </ul>"},{"location":"developer-guide/code/coding-guide/#_7","title":"\u4ee3\u7801\u98ce\u683c","text":"<ul> <li>go fmt</li> <li>\u914d\u7f6e\u9879\u547d\u540d\u4f7f\u7528\u9a7c\u5cf0\u3002\u4f8b\u5982<code>yaml:\"cleanDataTimeout,omitempty\"</code>\uff0c\u4ee3\u66ff<code>yaml:\"clean_data_timeout,omitempty\"</code></li> </ul>"},{"location":"developer-guide/code/coding-guide/#_8","title":"\u5411\u540e\u517c\u5bb9","text":"<ul> <li>\u534f\u8bae\u5e94\u652f\u6301\u5411\u540e\u517c\u5bb9\u6027\u4ee5\u5b9e\u73b0\u65e0\u505c\u673a\u5347\u7ea7\u3002\u8fd9\u610f\u5473\u7740\u540c\u7c7bsource\u548csink\u5fc5\u987b\u80fd\u591f\u540c\u65f6\u652f\u6301\u6765\u81ea\u65b0\u7248\u548c\u65e7\u7248\u7684\u8bf7\u6c42</li> <li>\u5143\u6570\u636e\u683c\u5f0f\u548c\u6570\u636e\u683c\u5f0f\u5e94\u652f\u6301\u5411\u540e\u517c\u5bb9\u3002\u4f8b\u5982grcp\u7684protobuf\u5b9a\u4e49</li> </ul>"},{"location":"developer-guide/code/coding-guide/#copyright-profile","title":"Copyright profile","text":"<p>Copyright-text</p> <pre><code>/*\nCopyright 2022 Loggie Authors\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\n</code></pre>"},{"location":"developer-guide/component/component-guide/","title":"\u7ec4\u4ef6\u5f00\u53d1","text":"<p>\u63a8\u8350\u53c2\u8003\u5df2\u6709\u7684\u7ec4\u4ef6\u5f00\u53d1\u4e00\u4e2a\u65b0\u7684\u7ec4\u4ef6</p>"},{"location":"developer-guide/component/component-guide/#_1","title":"\u516c\u5171\u63a5\u53e3","text":"<pre><code>// \u751f\u547d\u5468\u671f\u63a5\u53e3\ntype Lifecycle interface {\n    // \u521d\u59cb\u5316\uff0c\u4f8b\u5982\u521d\u59cb\u5316Kafka\u8fde\u63a5\n    Init(context Context)\n    // \u542f\u52a8\u8fd0\u884c\uff0c\u4f8b\u5982\u5f00\u59cb\u6d88\u8d39Kafka\n    Start()\n    // \u505c\u6b62\n    Stop()\n}\n\n// \u63cf\u8ff0\u63a5\u53e3\ntype Describable interface {\n    // \u7c7b\u522b\uff0c\u4f8b\u5982source\n    Category() Category\n    // \u7c7b\u578b\uff0c\u4f8b\u5982kafka\n    Type() Type\n    // \u81ea\u5b9a\u4e49\u63cf\u8ff0\n    String() string\n}\n\n// \u914d\u7f6e\u83b7\u53d6\u63a5\u53e3\ntype Config interface {\n    // \u83b7\u53d6\u914d\u7f6e\n    Config() interface{}\n}\n\n// \u7ec4\u4ef6\u63a5\u53e3\ntype Component interface {\n    // \u751f\u547d\u5468\u671f\u7ba1\u7406\n    Lifecycle\n    // \u63cf\u8ff0\u7ba1\u7406\n    Describable\n    // \u914d\u7f6e\u7ba1\u7406\n    Config\n}\n</code></pre>"},{"location":"developer-guide/component/component-guide/#source","title":"source\u7ec4\u4ef6","text":"<p>source\u7ec4\u4ef6\u5bf9\u63a5\u6570\u636e\u6e90\u8f93\u5165\uff0c\u5f00\u53d1\u4e00\u4e2a\u65b0\u7684source\u63d2\u4ef6\u9700\u8981\u5b9e\u73b0\u5982\u4e0b\u63a5\u53e3 <pre><code>// source\u7ec4\u4ef6\u63a5\u53e3\ntype Source interface {\n    Component\n    Producer\n    // \u63d0\u4ea4\u63a5\u53e3\uff0c\u786e\u8ba4sink\u7aef\u6210\u529f\u7136\u540e\u63d0\u4ea4\n    Commit(events []Event)\n}\n\n// \u751f\u4ea7\u63a5\u53e3\uff0csource\u7ec4\u4ef6\u9700\u8981\u5b9e\u73b0\ntype Producer interface {\n    // \u5bf9\u63a5\u6570\u636e\u6e90\n    ProductLoop(productFunc ProductFunc)\n}\n</code></pre></p>"},{"location":"developer-guide/component/component-guide/#sink","title":"sink\u7ec4\u4ef6","text":"<p>sink\u7ec4\u4ef6\u5bf9\u63a5\u8f93\u51fa\u7aef\uff0c\u5f00\u53d1\u4e00\u4e2a\u65b0\u7684sink\u63d2\u4ef6\u9700\u8981\u5b9e\u73b0\u5982\u4e0b\u63a5\u53e3 <pre><code> // sink\u7ec4\u4ef6\u63a5\u53e3\ntype Sink interface {\n    Component\n    Consumer\n}\n\n// \u6d88\u8d39\u63a5\u53e3\uff0csink\u7ec4\u4ef6\u9700\u8981\u5b9e\u73b0\ntype Consumer interface {\n    // \u5bf9\u63a5\u8f93\u51fa\u7aef\n    Consume(batch Batch) Result\n}\n</code></pre></p>"},{"location":"developer-guide/component/component-guide/#interceptor","title":"interceptor\u7ec4\u4ef6","text":"<p>interceptor\u7ec4\u4ef6\u5bf9\u4e8b\u4ef6\u8fdb\u884c\u62e6\u622a\u5904\u7406\uff0c\u5f00\u53d1\u4e00\u4e2a\u65b0\u7684interceptor\u63d2\u4ef6\u9700\u8981\u5b9e\u73b0\u5982\u4e0b\u63a5\u53e3 <pre><code>// interceptor\u7ec4\u4ef6\u63a5\u53e3\ntype Interceptor interface {\n    Component\n    // \u62e6\u622a\u5904\u7406\n    Intercept(invoker Invoker, invocation Invocation) api.Result\n}\n</code></pre></p> <p>Note</p> <p>\u8bf7\u6ce8\u610f\u65b0\u589e\u7684\u7ec4\u4ef6\u9700\u8981\u653e\u5230pkg/include/include.go\u7684import\u5f53\u4e2d\u6ce8\u518c</p>"},{"location":"getting-started/install/kubernetes/","title":"Kubernetes\u90e8\u7f72","text":""},{"location":"getting-started/install/kubernetes/#nova","title":"\u90e8\u7f72Nova","text":"<p>\u8bf7\u786e\u4fdd\u672c\u5730\u6709kubectl\u548chelm\u53ef\u6267\u884c\u547d\u4ee4\u3002</p> <ul> <li>kubectl\uff08\u4e0b\u8f7d\uff09</li> <li>helm\uff08\u4e0b\u8f7d\uff09</li> </ul>"},{"location":"getting-started/install/kubernetes/#helm-chart","title":"\u4e0b\u8f7dhelm-chart\u5305","text":"<pre><code>helm pull https://github.com/nova-io/installa tion/releases/download/v1.2.0/nova-v1.2.0.tgz &amp;&amp; tar xvzf nova-v1.2.0.tgz\n</code></pre>"},{"location":"getting-started/install/kubernetes/#_1","title":"\u4fee\u6539\u914d\u7f6e","text":"<p>\u8fdb\u5165chart\u76ee\u5f55\uff1a <pre><code>cd installation/nova\n</code></pre></p> <p>\u67e5\u770bvalues.yml\uff0c\u5e76\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u8fdb\u884c\u4fee\u6539\u3002  </p> <p>\u76ee\u524d\u53ef\u914d\u7f6e\u7684\u53c2\u6570\u5982\u4e0b\u6240\u793a\uff1a</p>"},{"location":"getting-started/install/kubernetes/#novaserver","title":"NovaServer","text":""},{"location":"getting-started/install/kubernetes/#novaserver_1","title":"NovaServer\u955c\u50cf","text":"<p><pre><code>server:\n  image: \"docker.1panel.live/aronic/trace-agent:20241214-8\"\n</code></pre> NovaServer\u7684\u955c\u50cf\u3002</p>"},{"location":"getting-started/install/kubernetes/#_2","title":"\u8d44\u6e90","text":"<p><pre><code>server:\n    resources:\n      limits:\n        cpu: 2\n        memory: 2Gi\n      requests:\n        cpu: 100m\n        memory: 100Mi\n</code></pre> nova Agent\u7684limit/request\u8d44\u6e90\uff0c\u53ef\u4ee5\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u4fee\u6539\u3002</p>"},{"location":"getting-started/install/kubernetes/#_3","title":"\u989d\u5916\u542f\u52a8\u53c2\u6570","text":"<p><pre><code>server:\n  extraArgs: {}\n</code></pre> nova\u7684\u989d\u5916\u542f\u52a8\u53c2\u6570\uff0c\u6bd4\u5982\u5e0c\u671b\u4fee\u6539\u914d\u7f6e\u4f7f\u7528debug\u7684\u65e5\u5fd7\u7ea7\u522b\uff0c\u4e0d\u4f7f\u7528json\u683c\u5f0f\u7684\u65e5\u5fd7\u6253\u5370\u5f62\u5f0f\uff0c\u53ef\u4ee5\u4fee\u6539\u4e3a: <pre><code>server:\n    extraArgs:\n      log.level: debug\n      log.jsonFormat: false\n</code></pre></p>"},{"location":"getting-started/install/kubernetes/#_4","title":"\u8c03\u5ea6","text":"<p><pre><code>server:\n    nodeSelector: {}\n\n    affinity: {}\n    # podAntiAffinity:\n    #   requiredDuringSchedulingIgnoredDuringExecution:\n    #   - labelSelector:\n    #       matchExpressions:\n    #       - key: app\n    #         operator: In\n    #         values:\n    #         - nova\n    #     topologyKey: \"kubernetes.io/hostname\"\n</code></pre> \u53ef\u4f7f\u7528nodeSelector\u548caffinity\u6765\u63a7\u5236novaServer Pod\u7684\u8c03\u5ea6\uff0c\u5177\u4f53\u8bf7\u53c2\u8003Kubernetes\u6587\u6863\u3002</p> <p><pre><code>tolerations: []\n# - effect: NoExecute\n#   operator: Exists\n# - effect: NoSchedule\n#   operator: Exists\n</code></pre> \u5982\u679c\u8282\u70b9\u6709\u81ea\u5df1\u7684taints\uff0c\u4f1a\u5bfc\u81f4nova Pod\u65e0\u6cd5\u8c03\u5ea6\u5230\u8be5\u8282\u70b9\uff0c\u5982\u679c\u9700\u8981\u5ffd\u7565taints\uff0c\u53ef\u4ee5\u52a0\u4e0a\u5bf9\u5e94\u7684tolerations\u3002</p>"},{"location":"getting-started/install/kubernetes/#_5","title":"\u66f4\u65b0\u7b56\u7565","text":"<p><pre><code>updateStrategy:\n  type: RollingUpdate\n</code></pre> \u53ef\u4e3a<code>RollingUpdate</code>\u6216\u8005<code>OnDelete</code>\u3002</p>"},{"location":"getting-started/install/kubernetes/#_6","title":"\u5168\u5c40\u914d\u7f6e","text":"<p><pre><code>  app:\n  aes_key: \"6c84fb94eb046c0876f98777be46d6be\"\n  debug: true\n  server:\n    address: \":8080\"\n    openapiPath: \"/api.json\"\n    swaggerPath: \"/swagger\"\n  grpc:\n    address: \":10050\"\n    server_list:\n      - 127.0.0.1:10051\n      - 127.0.0.1:10052\n      - 127.0.0.1:10053\n\n  closeToken: true\n  logger:\n    level: \"all\"\n    stdout: true\n\n  database:\n    default:\n      link:    \"mysql:root:root@tcp(localhost:3306)/deep_observe?loc=Local&amp;parseTime=true\"\n      charset: \"utf8mb4\"\n      debug: \"true\"\n      dryRun: \"false\"\n      maxIdle:  \"10\"\n      maxOpen:  \"10\"\n      maxLifetime:  \"30\"\n      type: mysql\n    clickhouse:\n      link: \"clickhouse:default:asd1234567@@tcp(81.71.98.26:9090)/otel\"\n      debug: true\n\n  trace-database:\n    username: \"default\"\n    password: \"asd1234567@\"\n    database: \"otel\"\n    type: \"clickhouse\"\n    networks:\n      - host: \"localhost\"\n        port: 9090\n</code></pre> \u5177\u4f53\u53c2\u6570\u8bf4\u660e\u53ef\u53c2\u8003\u7ec4\u4ef6\u914d\u7f6e\u3002</p>"},{"location":"getting-started/install/kubernetes/#service","title":"service","text":"<p>\u5982\u679cnovaServer\u5e0c\u671b\u63a5\u6536\u5176\u4ed6\u670d\u52a1\u53d1\u9001\u7684\u6570\u636e\uff0c\u9700\u8981\u5c06\u81ea\u8eab\u7684\u670d\u52a1\u901a\u8fc7service\u66b4\u9732\u51fa\u6765\u3002</p> <p>\u6b63\u5e38\u60c5\u51b5\u4e0b\uff0c\u4f7f\u7528Agent\u6a21\u5f0f\u7684nova\u53ea\u9700\u8981\u66b4\u9732\u81ea\u8eab\u7ba1\u7406\u7aef\u53e3\u3002</p> <pre><code>server:\n    servicePorts:\n      - name: nova-server\n        port: 8080\n        targetPort: 8080\n</code></pre>"},{"location":"getting-started/install/kubernetes/#novaagent","title":"NovaAgent","text":""},{"location":"getting-started/install/kubernetes/#novaagent_1","title":"NovaAgent\u955c\u50cf","text":"<p>NovaTrace \u548c NovaCollector \u5171\u540c\u4f7f\u7528\u540c\u4e00\u4e2a\u955c\u50cf\u3002 <pre><code>agent:\n  image: \"docker.1panel.live/aronic/trace-agent:20241214-8\"\n</code></pre> NovaAgent\u7684\u955c\u50cf\u3002</p>"},{"location":"getting-started/install/kubernetes/#novatrace","title":"NovaTrace","text":""},{"location":"getting-started/install/kubernetes/#_7","title":"\u8d44\u6e90","text":"<p><pre><code>trace:\n    resources:\n      limits:\n        cpu: 2\n        memory: 2Gi\n      requests:\n        cpu: 100m\n        memory: 100Mi\n</code></pre> nova Agent\u7684limit/request\u8d44\u6e90\uff0c\u53ef\u4ee5\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u4fee\u6539\u3002</p>"},{"location":"getting-started/install/kubernetes/#_8","title":"\u989d\u5916\u542f\u52a8\u53c2\u6570","text":"<p><pre><code>trace:\n  extraArgs: {}\n</code></pre> nova\u7684\u989d\u5916\u542f\u52a8\u53c2\u6570\uff0c\u6bd4\u5982\u5e0c\u671b\u4fee\u6539\u914d\u7f6e\u4f7f\u7528debug\u7684\u65e5\u5fd7\u7ea7\u522b\uff0c\u4e0d\u4f7f\u7528json\u683c\u5f0f\u7684\u65e5\u5fd7\u6253\u5370\u5f62\u5f0f\uff0c\u53ef\u4ee5\u4fee\u6539\u4e3a: <pre><code>trace:\n    extraArgs:\n      log.level: debug\n      log.jsonFormat: false\n</code></pre></p>"},{"location":"getting-started/install/kubernetes/#_9","title":"\u8c03\u5ea6","text":"<p><pre><code>trace:\n    nodeSelector: {}\n\n    affinity: {}\n    # podAntiAffinity:\n    #   requiredDuringSchedulingIgnoredDuringExecution:\n    #   - labelSelector:\n    #       matchExpressions:\n    #       - key: app\n    #         operator: In\n    #         values:\n    #         - nova\n    #     topologyKey: \"kubernetes.io/hostname\"\n</code></pre> \u53ef\u4f7f\u7528nodeSelector\u548caffinity\u6765\u63a7\u5236novaServer Pod\u7684\u8c03\u5ea6\uff0c\u5177\u4f53\u8bf7\u53c2\u8003Kubernetes\u6587\u6863\u3002</p> <p><pre><code>trace:\n  tolerations: []\n# - effect: NoExecute\n#   operator: Exists\n# - effect: NoSchedule\n#   operator: Exists\n</code></pre> \u5982\u679c\u8282\u70b9\u6709\u81ea\u5df1\u7684taints\uff0c\u4f1a\u5bfc\u81f4nova Pod\u65e0\u6cd5\u8c03\u5ea6\u5230\u8be5\u8282\u70b9\uff0c\u5982\u679c\u9700\u8981\u5ffd\u7565taints\uff0c\u53ef\u4ee5\u52a0\u4e0a\u5bf9\u5e94\u7684tolerations\u3002</p>"},{"location":"getting-started/install/kubernetes/#_10","title":"\u66f4\u65b0\u7b56\u7565","text":"<p><pre><code>trace:\n    updateStrategy:\n      type: RollingUpdate\n</code></pre> \u53ef\u4e3a<code>RollingUpdate</code>\u6216\u8005<code>OnDelete</code>\u3002</p>"},{"location":"getting-started/install/kubernetes/#trace","title":"Trace\u5168\u5c40\u914d\u7f6e","text":"<p><pre><code>{\n  \"cluster\": \"default\",\n  \"company_uuid\": \"e902c1e84b9f9b12bdf22936603acfda\",\n  \"node_report_addr\": {\n    \"host\": \"81.71.98.26\",\n    \"port\": 10050\n  },\n  \"sampling_period\": 2,\n  \"oltp_exporter_addr\": {\n    \"host\": \"81.71.98.26\",\n    \"port\": 4317\n  },\n  \"k8s_cri_unix_domain_socket\": \"/run/containerd/containerd.sock\",\n  \"log_level\": \"debug\",\n  \"log_file\": \"/tmp/trace-agent.log\",\n  \"prometheus_exposer_addr\": \"0.0.0.0:8000\"\n}\n</code></pre> \u5177\u4f53\u53c2\u6570\u8bf4\u660e\u53ef\u53c2\u8003\u7ec4\u4ef6\u914d\u7f6e\u3002</p>"},{"location":"getting-started/install/kubernetes/#service_1","title":"service","text":"<p>\u5982\u679cnovaServer\u5e0c\u671b\u63a5\u6536\u5176\u4ed6\u670d\u52a1\u53d1\u9001\u7684\u6570\u636e\uff0c\u9700\u8981\u5c06\u81ea\u8eab\u7684\u670d\u52a1\u901a\u8fc7service\u66b4\u9732\u51fa\u6765\u3002</p> <p>\u6b63\u5e38\u60c5\u51b5\u4e0b\uff0c\u4f7f\u7528Agent\u6a21\u5f0f\u7684nova\u53ea\u9700\u8981\u66b4\u9732\u81ea\u8eab\u7ba1\u7406\u7aef\u53e3\u3002</p> <pre><code>trace:\n    servicePorts:\n      - name: nova-trace-agent\n        port: 11800\n        targetPort: 11800\n</code></pre>"},{"location":"getting-started/install/kubernetes/#novacollector","title":"NovaCollector","text":""},{"location":"getting-started/install/kubernetes/#_11","title":"\u8d44\u6e90","text":"<p><pre><code>collector:\n    resources:\n      limits:\n        cpu: 2\n        memory: 2Gi\n      requests:\n        cpu: 100m\n        memory: 100Mi\n</code></pre> nova Agent\u7684limit/request\u8d44\u6e90\uff0c\u53ef\u4ee5\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u4fee\u6539\u3002</p>"},{"location":"getting-started/install/kubernetes/#_12","title":"\u989d\u5916\u542f\u52a8\u53c2\u6570","text":"<p><pre><code>collector:\n  extraArgs: {}\n</code></pre> nova\u7684\u989d\u5916\u542f\u52a8\u53c2\u6570\uff0c\u6bd4\u5982\u5e0c\u671b\u4fee\u6539\u914d\u7f6e\u4f7f\u7528debug\u7684\u65e5\u5fd7\u7ea7\u522b\uff0c\u4e0d\u4f7f\u7528json\u683c\u5f0f\u7684\u65e5\u5fd7\u6253\u5370\u5f62\u5f0f\uff0c\u53ef\u4ee5\u4fee\u6539\u4e3a: <pre><code>collector:\n    extraArgs:\n      log.level: debug\n      log.jsonFormat: false\n</code></pre></p>"},{"location":"getting-started/install/kubernetes/#_13","title":"\u8c03\u5ea6","text":"<p><pre><code>collector:\n    nodeSelector: {}\n\n    affinity: {}\n    # podAntiAffinity:\n    #   requiredDuringSchedulingIgnoredDuringExecution:\n    #   - labelSelector:\n    #       matchExpressions:\n    #       - key: app\n    #         operator: In\n    #         values:\n    #         - nova\n    #     topologyKey: \"kubernetes.io/hostname\"\n</code></pre> \u53ef\u4f7f\u7528nodeSelector\u548caffinity\u6765\u63a7\u5236novaServer Pod\u7684\u8c03\u5ea6\uff0c\u5177\u4f53\u8bf7\u53c2\u8003Kubernetes\u6587\u6863\u3002</p> <p><pre><code>collector:\n  tolerations: []\n# - effect: NoExecute\n#   operator: Exists\n# - effect: NoSchedule\n#   operator: Exists\n</code></pre> \u5982\u679c\u8282\u70b9\u6709\u81ea\u5df1\u7684taints\uff0c\u4f1a\u5bfc\u81f4nova Pod\u65e0\u6cd5\u8c03\u5ea6\u5230\u8be5\u8282\u70b9\uff0c\u5982\u679c\u9700\u8981\u5ffd\u7565taints\uff0c\u53ef\u4ee5\u52a0\u4e0a\u5bf9\u5e94\u7684tolerations\u3002</p>"},{"location":"getting-started/install/kubernetes/#_14","title":"\u66f4\u65b0\u7b56\u7565","text":"<p><pre><code>collector:\n    updateStrategy:\n      type: RollingUpdate\n</code></pre> \u53ef\u4e3a<code>RollingUpdate</code>\u6216\u8005<code>OnDelete</code>\u3002</p>"},{"location":"getting-started/install/kubernetes/#collector","title":"Collector\u5168\u5c40\u914d\u7f6e","text":"<p><pre><code>{\n  \"cluster\": \"default\",\n  \"company_uuid\": \"e902c1e84b9f9b12bdf22936603acfda\",\n  \"node_report_addr\": {\n    \"host\": \"81.71.98.26\",\n    \"port\": 10050\n  },\n  \"sampling_period\": 2,\n  \"oltp_exporter_addr\": {\n    \"host\": \"81.71.98.26\",\n    \"port\": 4317\n  },\n  \"k8s_cri_unix_domain_socket\": \"/run/containerd/containerd.sock\",\n  \"log_level\": \"debug\",\n  \"log_file\": \"/tmp/trace-agent.log\",\n  \"prometheus_exposer_addr\": \"0.0.0.0:8000\"\n}\n</code></pre> \u5177\u4f53\u53c2\u6570\u8bf4\u660e\u53ef\u53c2\u8003\u7ec4\u4ef6\u914d\u7f6e\u3002</p>"},{"location":"getting-started/install/kubernetes/#nova_1","title":"Nova\u90e8\u7f72","text":"<p>\u521d\u6b21\u90e8\u7f72\uff0c\u6211\u4eec\u6307\u5b9a\u90e8\u7f72\u5728<code>nova</code> namespace\u4e0b\uff0c\u5e76\u8ba9helm\u81ea\u52a8\u521b\u5efa\u8be5namespace\u3002 <pre><code>helm install nova ./ -nnova --create-namespace\n</code></pre></p> <p>\u5982\u679c\u4f60\u7684\u73af\u5883\u4e2d\u5df2\u7ecf\u521b\u5efa\u4e86<code>nova</code> namespace\uff0c\u53ef\u4ee5\u5ffd\u7565\u5176\u4e2d\u7684<code>-nnova</code>\u548c<code>--create-namespace</code>\u53c2\u6570\u3002\u5f53\u7136\uff0c\u4f60\u4e5f\u53ef\u4ee5\u4f7f\u7528\u81ea\u5df1\u7684namespace\uff0c\u5c06\u5176\u4e2d<code>nova</code>\u66ff\u6362\u5373\u53ef\u3002  </p>"},{"location":"getting-started/install/kubernetes/#_15","title":"\u67e5\u770b\u90e8\u7f72\u72b6\u6001","text":"<p>\u6267\u884c\u5b8c\u540e\uff0c\u901a\u8fc7\u4f7f\u7528helm\u547d\u4ee4\u6765\u67e5\u770b\u90e8\u7f72\u72b6\u6001\uff1a <pre><code>helm list -nnova\n</code></pre> \u7c7b\u4f3c\u5982\u4e0b\u6240\u793a\uff1a <pre><code>NAME    NAMESPACE   REVISION    UPDATED                                 STATUS      CHART           APP VERSION\nnova    nova    1           2021-11-30 18:06:16.976334232 +0800 CST deployed    nova-v0.1.0 v0.1.0\n</code></pre></p> <p>\u540c\u65f6\u4e5f\u53ef\u4ee5\u901a\u8fc7kubectl\u547d\u4ee4\u67e5\u770bPod\u662f\u5426\u5df2\u7ecf\u88ab\u521b\u5efa\u3002 <pre><code>kubectl -nnova get po\n</code></pre> \u7c7b\u4f3c\u5982\u4e0b\u6240\u793a\uff1a <pre><code>nova-sxxwh   1/1     Running   0          5m21s   10.244.0.5   kind-control-plane   &lt;none&gt;           &lt;none&gt;\n</code></pre></p>"},{"location":"getting-started/install/node/","title":"\u4e3b\u673a\u90e8\u7f72","text":""},{"location":"getting-started/install/node/#novaserver","title":"NovaServer","text":"<p>Server\u4f7f\u7528Golang\u7f16\u8bd1\u6210\u4e8c\u8fdb\u5236\uff0c\u53ef\u6839\u636e\u81ea\u8eab\u9700\u6c42\u5bf9\u63a5\u5404\u7c7b\u90e8\u7f72\u7cfb\u7edf\u3002 \u8fd9\u91cc\u6211\u4eec\u63d0\u4f9b\u4e00\u4e2a\u4f7f\u7528systemd\u90e8\u7f72NovaServer\u7684\u53c2\u8003\u3002  </p>"},{"location":"getting-started/install/node/#_2","title":"\u524d\u7f6e\u68c0\u67e5","text":"<ul> <li>\u64cd\u4f5c\u7cfb\u7edf\uff1aLinux</li> <li>\u7cfb\u7edf\u67b6\u6784\uff1aamd64</li> <li>\u53d1\u884c\u7248\u652f\u6301systemd</li> </ul> <p>\u76ee\u524drelease\u4ec5\u5305\u542bGOOS=linux GOARCH=amd64\u751f\u6210\u7684\u4e8c\u8fdb\u5236\u53ef\u6267\u884c\u6587\u4ef6\u3002\u5176\u4ed6\u7cfb\u7edf\u548c\u67b6\u6784\uff0c\u8bf7\u81ea\u884c\u57fa\u4e8e\u6e90\u7801\u4ea4\u53c9\u7f16\u8bd1\u3002</p>"},{"location":"getting-started/install/node/#_3","title":"\u4e0b\u8f7d\u4e8c\u8fdb\u5236","text":"<pre><code>mkdir -p /opt/nova/server &amp;&amp; curl https://github.com/nova-io/installation/releases/download/v1.2.0/nova-linux-amd64 -o /opt//server/-server &amp;&amp; chmod +x /opt//server/-server\n</code></pre>"},{"location":"getting-started/install/node/#_4","title":"\u6dfb\u52a0\u914d\u7f6e\u6587\u4ef6","text":"<p>\u8bf7\u6839\u636e\u5b9e\u9645\u9700\u6c42\u521b\u5efa\u914d\u7f6e\uff0c\u4ee5\u4e0b\u4e3a\u53c2\u8003\uff1a</p>"},{"location":"getting-started/install/node/#configyml","title":"\u521b\u5efaconfig.yml","text":"<p>config.yml</p> <pre><code>cat &lt;&lt; EOF &gt; /opt/nova/server/config.yml\napp:\n    aes_key: \"6c84fb94eb046c0876f98777be46d6be\"\n    debug: true\n    server:\n    address: \":8080\"\n    openapiPath: \"/api.json\"\n    swaggerPath: \"/swagger\"\n    grpc:\n    address: \":10050\"\n    server_list:\n    - 127.0.0.1:10051\n      - 127.0.0.1:10052\n      - 127.0.0.1:10053\n\n    closeToken: true\n    logger:\n    level: \"all\"\n    stdout: true\n\n\n    database:\n    default:\n    link:    \"mysql:root:root@tcp(localhost:3306)/deep_observe?loc=Local&amp;parseTime=true\"\n    charset: \"utf8mb4\"\n    debug: \"true\"\n    dryRun: \"false\"\n    maxIdle:  \"10\"\n    maxOpen:  \"10\"\n    maxLifetime:  \"30\"\n    type: mysql\n    clickhouse:\n    link: \"clickhouse:default:asd1234567@@tcp(81.71.98.26:9090)/otel\"\n    debug: true\n\n    trace-database:\n    username: \"default\"\n    password: \"asd1234567@\"\n    database: \"otel\"\n    type: \"clickhouse\"\n    networks:\n    - host: \"localhost\"\n    port: 9090\nEOF\n</code></pre>"},{"location":"getting-started/install/node/#_5","title":"\u8fd0\u884c","text":"<p>nova-server</p> <pre><code>nova-server -c config.yaml\n</code></pre>"},{"location":"getting-started/install/node/#systemd","title":"\u6dfb\u52a0systemd\u914d\u7f6e","text":"<pre><code>cat &lt;&lt; EOF &gt; /lib/systemd/system/nova-server.service\n[Unit]\nDescription=NovaServer\n\n[Service]\nMemoryMax=400M\nExecStart=/opt/nova/server/nova-server -c /opt/nova/server/config.yaml\nRestart=always\n\n[Install]\nWantedBy=multi-user.target\nEOF\n</code></pre>"},{"location":"getting-started/install/node/#_6","title":"\u542f\u52a8","text":"<p>\u9996\u5148\u751f\u6548\u914d\u7f6e\uff1a <pre><code>systemctl daemon-reload\n</code></pre></p> <p>\u7136\u540e\u8bbe\u7f6e\u4e3a\u5f00\u673a\u542f\u52a8\uff1a <pre><code>systemctl enable nova-server\n</code></pre></p> <p>\u63a5\u7740\u5c31\u53ef\u4ee5\u6b63\u5f0f\u542f\u52a8NovaServer\u4e86\uff1a</p> <pre><code>systemctl start nova-server\n</code></pre> <p>\u542f\u52a8\u540e\uff0c\u4f60\u53ef\u4ee5\u968f\u65f6\u67e5\u770b\u8fdb\u7a0b\u72b6\u6001\uff1a <pre><code>systemctl status nova-server\n</code></pre></p>"},{"location":"getting-started/install/node/#novatraceserver","title":"NovaTraceServer","text":"<p>TraceServer\u4f7f\u7528Golang\u7f16\u8bd1\u6210\u4e8c\u8fdb\u5236\uff0c\u53ef\u6839\u636e\u81ea\u8eab\u9700\u6c42\u5bf9\u63a5\u5404\u7c7b\u90e8\u7f72\u7cfb\u7edf\u3002 \u8fd9\u91cc\u6211\u4eec\u63d0\u4f9b\u4e00\u4e2a\u4f7f\u7528systemd\u90e8\u7f72NovaTraceServer\u7684\u53c2\u8003\u3002</p>"},{"location":"getting-started/install/node/#_7","title":"\u524d\u7f6e\u68c0\u67e5","text":"<ul> <li>\u64cd\u4f5c\u7cfb\u7edf\uff1aLinux</li> <li>\u7cfb\u7edf\u67b6\u6784\uff1aamd64</li> <li>\u53d1\u884c\u7248\u652f\u6301systemd</li> </ul> <p>\u76ee\u524drelease\u4ec5\u5305\u542bGOOS=linux GOARCH=amd64\u751f\u6210\u7684\u4e8c\u8fdb\u5236\u53ef\u6267\u884c\u6587\u4ef6\u3002\u5176\u4ed6\u7cfb\u7edf\u548c\u67b6\u6784\uff0c\u8bf7\u81ea\u884c\u57fa\u4e8e\u6e90\u7801\u4ea4\u53c9\u7f16\u8bd1\u3002</p>"},{"location":"getting-started/install/node/#_8","title":"\u4e0b\u8f7d\u4e8c\u8fdb\u5236","text":"<pre><code>mkdir -p /opt/nova/trace &amp;&amp; curl https://github.com/nova-io/installation/releases/download/v1.2.0/nova-linux-amd64 -o /opt//server/-server &amp;&amp; chmod +x /opt/nova/trace/trace-server\n</code></pre>"},{"location":"getting-started/install/node/#_9","title":"\u6dfb\u52a0\u914d\u7f6e\u6587\u4ef6","text":"<p>\u8bf7\u6839\u636e\u5b9e\u9645\u9700\u6c42\u521b\u5efa\u914d\u7f6e\uff0c\u4ee5\u4e0b\u4e3a\u53c2\u8003\uff1a</p>"},{"location":"getting-started/install/node/#configjson","title":"\u521b\u5efaconfig.json","text":"<p>config.json</p> <pre><code>cat &lt;&lt; EOF &gt; /opt/nova/server/config.yml\n{\n  \"cluster\": \"default\",\n  \"company_uuid\": \"e902c1e84b9f9b12bdf22936603acfda\",\n  \"node_report_addr\": {\n    \"host\": \"81.71.98.26\",\n    \"port\": 10050\n  },\n  \"sampling_period\": 2,\n  \"oltp_exporter_addr\": {\n    \"host\": \"81.71.98.26\",\n    \"port\": 4317\n  },\n  \"k8s_cri_unix_domain_socket\": \"/run/containerd/containerd.sock\",\n  \"log_level\": \"debug\",\n  \"log_file\": \"/tmp/trace-agent.log\",\n  \"prometheus_exposer_addr\": \"0.0.0.0:8000\"\n}\nEOF\n</code></pre>"},{"location":"getting-started/install/node/#_10","title":"\u8fd0\u884c","text":"<p>trace-server</p> <pre><code>trace-server -c config.json\n</code></pre>"},{"location":"getting-started/install/node/#systemd_1","title":"\u6dfb\u52a0systemd\u914d\u7f6e","text":"<pre><code>cat &lt;&lt; EOF &gt; /lib/systemd/system/trace-server.service\n[Unit]\nDescription=NovaServer\n\n[Service]\nMemoryMax=400M\nExecStart=/opt/nova/trace/trace-server -c /opt/nova/trace/config.yaml\nRestart=always\n\n[Install]\nWantedBy=multi-user.target\nEOF\n</code></pre>"},{"location":"getting-started/install/node/#_11","title":"\u542f\u52a8","text":"<p>\u9996\u5148\u751f\u6548\u914d\u7f6e\uff1a <pre><code>systemctl daemon-reload\n</code></pre></p> <p>\u7136\u540e\u8bbe\u7f6e\u4e3a\u5f00\u673a\u542f\u52a8\uff1a <pre><code>systemctl enable nova-server\n</code></pre></p> <p>\u63a5\u7740\u5c31\u53ef\u4ee5\u6b63\u5f0f\u542f\u52a8NovaServer\u4e86\uff1a</p> <pre><code>systemctl start nova-server\n</code></pre> <p>\u542f\u52a8\u540e\uff0c\u4f60\u53ef\u4ee5\u968f\u65f6\u67e5\u770b\u8fdb\u7a0b\u72b6\u6001\uff1a <pre><code>systemctl status nova-server\n</code></pre></p>"},{"location":"getting-started/intro/core-concept/","title":"\u6838\u5fc3\u6982\u5ff5","text":"<p>\u661f\u77bb\u662f\u4e00\u4e2a\u57fa\u4e8eGolang\u548cc++\u7684\u8f7b\u91cf\u7ea7\u3001\u9ad8\u6027\u80fd\u3001\u4e91\u539f\u751f\u53ef\u89c2\u6d4b\u76d1\u63a7\u4ee5\u53ca\u670d\u52a1\u5668\u8d44\u6e90\u8c03\u5ea6\u4f18\u5316\u7cfb\u7edf\uff0c\u7531novaAgent\u548cnovaServer\u4e2d\u95f4\u4ef6\u7ec4\u6210\uff0c\u63d0\u4f9b\u4e86\uff1a</p> <ul> <li> \u4e91\u4e3b\u673aECS\u76d1\u63a7\u4ee5\u53ca\u8d44\u6e90\u7ba1\u63a7\u89e3\u51b3\u65b9\u6848\uff1a\u540c\u65f6\u652f\u6301\u65e5\u5fd7\u91c7\u96c6\u3001Trace\u6570\u636e\u91c7\u96c6\u3001\u57fa\u7840\u8bbe\u65bd\u6307\u6807\u91c7\u96c6\u7b49</li> <li> \u4e91\u539f\u751f\u7684\u76d1\u63a7\u4ee5\u53ca\u8d44\u6e90\u7ba1\u63a7\u89e3\u51b3\u65b9\u6848\uff1a\u5feb\u901f\u4fbf\u6377\u7684\u5bb9\u5668\u65e5\u5fd7\u6307\u6807\u91c7\u96c6\u65b9\u5f0f\uff0c\u81ea\u52a8\u5316\u8c03\u5ea6k8s\u8d44\u6e90\uff0c\u539f\u751f\u7684Kubernetes\u52a8\u6001\u914d\u7f6e\u4e0b\u53d1</li> <li> \u751f\u4ea7\u7ea7\u7684\u7279\u6027\uff1a\u661f\u77bb\u5f62\u6210\u4e86\u5168\u65b9\u4f4d\u7684\u53ef\u89c2\u6d4b\u6027\u3001\u5feb\u901f\u6392\u969c\u3001\u5f02\u5e38\u9884\u8b66\u3001\u81ea\u52a8\u5316\u8d44\u6e90\u7ba1\u63a7</li> </ul>"},{"location":"getting-started/intro/core-concept/#novaagent-","title":"NovaAgent-\u67b6\u6784","text":""},{"location":"getting-started/intro/core-concept/#trace","title":"Trace\u6570\u636e\u6d41","text":"<ul> <li>Source\uff1a\u8f93\u5165\u6e90\uff0c\u8868\u793a\u4e00\u4e2a\u5177\u4f53\u7684\u8f93\u5165\u6e90\uff0c\u4e00\u4e2aPipeline\u53ef\u4ee5\u6709\u591a\u4e2a\u4e0d\u540c\u7684\u8f93\u5165\u6e90\u3002\u6bd4\u5982Skywalking Trace\u6570\u636e\u91c7\u96c6\u6e90\u3002</li> <li>Sink\uff1a\u8f93\u51fa\u6e90\uff0c\u8868\u793a\u4e00\u4e2a\u5177\u4f53\u7684\u8f93\u51fa\u6e90\uff0c\u4e00\u4e2aPipeline\u4ec5\u80fd\u914d\u7f6e\u4e00\u79cd\u7c7b\u578b\u7684\u8f93\u51fa\u6e90\uff0c\u4f46\u662f\u53ef\u4ee5\u6709\u591a\u4e2a\u5e76\u884c\u5b9e\u4f8b\u3002\u6bd4\u5982OpenTelemetry sink\u8868\u793a\u4e3b\u673a\u6307\u6807\u6570\u636e\u5c06\u53d1\u9001\u81f3\u8fdc\u7aef\u7684Otlp\u670d\u52a1\u5668\u3002</li> <li>Interceptor\uff1a\u62e6\u622a\u5668\uff0c\u8868\u793a\u4e00\u4e2aTrace\u6570\u636e\u5904\u7406\u7ec4\u4ef6\uff0c\u4e0d\u540c\u7684\u62e6\u622a\u5668\u6839\u636e\u5b9e\u73b0\u53ef\u4ee5\u8fdb\u884c\u65e5\u5fd7\u7684\u89e3\u6790\u3001\u5207\u5206\u3001\u8f6c\u6362\u3001\u9650\u6d41\u7b49\u3002\u4e00\u4e2aPipeline\u53ef\u4ee5\u6709\u591a\u4e2aInterceptor\uff0c\u6570\u636e\u6d41\u7ecf\u8fc7\u591a\u4e2aInterceptor\u88ab\u94fe\u5f0f\u5904\u7406\u3002</li> <li>Queue\uff1a\u961f\u5217\uff0c\u76ee\u524d\u6709\u5185\u5b58\u961f\u5217\u3002</li> <li>Pipeline\uff1a\u7ba1\u9053\uff0csource/interceptor/queue/sink\u5171\u540c\u7ec4\u6210\u4e86\u4e00\u4e2aPipeline\uff0c\u4e0d\u540c\u7684Pipeline\u6570\u636e\u9694\u79bb\u3002</li> </ul>"},{"location":"getting-started/intro/core-concept/#_2","title":"\u4e3b\u673a\u57fa\u7840\u8bbe\u65bd\u76d1\u63a7","text":"<ul> <li>cgroup\uff1a\u6536\u96c6cgroup\u6570\u636e\u6d89\u53ca\u8bfb\u53d6\u4f4d\u4e8e/sys/fs/cgroup/\u6587\u4ef6\u7cfb\u7edf\u4e2d\u7684\u6587\u4ef6\u3002\u8fd9\u4e2a\u6587\u4ef6\u7cfb\u7edf\u5305\u542b\u4e86\u5173\u4e8e\u4e0d\u540ccgroup\u5b50\u7cfb\u7edf\u7684\u5c42\u6b21\u7ed3\u6784\u4fe1\u606f\u4ee5\u53ca\u6bcf\u4e2acgroup\u7684\u8d44\u6e90\u4f7f\u7528\u60c5\u51b5\u3002 </li> <li>container\uff1a\u6536\u96c6\u4e3b\u673a\u5bb9\u5668\u6570\u636e\uff0c\u91c7\u96c6cpu\u548c\u5185\u5b58\u7b49\u76f8\u5173\u7684\u6570\u636e\u6307\u6807\u3002</li> <li>cpu\uff1a\u6536\u96c6cpu\u4f7f\u7528\u60c5\u51b5\u6570\u636e\uff0c\u4f8b\u5982cpu\u5e73\u53f0\u7279\u6027\u3001cpu\u62d3\u6251\u3001cpu\u4f7f\u7528\u6570\u636e\u3002</li> <li>disk\uff1a\u6536\u96c6\u78c1\u76d8\u4f7f\u7528\u6570\u636e\uff0c\u6bd4\u5982\u78c1\u76d8\u4f7f\u7528\u7387\u3002</li> <li>gpu\uff1a\u6536\u96c6gpu\u4f7f\u7528\u6570\u636e\uff0c\u6bd4\u5982gpu\u89e3\u7801\u7387\uff0cgpu\u4f7f\u7528\u7387\u7b49\u6570\u636e\u3002</li> <li>process\uff1a\u6536\u96c6process\u4f7f\u7528\u6570\u636e\uff0c\u6bd4\u5982\u8fdb\u7a0bcpu\u548c\u5185\u5b58\u7b49\u76f8\u5173\u4f7f\u7528\u60c5\u51b5\u3002</li> <li>\u5176\u4ed6\uff1a\u66f4\u591a\u6307\u6807\u91c7\u96c6\u6b63\u5728\u5f00\u53d1\u4e2d\u3002</li> </ul>"},{"location":"getting-started/intro/core-concept/#novaserver-","title":"NovaServer-\u67b6\u6784","text":"<ul> <li>http\u63a5\u53e3\uff1a\u63d0\u4f9b\u8fdb\u7a0b\u7ba1\u7406\u548c\u6570\u636e\u67e5\u8be2\u63a5\u53e3\u3002</li> <li>grpc\u63a5\u53e3\uff1a\u63d0\u4f9b\u8fdb\u7a0b\u7ba1\u63a7\u548c\u4e3b\u673acpu\u62d3\u6251\u4ee5\u53cacgroup\u62d3\u6251\u6570\u636e\u91c7\u96c6\u63a5\u53e3\u3002</li> </ul>"},{"location":"getting-started/quick-start/kubernetes/","title":"\u5feb\u901f\u4e0a\u624b\uff1a\u91c7\u96c6Kubernetes Pod\u65e5\u5fd7","text":"<p>\u4e0b\u9762\u5c06\u5e26\u4f60\u6f14\u793a\u5728\u4e00\u4e2aKubernetes\u96c6\u7fa4\u4e2d\uff0c\u901a\u8fc7\u521b\u5efaLogConfig CRD\u5feb\u901f\u91c7\u96c6Pod\u7684\u65e5\u5fd7\u3002</p>"},{"location":"getting-started/quick-start/kubernetes/#1-kubernetes","title":"1. \u51c6\u5907Kubernetes\u73af\u5883","text":"<p>\u53ef\u4ee5\u4f7f\u7528\u73b0\u6709Kubernetes\u96c6\u7fa4\uff0c\u6216\u8005\u90e8\u7f72Kubernetes\u3002\u672c\u5730\u63a8\u8350\u4f7f\u7528Kind\u642d\u5efaKubernetes\u96c6\u7fa4\u3002  </p> <p>\u672c\u6587\u7684\u64cd\u4f5c\u9700\u8981\u5728\u672c\u5730\u4f7f\u7528:</p> <ul> <li>kubectl\uff08\u4e0b\u8f7d\uff09</li> <li>helm\uff08\u4e0b\u8f7d\uff09</li> </ul> <p>\u8bf7\u786e\u4fdd\u672c\u5730\u6709kubectl\u548chelm\u53ef\u6267\u884c\u547d\u4ee4\u3002</p>"},{"location":"getting-started/quick-start/kubernetes/#2-loggie-daemonset","title":"2. \u90e8\u7f72Loggie DaemonSet","text":"<p>\u4f60\u53ef\u4ee5\u5728 installation \u9875\u9762\u67e5\u770b\u6240\u6709\u53d1\u5e03\u7684\u90e8\u7f72chart\u3002</p> <p>\u53ef\u4ee5\u9009\u62e9\uff1a</p>"},{"location":"getting-started/quick-start/kubernetes/#chart","title":"\u4e0b\u8f7dchart\u518d\u90e8\u7f72","text":"<p><pre><code>helm pull https://github.com/loggie-io/installation/releases/download/v1.2.0/loggie-v1.2.0.tgz &amp;&amp; tar xvzf loggie-v1.2.0.tgz\n</code></pre> \u5c1d\u8bd5\u4fee\u6539\u4e00\u4e0b\u5176\u4e2d\u7684values.yaml\u3002</p> <p>\u7136\u540e\u90e8\u7f72\u5b89\u88c5\uff1a</p> <pre><code>helm install loggie ./loggie -nloggie --create-namespace\n</code></pre> <p>\u5f53\u7136\u4f60\u4e5f\u53ef\u4ee5\uff1a</p>"},{"location":"getting-started/quick-start/kubernetes/#_1","title":"\u76f4\u63a5\u90e8\u7f72\uff1a","text":"<pre><code>helm install loggie -nloggie --create-namespace https://github.com/loggie-io/installation/releases/download/v1.2.0/loggie-v1.2.0.tgz\n</code></pre> <p>\u60f3\u4f7f\u7528\u5176\u4ed6\u7248\u672c\u955c\u50cf\uff1f</p> <p>\u4e3a\u4e86\u65b9\u4fbf\u4f53\u9a8c\u6700\u65b0\u7684Fix\u548c\u7279\u6027\uff0c\u6211\u4eec\u63d0\u4f9b\u4e86main\u5206\u652f\u6bcf\u6b21\u5408\u5e76\u540e\u7684\u955c\u50cf\u7248\u672c\uff0c\u53ef\u901a\u8fc7 \u8fd9\u91cc \u8fdb\u884c\u9009\u62e9\u3002 \u540c\u65f6\u4f60\u53ef\u4ee5\u5728helm install\u547d\u4ee4\u4e2d\u589e\u52a0<code>--set image=loggieio/loggie:vX.Y.Z</code>\u6765\u6307\u5b9a\u5177\u4f53\u7684Loggie\u955c\u50cf\u3002</p> <p>\u90e8\u7f72\u6709\u95ee\u9898\uff1f</p> <p>\u5982\u679c\u5c1d\u8bd5\u90e8\u7f72\u540e\u51fa\u73b0\u95ee\u9898\uff0c\u6216\u8005\u5728\u4f60\u7684\u73af\u5883\u4e2d\u4ee5\u4e0b\u6f14\u793a\u64cd\u4f5c\u672a\u6210\u529f\uff0c\u8bf7\u53c2\u8003Kubernetes\u4e0b\u90e8\u7f72Loggie\uff0c\u4fee\u6539\u76f8\u5173\u914d\u7f6e\u3002</p>"},{"location":"getting-started/quick-start/kubernetes/#3","title":"3. \u91c7\u96c6\u65e5\u5fd7","text":"<p>Loggie\u5b9a\u4e49\u4e86Kubernetes CRD LogConfig\uff0c\u4e00\u4e2aLogConfig\u8868\u793a\u91c7\u96c6\u4e00\u7c7bPods\u7684\u65e5\u5fd7\u91c7\u96c6\u4efb\u52a1\u3002</p>"},{"location":"getting-started/quick-start/kubernetes/#31-pods","title":"3.1 \u521b\u5efa\u88ab\u91c7\u96c6\u7684Pods","text":"<p>\u6211\u4eec\u5148\u521b\u5efa\u4e00\u4e2aPod\u7528\u4e8e\u88ab\u91c7\u96c6\u65e5\u5fd7\u7684\u5bf9\u8c61\u3002 <pre><code>kubectl create deploy nginx --image=nginx\n</code></pre> \u63a5\u4e0b\u6765\u5c06\u91c7\u96c6\u8fd9\u4e2aNginx Pod\u7684\u6807\u51c6\u8f93\u51fastdout\u65e5\u5fd7\u3002  </p>"},{"location":"getting-started/quick-start/kubernetes/#32-sink","title":"3.2 \u5b9a\u4e49\u8f93\u51fa\u6e90Sink","text":"<p>\u63a5\u7740\uff0c\u6211\u4eec\u521b\u5efa\u4e00\u4e2aLoggie\u5b9a\u4e49\u7684CRD Sink\u5b9e\u4f8b\uff0c\u8868\u660e\u65e5\u5fd7\u53d1\u9001\u7684\u540e\u7aef\u3002 \u4e3a\u4e86\u65b9\u4fbf\u6f14\u793a\uff0c\u8fd9\u91cc\u6211\u4eec\u5c06\u65e5\u5fd7\u53d1\u9001\u81f3Loggie Agent\u81ea\u8eab\u7684\u65e5\u5fd7\u4e2d\u5e76\u6253\u5370\u3002  </p> <pre><code>cat &lt;&lt; EOF | kubectl apply -f -\napiVersion: loggie.io/v1beta1\nkind: Sink\nmetadata:\n  name: default\nspec:\n  sink: |\n    type: dev\n    printEvents: true\nEOF\n</code></pre> <p>\u53ef\u4ee5\u901a\u8fc7<code>kubectl get sink</code>\u67e5\u770b\u5230\u5df2\u521b\u5efa\u7684Sink\u3002</p>"},{"location":"getting-started/quick-start/kubernetes/#33","title":"3.3 \u5b9a\u4e49\u91c7\u96c6\u4efb\u52a1","text":"<p>Loggie\u5b9a\u4e49CRD LogConfig\uff0c\u8868\u793a\u4e00\u4e2a\u65e5\u5fd7\u91c7\u96c6\u4efb\u52a1\u3002\u6211\u4eec\u521b\u5efa\u4e00\u4e2aLogConfig\u793a\u4f8b\u5982\u4e0b\u6240\u793a\uff1a  </p> <pre><code>cat &lt;&lt; EOF | kubectl apply -f -\napiVersion: loggie.io/v1beta1\nkind: LogConfig\nmetadata:\n  name: nginx\n  namespace: default\nspec:\n  selector:\n    type: pod\n    labelSelector:\n      app: nginx\n  pipeline:\n    sources: |\n      - type: file\n        name: mylog\n        paths:\n        - stdout\n    sinkRef: default\nEOF\n</code></pre> <p>\u53ef\u4ee5\u770b\u5230\uff0c\u4e0a\u9762\u4f7f\u7528\u4e86sinkRef\u5f15\u7528\u4e86\u521a\u624d\u521b\u5efa\u7684<code>sink default CR</code>\u3002\u5f53\u7136\uff0c\u6211\u4eec\u8fd8\u53ef\u4ee5\u76f4\u63a5\u5728Logconfig\u4e2d\u4f7f\u7528sink\u5b57\u6bb5\uff0c\u793a\u4f8b\u5982\u4e0b\uff1a</p> <pre><code>cat &lt;&lt; EOF | kubectl apply -f -\napiVersion: loggie.io/v1beta1\nkind: LogConfig\nmetadata:\n  name: nginx\n  namespace: default\nspec:\n  selector:\n    type: pod\n    labelSelector:\n      app: nginx\n  pipeline:\n    sources: |\n      - type: file\n        name: mylog\n        paths:\n        - stdout\n    sink: |\n      type: dev\n      printEvents: true\n      codec:\n        type: json\n        pretty: true\nEOF\n</code></pre> <p>\u521b\u5efa\u5b8c\u4e4b\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528<code>kubectl get lgc</code>\u67e5\u770b\u5230\u521b\u5efa\u7684CRD\u5b9e\u4f8b\u3002</p> <p>\u540c\u65f6\uff0c\u6211\u4eec\u8fd8\u53ef\u4ee5\u901a\u8fc7<code>kubectl describe lgc nginx</code>\u67e5\u770bLogConfig\u7684\u4e8b\u4ef6\uff0c\u4ee5\u83b7\u53d6\u6700\u65b0\u7684\u72b6\u6001\u3002</p> <pre><code>Events:\n  Type    Reason       Age   From                       Message\n  ----    ------       ----  ----                       -------\n  Normal  syncSuccess  52s   loggie/kind-control-plane  Sync type pod [nginx-6799fc88d8-5cb67] success\n</code></pre> <p>\u4e0a\u9762\u7684nginx LogConfig\u901a\u8fc7\u5176\u4e2d\u7684spec.selector\u6765\u5339\u914d\u91c7\u96c6\u54ea\u4e9bPod\u7684\u65e5\u5fd7\uff0c\u8fd9\u91cc\u6211\u4eec\u4f7f\u7528<code>app: nginx</code>\u9009\u62e9\u4e86\u521a\u624d\u521b\u5efa\u7684nginx Pod\u3002 spec.pipeline\u5219\u8868\u793aLoggie\u7684Pipeline\u914d\u7f6e\uff0c\u6211\u4eec\u53ea\u91c7\u96c6\u5bb9\u5668\u6807\u51c6\u8f93\u51fa\u7684\u65e5\u5fd7\uff0c\u6240\u4ee5\u5728paths\u4e2d\u586b\u5199<code>stdout</code>\u5373\u53ef\u3002  </p>"},{"location":"getting-started/quick-start/kubernetes/#4","title":"4. \u67e5\u770b\u65e5\u5fd7","text":"<p>\u9996\u5148\u627e\u5230\u6240\u5728\u7684nginx pod\u8282\u70b9\uff1a <pre><code>kubectl get po -owide -l app=nginx\n</code></pre></p> <p>\u7136\u540e\u6211\u4eec\u627e\u5230\u8be5\u8282\u70b9\u7684Loggie\uff1a <pre><code>kubectl -nloggie get po -owide |grep ${node}\n</code></pre> \u53ef\u4ee5\u901a\u8fc7\uff1a <pre><code>kubectl -nloggie logs -f ${logge-pod}\n</code></pre> \u67e5\u770bLoggie\u6253\u5370\u51fa\u7684\u65e5\u5fd7\uff0c\u91cc\u9762\u5c55\u793a\u4e86\u91c7\u96c6\u5230\u7684nginx\u6807\u51c6\u8f93\u51fa\u65e5\u5fd7\u3002  </p>"},{"location":"getting-started/quick-start/kubernetes/#_2","title":"\u66f4\u591a","text":"<p>\u4e0a\u6587\u53ea\u662f\u4e00\u4e2a\u7b80\u5355\u7684\u5feb\u901f\u6f14\u793a\uff0c\u90e8\u7f72\u51fa\u73b0\u95ee\u9898\u6216\u8005\u60f3\u4e86\u89e3\u66f4\u591aKubernetes\u4e0bLoggie\u5982\u4f55\u4f7f\u7528\uff1f</p> <ul> <li>\u66f4\u5168\u9762\u7684\u90e8\u7f72\u4ecb\u7ecd\uff1aKubernetes\u4e0b\u90e8\u7f72Loggie</li> <li>Kubernetes\u4e0b\u65e5\u5fd7\u91c7\u96c6\u6700\u4f73\u5b9e\u8df5\uff1aKubernetes\u4e0b\u7684\u65e5\u5fd7\u91c7\u96c6</li> </ul>"},{"location":"getting-started/quick-start/node/","title":"\u5feb\u901f\u4e0a\u624b\uff1a\u8282\u70b9\u65e5\u5fd7\u91c7\u96c6","text":"<p>\u4e0b\u9762\u6211\u4eec\u5c06\u6f14\u793a\u4e00\u4e2a\u6700\u7b80\u5355\u7684\u91c7\u96c6\u8282\u70b9\u65e5\u5fd7\u6587\u4ef6\u7684\u573a\u666f\u3002</p>"},{"location":"getting-started/quick-start/node/#1","title":"1. \u4e0b\u8f7d\u53ef\u6267\u884c\u6587\u4ef6","text":"<p>\u8bf7\u627e\u4e00\u53f0Linux\u670d\u52a1\u5668\u8282\u70b9\uff0c\u4e0b\u8f7dLoggie\u4e8c\u8fdb\u5236\u53ef\u6267\u884c\u6587\u4ef6 <pre><code>curl -LJ https://github.com/loggie-io/installation/releases/download/v1.2.0/loggie-linux-amd64 -o loggie\n</code></pre></p>"},{"location":"getting-started/quick-start/node/#2","title":"2. \u6dfb\u52a0\u914d\u7f6e\u6587\u4ef6","text":"<p>\u6211\u4eec\u5148\u4f7f\u7528dev sink\u5c06file source\u91c7\u96c6\u7684\u65e5\u5fd7\u6587\u4ef6\u6253\u5370\u5230\u6807\u51c6\u8f93\u51fa\uff0c\u590d\u5236\u4ee5\u4e0b\u5185\u5bb9\u4e3apipelines.yml\u6587\u4ef6\uff1a</p> pipelines.yml <p><pre><code>cat &lt;&lt; EOF &gt; pipelines.yml\npipelines:\n  - name: demo\n    sources:\n      - type: file\n        name: mylog\n        paths:\n          - \"/var/log/*.log\"\n    sink:\n      type: dev\n      printEvents: true\nEOF\n</code></pre> \u8fd9\u91cc\u6211\u4eec\u521b\u5efa\u4e86\u4e00\u4e2a\u540d\u79f0\u4e3ademo\u7684pipeline\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u4e00\u4e2a\u7c7b\u578b\u4e3afile\u7684source\u8f93\u5165\u6e90\u7ec4\u4ef6\uff0c\u8868\u793a\u9700\u8981\u91c7\u96c6\u5728<code>/var/log</code>\u76ee\u5f55\u4e0b\u6ee1\u8db3<code>*.log</code>\u5339\u914d\u89c4\u5219\u7684\u65e5\u5fd7\u6587\u4ef6\u3002\u6587\u4ef6\u91c7\u96c6\u540e\uff0c\u6587\u4ef6\u4f1a\u88ab\u53d1\u9001\u81f3dev sink\u8f93\u51fa\u6e90\uff0c\u8be5sink\u4ec5\u4ec5\u5c06\u91c7\u96c6\u7684\u6587\u4ef6\u6253\u5370\u5230\u6807\u51c6\u8f93\u51fa\u3002</p> <p>pipeline\u6587\u4ef6\u8868\u793a\u6211\u4eec\u60f3\u8981\u7684\u8f93\u5165\u3001\u8f93\u51fa\u7b49\u4e1a\u52a1\u76f8\u5173\u7684\u914d\u7f6e\uff0c\u9664\u4e86pipeline\u914d\u7f6e\u6587\u4ef6\u5916\uff0cLoggie\u8fd8\u9700\u8981\u6709\u4e00\u4e2a\u5168\u5c40\u7684\u914d\u7f6e\u6587\u4ef6\u3002</p> <pre><code>// loggie.yml\ncat &lt;&lt; EOF &gt; loggie.yml\nloggie:\n  reload:\n    enabled: true\n    period: 10s\nEOF\n</code></pre> <p>\u8fd9\u91cc\u6211\u4eec\u53ea\u5c55\u793a\u4e86\u4e00\u4e2a\u6bd4\u8f83\u7b80\u5355\u7684\u914d\u7f6e\uff0c\u8868\u793a\u6253\u5f00loggie\u7684\u52a8\u6001\u914d\u7f6ereload\u529f\u80fd\uff0c\u540c\u65f6\u95f4\u9694\u68c0\u67e5\u65f6\u95f4\u4e3a10s\u3002</p> <p>\u5728\u8282\u70b9\u4e0a\u589e\u52a0\u4ee5\u4e0a\u4e24\u4e2a\u914d\u7f6e\u6587\u4ef6\u540e\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5f00\u59cb\u542f\u52a8Loggie\u4e86\u3002</p>"},{"location":"getting-started/quick-start/node/#3","title":"3. \u8fd0\u884c","text":"<pre><code>./loggie -config.system=./loggie.yml -config.pipeline=./pipelines.yml -log.jsonFormat=false\n</code></pre> <p>\u542f\u52a8\u53c2\u6570\u91cc\uff0c\u586b\u5165\u4e0a\u9762\u7684loggie.yml\u548cpipelines.yml\u7684\u6587\u4ef6\u8def\u5f84\u3002</p> <p>\u770b\u5230\u6b63\u5e38\u7684\u542f\u52a8\u65e5\u5fd7\u540e\uff0c\u8868\u660eLoggie\u5c31\u5f00\u59cb\u6b63\u5e38\u7684\u5de5\u4f5c\u4e86\u3002\u540c\u65f6\u8282\u70b9/var/log/*.log\u4e0b\u7684\u65e5\u5fd7\u6587\u4ef6\uff0c\u90fd\u4f1a\u88ab\u6253\u5370\u5230\u6807\u51c6\u8f93\u51fa\u3002  </p>"},{"location":"getting-started/quick-start/quick-start/","title":"\u5feb\u901f\u4e0a\u624b","text":"<p>\u4e91\u77bb\u662f\u4e00\u4e2a\u5ba2\u89c2\u6d4b\u76d1\u63a7\u548c\u8d44\u6e90\u8c03\u5ea6\u7cfb\u7edf\uff0c\u5305\u542b\u591a\u4e2aPipeline\u7ba1\u9053\uff0c\u6bcf\u4e2aPipeline\u53c8\u7531Source\u8f93\u5165\u3001Interceptor\u62e6\u622a\u5904\u7406\u548cSink\u8f93\u51fa\u7ec4\u6210\u3002</p> <p>\u57fa\u4e8e\u8fd9\u79cd\u63d2\u4ef6\u5f0f\u8bbe\u8ba1\uff0c\u4e91\u77bb\u5e76\u4e0d\u5c40\u9650\u5728\u5ba2\u89c2\u6d4b\u76d1\u63a7\uff0c\u901a\u8fc7\u914d\u7f6e\u4e0d\u540c\u7684Source/Interceptor/Sink\uff0c\u4e91\u77bb\u53ef\u4ee5\u7ec4\u5408\u5b9e\u73b0\u5404\u79cd\u4e0d\u540c\u7684\u529f\u80fd\u3002</p> <p>\u9009\u62e9\u4f60\u7684\u90e8\u7f72\u73af\u5883\uff1a</p>"},{"location":"getting-started/quick-start/quick-start/#kubernetes","title":"Kubernetes","text":""},{"location":"getting-started/quick-start/quick-start/#_2","title":"\u4e3b\u673a","text":""},{"location":"getting-started/roadmap/roadmap-2022/","title":"2022 Loggie RoadMap","text":""},{"location":"getting-started/roadmap/roadmap-2022/#_1","title":"\u66f4\u591a\u7ec4\u4ef6\u4e0e\u529f\u80fd\u6269\u5c55","text":"<ul> <li>\u6301\u4e45\u5316queue</li> <li>\u6d41\u5904\u7406\u80fd\u529b\uff1a\u805a\u5408\u3001\u8ba1\u7b97\u7b49\uff08\u7c7b\u4f3cpulsar\u7684funtion\uff0c\u6216\u8005\u7406\u89e3\u4e3a\u8f7b\u91cf\u7ea7flink\uff09</li> <li>source: elasticsearch\u3001http</li> <li>sink: file, clickhouse, pulsar, influxdb\u7b49</li> <li>WASM\u5f62\u6001\u652f\u6301\u81ea\u5b9a\u4e49\u65e5\u5fd7\u89e3\u6790\u5904\u7406</li> <li>\u652f\u6301Knative/KEDA\u7b49Serverless\u5f62\u6001\u6269\u7f29\u5bb9\u6307\u6807\uff0c\u5b9e\u73b0\u4e2d\u8f6c\u673a\u89e3\u6790\u5904\u7406\u7684\u81ea\u52a8\u4f38\u7f29</li> </ul>"},{"location":"getting-started/roadmap/roadmap-2022/#_2","title":"\u670d\u52a1\u53d1\u73b0\u4e0e\u914d\u7f6e\u4e2d\u5fc3","text":"<ul> <li>\u4e3b\u673a\u6a21\u5f0f\u7684\u914d\u7f6e\u4e0b\u53d1\uff1a\u652f\u6301Consul, Apollo\u7b49</li> </ul>"},{"location":"getting-started/roadmap/roadmap-2022/#kubernetes","title":"\u4e91\u539f\u751f\u4e0eKubernetes","text":"<ul> <li>\u81ea\u52a8\u6ce8\u5165Loggie sidecar\u5f62\u6001\u652f\u6301</li> <li>opentelemetry\u517c\u5bb9\u4e0e\u652f\u6301</li> </ul>"},{"location":"reference/","title":"Overview","text":""},{"location":"reference/#_1","title":"\u914d\u7f6e","text":"<p>Loggie\u7684\u914d\u7f6e\u4e3b\u8981\u5206\u4e3a\u4e24\u7c7b\uff1a</p>"},{"location":"reference/#_2","title":"\u7cfb\u7edf\u914d\u7f6e","text":"<p>\u5168\u5c40\u7684\u7cfb\u7edf\u914d\u7f6e\uff0c\u542f\u52a8\u53c2\u6570\u4e2d\u4f7f\u7528<code>-config.system</code>\u6307\u5b9a\uff0c\u5305\u542b\u5982\u4e0b\uff1a</p> <ul> <li>monitor1: \u76d1\u63a7\u76f8\u5173\u7684\u914d\u7f6e</li> <li>discovery: \u670d\u52a1\u53d1\u73b0\u4e0e\u914d\u7f6e\u4e0b\u53d1</li> <li>reload: \u52a8\u6001\u914d\u7f6e\u70ed\u52a0\u8f7d</li> <li>defaults: \u5168\u5c40\u9ed8\u8ba4\u914d\u7f6e</li> <li>http: \u7ba1\u7406\u548c\u76d1\u63a7\u4f7f\u7528\u7684http\u7aef\u53e3</li> </ul> loggie.yml <pre><code># loggie.yml\nloggie:\n  monitor:\n    logger:\n      period: 30s\n      enabled: true\n    listeners:\n      filesource: ~\n      filewatcher: ~\n      reload: ~\n      sink: ~\n\n  discovery:\n    enabled: true\n    kubernetes:\n      fields:\n        container.name: containername\n        logConfig: logconfig\n        namespace: namespace\n        node.name: nodename\n        pod.name: podname\n\n  reload:\n    enabled: true\n    period: 10s\n\n  defaults:\n    sink:\n      type: dev\n    sources:\n      - type: file\n        watcher:\n          cleanFiles:\n            maxHistory: 1\n  http:\n    enabled: true\n    port: 9196\n</code></pre>"},{"location":"reference/#pipeline","title":"Pipeline\u914d\u7f6e","text":"<p>Pipeline\u7684\u914d\u7f6e\uff0c\u901a\u8fc7\u542f\u52a8\u53c2\u6570<code>-config.pipeline</code>\u6307\u5b9a\u3002\u8868\u793a\u961f\u5217\u4f7f\u7528\u7684Source\u3001Sink\u3001Queue\u548cInterceptor\u3002</p> <ul> <li>Source: \u6bcf\u4e2aPipeline\u53ef\u914d\u7f6e\u591a\u4e2aSource</li> <li>Interceptor: \u6bcf\u4e2aPipeline\u53ef\u914d\u7f6e\u591a\u4e2aInterceptor</li> <li>Sink: \u6bcf\u4e2aPipeline\u53ef\u914d\u7f6e\u4e00\u4e2aSink</li> <li>Queue: \u9ed8\u8ba4\u4e3achannel\u961f\u5217\uff0c\u4e00\u822c\u65e0\u9700\u914d\u7f6e</li> </ul> pipeline.yml <pre><code>pipelines:\n- name: demo # pipeline name\u5fc5\u586b\n  sources:\n    - type: ${sourceType}\n      name: access # source\u4e2dname\u5fc5\u586b\n      ...\n  interceptors:\n  - type: ${interceptorType}\n    ...\n  sink:\n    type: ${sinkType}\n    ...\n</code></pre>"},{"location":"reference/#kubernetes-crd","title":"Kubernetes CRD","text":"<p>Loggie\u5b9a\u4e49\u4e86\u4ee5\u4e0b\u51e0\u4e2aCRD\u7528\u4e8e\u5728Kubernetes\u96c6\u7fa4\u73af\u5883\u91cc\u4e0b\u53d1\u914d\u7f6e\uff1a  </p> <ul> <li> <p>LogConfig\uff1anamespace\u7ea7\u522b\uff0c\u8868\u793a\u4e00\u4e2aPipeline\u914d\u7f6e\uff0c\u53ef\u7528\u4e8e\u91c7\u96c6Pods\u7684\u5bb9\u5668\u65e5\u5fd7\u3002  </p> </li> <li> <p>ClusterLogConfig\uff1acluster\u7ea7\u522b\uff0c\u8868\u793a\u4e00\u4e2aPipeline\u914d\u7f6e\uff0c\u5305\u62ec\u96c6\u7fa4\u7ea7\u522b\u7684\u8de8Namespace\u91c7\u96c6Pod\u5bb9\u5668\u65e5\u5fd7\uff0c\u91c7\u96c6Node\u8282\u70b9\u4e0a\u7684\u65e5\u5fd7\uff0c\u4ee5\u53ca\u4e3a\u67d0\u4e2aLoggie\u96c6\u7fa4\u4e0b\u53d1\u901a\u7528\u7684pipeline\u914d\u7f6e\u3002</p> </li> <li> <p>Sink\uff1acluster\u7ea7\u522b\uff0c\u8868\u793a\u4e00\u4e2asink\u914d\u7f6e\uff0c\u53ef\u4ee5\u5728LogConfig/ClusterLogConfig\u4e2d\u5f15\u7528\u8be5Sink\u3002  </p> </li> <li> <p>Interceptors\uff1acluster\u7ea7\u522b\uff0c\u8868\u793a\u4e00\u4e2ainterceptors\u7ec4\uff0c\u53ef\u4ee5\u5728LogConfig\u4e2d\u5f15\u7528\u8be5interceptors\u7ec4\u3002  </p> </li> </ul> <p>Note</p> <p>ClusterLogConfig/LogConfig\u4e2d\u7684pipeline\u53ef\u4ee5\u5b9a\u4e49sink\u548cinterceptor\uff0c\u7528\u4e8e\u8be5pipeline\u7684sink/interceptor\u3002 \u5982\u679c\u4f60\u5e0c\u671b\u5728\u591a\u4e2aClusterLogConfig/LogConfig\u4e2d\u590d\u7528sink\u6216\u8005interceptor\uff0c\u53ef\u4ee5\u521b\u5efaSink/Interceptor CR\uff0c\u5728ClusterLogConfig/LogConfig\u4e2d\u4f7f\u7528sinkRef/interceptorRef\u8fdb\u884c\u5f15\u7528\u3002</p>"},{"location":"reference/nova-server/build/","title":"\u7f16\u8bd1\u6784\u5efa","text":""},{"location":"reference/nova-server/build/#_2","title":"\u6301\u4e45\u5316\u5f15\u64ce\u9009\u62e9","text":"<p>NovaServer\u4f7f\u7528golang\u7684go mod\u8fdb\u884c\u5305\u7ba1\u7406\uff0c\u7f16\u8bd1\u3002</p>"},{"location":"reference/nova-server/build/#_3","title":"\u5bb9\u5668\u955c\u50cf\u6784\u5efa","text":"<p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cNova\u7684\u4f1a\u7ed9\u6240\u6709\u7684main\u5206\u652f\u6784\u5efa\u955c\u50cf\uff0c\u5e76\u63a8\u9001\u5230dockerhub\u4e0a\u3002\u4f46\u662f\u4ecedockerhub\u4e0a\u62c9\u955c\u50cf\u53ef\u80fd\u5b58\u5728\u88ab\u9650\u6d41\u7b49\u95ee\u9898\uff0c\u6240\u4ee5\u63a8\u8350\u5927\u5bb6\u81ea\u884c\u6784\u5efa\u955c\u50cf\uff0c\u6216\u8005\u91cd\u65b0\u63a8\u9001\u5230\u81ea\u5df1\u7684\u955c\u50cf\u4ed3\u5e93\u4e2d\u3002</p> <p>Nova\u9879\u76ee\u4e0b\u63d0\u4f9b\u4e86\u4e24\u4e2aDockerfile:</p> <ul> <li>Dockerfile\uff1a\u9ed8\u8ba4\u7684dockerfile\uff0c\u4f7f\u7528\u4e86sqlite\uff0c\u6240\u4ee5\u4e5f\u4f1a\u4f7f\u7528CGO\u6784\u5efa</li> <li>Dockerfile.badger\uff1a\u53ef\u5728docker build\u7684\u65f6\u5019\u4f7f\u7528<code>-f</code>\u53c2\u6570\u6307\u5b9a\u4f7f\u7528\u8be5dockerfile\uff0c\u5176\u4e2d\u4f7f\u7528\u4e86badger\u4f5c\u4e3a\u6301\u4e45\u5316\u5f15\u64ce\uff0c\u5b58\u7cb9\u7684Golang\uff0c\u65e0CGO\u3002</li> </ul> <p>\u9664\u4e86\u4f7f\u7528docker build\u5916\uff0c\u8fd8\u53ef\u4f7f\u7528make\u6765\u6784\u5efa\uff1a <pre><code>make image TAG=xxx\n</code></pre> \u63a8\u9001\u955c\u50cf\uff1a <pre><code>make image.push TAG=v1.x.x\n</code></pre></p> <p>\u591a\u67b6\u6784</p> <p>NovaServer\u9879\u76ee\u4e2d\u7684Dockerfile\u5747\u652f\u6301\u591a\u67b6\u6784\u7684\u6784\u5efa\u3002dockerhub\u4e0a\u7684Nova\u955c\u50cf\u4e3aamd64\u548carm64\u7684\u591a\u67b6\u6784\uff0c\u62c9\u53d6\u65f6\u4f1a\u81ea\u52a8\u8bc6\u522b\u672c\u5730\u67b6\u6784\u3002</p> <p>\u4e0d\u8fc7\u5982\u679c\u4f60\u5e0c\u671b\u4fee\u6539tag\u5e76\u91cd\u65b0\u63a8\u5230\u81ea\u5df1\u7684\u4ed3\u5e93\uff0c\u8bf7\u52ff\u76f4\u63a5docker pull &amp; docker tag &amp; docker push\uff0c\u8fd9\u4f1a\u53eapush\u4f60\u672c\u5730\u67b6\u6784\u7684\u955c\u50cf\uff0c\u5bfc\u81f4\u4ed3\u5e93\u4e2d\u7684\u955c\u50cf\u591a\u67b6\u6784\u5931\u6548\u3002 \u5982\u679c\u5e0c\u671b\u63a8\u9001\u591a\u67b6\u6784\u955c\u50cf\u5230\u81ea\u5df1\u7684\u4ed3\u5e93\uff0c\u53ef\u4f7f\u7528\u5176\u4ed6\u7684\u4e00\u4e9b\u5f00\u6e90\u5de5\u5177\uff0c\u6bd4\u5982regctl\uff0c\u53ef\u5728\u672c\u5730\u4f7f\u7528\u7c7b\u4f3c<code>regctl image copy loggieio/loggie:xxx &lt;YourRepoImage&gt;</code>\u7684\u547d\u4ee4\u6765\u63a8\u9001\u3002</p> <p>\u5982\u679c\u63a5\u5165\u81ea\u5df1\u7684\u6784\u5efa\u6d41\u7a0b\u6216\u8005\u5de5\u5177\uff0c\u53ef\u4ee5\u4fee\u6539\u914d\u7f6e\u6587\u4ef6hack/config.yaml</p> <pre><code>gfcli:\n  docker:\n    build: \"-a amd64 -s linux -p temp -ew\"\n    tagPrefixes:\n      - my.image.pub/my-app\n</code></pre> <p>\u53c2\u8003\u5730\u5740:</p> <pre><code>https://goframe.org/docs/cli/docker\n</code></pre>"},{"location":"reference/nova-server/build/#_4","title":"\u4e8c\u8fdb\u5236\u6784\u5efa","text":"<p>\u4e8c\u8fdb\u5236\u53ef\u7528\u4e8e\u5728\u4e3b\u673a\u90e8\u7f72\u7684\u573a\u666f\u3002\u8fdb\u5165cmd/manager\u4e0b\u9762\u4f7f\u7528</p> <ul> <li>build:   <pre><code>make build\n</code></pre></li> </ul>"},{"location":"reference/nova-server/config/","title":"\u540e\u7aef\u914d\u7f6e","text":"<p>\u4e00\u4e2aPipeline\u5bf9\u5e94\u4e00\u4e2aSink\u3002</p> <pre><code>Concurrency\u76f8\u5173\u914d\u7f6e\u4f7f\u7528\u53ef\u53c2\u7167[\u81ea\u9002\u5e94sink\u6d41\u91cf\u63a7\u5236](../../../user-guide/best-practice/concurrency.md)\u3002\n</code></pre>"},{"location":"reference/nova-server/config/#server","title":"\u540e\u7aefServer\u901a\u7528\u914d\u7f6e","text":"<p>Example</p> <pre><code>app:\n    aes_key: \"6c84fb94eb046c0876f98777be46d6be\"\n    debug: true\nserver:\n    address: \":8080\"\n    openapiPath: \"/api.json\"\n    swaggerPath: \"/swagger\"\ngrpc:\n    address: \":10050\"\n    server_list:\n        - 127.0.0.1:10051\n        - 127.0.0.1:10052\n        - 127.0.0.1:10053\n\ncloseToken: true\nlogger:\n    level: \"all\"\n    stdout: true\n\ndatabase:\n    default:\n        link:    \"mysql:root:root@tcp(localhost:3306)/deep_observe?loc=Local&amp;parseTime=true\"\n        charset: \"utf8mb4\" #\u6570\u636e\u5e93\u7f16\u7801\n        debug: \"true\"\n        dryRun: \"false\"\n        maxIdle:  \"10\"\n        maxOpen:  \"10\"\n        maxLifetime:  \"30\"\n        type: mysql\nclickhouse:\n    link: \"clickhouse:default:asd1234567@@tcp(81.71.98.26:9090)/otel\"\n    debug: true\n</code></pre>"},{"location":"reference/nova-server/config/#app","title":"app","text":"<pre><code>|    `\u5b57\u6bb5`   |    `\u7c7b\u578b`    |  `\u662f\u5426\u5fc5\u586b`  |  `\u9ed8\u8ba4\u503c`  |  `\u542b\u4e49`  |\n| ---------- | ----------- | ----------- | --------- | -------- |\n| aes_key | string  |    \u5fc5\u586b    |   1  | \u767b\u5f55\u4fe1\u606f\u52a0\u5bc6\u79d8\u94a5 |\n| debug | boolean  |    \u975e\u5fc5\u586b    |   false  | \u662f\u5426\u5f00\u542f\u6536\u96c6\u5668grpc\u7684debug\u6a21\u5f0f |\n</code></pre>"},{"location":"reference/nova-server/config/#server_1","title":"server","text":"<pre><code>|    `\u5b57\u6bb5`   |    `\u7c7b\u578b`    |  `\u662f\u5426\u5fc5\u586b`  |  `\u9ed8\u8ba4\u503c`  |  `\u542b\u4e49`  |\n| ---------- | ----------- | ----------- | --------- | -------- |\n| address |   |    \u5fc5\u586b    |    | sink\u53d1\u9001\u6570\u636e\u7ed9\u4e0b\u6e38\u65f6\uff0c\u6570\u636e\u4f7f\u7528\u7684\u683c\u5f0f |\n|   openapiPath | string  |    \u975e\u5fc5\u586b    |   json | codec\u7c7b\u578b |\n|   swaggerPath | bool  |    \u975e\u5fc5\u586b    |  false  | \u662f\u5426\u6253\u5370\u51faevents\u5230Loggie\u7684\u65e5\u5fd7\u4e2d\uff0c\u53ef\u7528\u4e8e\u4e34\u65f6\u6392\u67e5\u95ee\u9898 |\n</code></pre>"},{"location":"reference/nova-server/config/#grpc","title":"grpc","text":"<pre><code>\u5bb9\u5668\u6570\u636e\u3001\u8fdb\u7a0b\u6570\u636e\u3001cpu\u62d3\u6251\u56fe\u6536\u96c6\u5668\u914d\u7f6e\u3002\n\n|    `\u5b57\u6bb5`   |    `\u7c7b\u578b`    |  `\u662f\u5426\u5fc5\u586b`  |  `\u9ed8\u8ba4\u503c`  |  `\u542b\u4e49`  |\n| ---------- | ----------- | ----------- | --------- | -------- |\n| address |  string |    \u5fc5\u586b    |  :10050  | \u6570\u636e\u6536\u96c6\u5668\u7aef\u53e3 |\n| server_list | array  |    \u5fc5\u586b    |  127.0.0.1:10051  | \u96c6\u7fa4\u5176\u4ed6\u670d\u52a1\u5668\u5217\u8868 |\n</code></pre>"},{"location":"reference/nova-server/config/#closetoken","title":"closeToken","text":"<pre><code>\u662f\u5426\u5173\u95edtoken\u9a8c\u8bc1\n\n|    `\u5b57\u6bb5`   |    `\u7c7b\u578b`    |  `\u662f\u5426\u5fc5\u586b`  |  `\u9ed8\u8ba4\u503c`  |  `\u542b\u4e49`  |\n| ---------- | ----------- | ----------- | --------- | -------- |\n| closeToken |  boolean |    \u5fc5\u586b    |  true  | \u662f\u5426\u5173\u95edtoken\u9a8c\u8bc1 |\n</code></pre>"},{"location":"reference/nova-server/config/#logger","title":"logger","text":"<pre><code>\u65e5\u5fd7\u914d\u7f6e\n\n|    `\u5b57\u6bb5`   |    `\u7c7b\u578b`    |  `\u662f\u5426\u5fc5\u586b`  |  `\u9ed8\u8ba4\u503c`  |  `\u542b\u4e49`  |\n| ---------- | ----------- | ----------- | --------- | -------- |\n| level |  string |    \u5fc5\u586b    |  all  | \u65e5\u5fd7\u7ea7\u522b |\n| stdout |  boolean |    \u5fc5\u586b    |  false  | \u662f\u5426\u8fdb\u884c\u6807\u51c6\u8f93\u51fa |\n</code></pre>"},{"location":"reference/nova-server/config/#database","title":"database","text":"<pre><code>\u65e5\u5fd7\u914d\u7f6e\n\n|    `\u5b57\u6bb5`   |    `\u7c7b\u578b`    |  `\u662f\u5426\u5fc5\u586b`  |  `\u9ed8\u8ba4\u503c`  |  `\u542b\u4e49`  |\n| ---------- | ----------- | ----------- | --------- | -------- |\n| link |  string |    \u5fc5\u586b    |  all  | \u65e5\u5fd7\u7ea7\u522b |\n| charset |  string |    \u5fc5\u586b    |  false  | \u662f\u5426\u8fdb\u884c\u6807\u51c6\u8f93\u51fa |\n| debug |  boolean |    \u5fc5\u586b    |  false  | \u662f\u5426\u8fdb\u884c\u6807\u51c6\u8f93\u51fa |\n| dryRun |  boolean |    \u5fc5\u586b    |  false  | \u662f\u5426\u8fdb\u884c\u6807\u51c6\u8f93\u51fa |\n| maxIdle |  int |    \u5fc5\u586b    |  false  | \u662f\u5426\u8fdb\u884c\u6807\u51c6\u8f93\u51fa |\n| maxOpen |  int |    \u5fc5\u586b    |  false  | \u662f\u5426\u8fdb\u884c\u6807\u51c6\u8f93\u51fa |\n| maxLifetime |  int |    \u5fc5\u586b    |  false  | \u662f\u5426\u8fdb\u884c\u6807\u51c6\u8f93\u51fa |\n| type |  string |    \u5fc5\u586b    |  mysql  | \u6570\u636e\u5e93 |\n</code></pre>"},{"location":"reference/nova-server/config/#clickhouse","title":"clickhouse","text":"<pre><code>|    `\u5b57\u6bb5`   |    `\u7c7b\u578b`    |  `\u662f\u5426\u5fc5\u586b`  |  `\u9ed8\u8ba4\u503c`  |  `\u542b\u4e49`  |\n| ---------- | ----------- | ----------- | --------- | -------- |\n| link |  string |    \u5fc5\u586b    |  clickhouse:default:asd1234567@@tcp(127.0.0.1:9090)/otel  | \u65e5\u5fd7\u7ea7\u522b |\n| debug |  boolean |    \u5fc5\u586b    |  false  | \u662f\u5426\u8fdb\u884c\u6807\u51c6\u8f93\u51fa |\n</code></pre>"},{"location":"reference/nova-server/overview/","title":"\u7b80\u4ecb","text":"<p>NavoServer\u662f\u4e00\u4e2a\u57fa\u4e8eGolang\u7684\u8f7b\u91cf\u7ea7\u3001\u9ad8\u6027\u80fd\u3001\u4e91\u539f\u751f\u53ef\u89c2\u6d4b\u7cfb\u7edf\u7684\u540e\u53f0API\u548c\u6570\u636e\u6536\u96c6\uff0c\u5bf9\u5916\u63d0\u4f9b\u4e86GRPC\u6536\u96c6\u6307\u6807\u4ee5\u53ca\u63d0\u4f9bhttp\u63a5\u53e3\u80fd\u529b\uff0c\u63d0\u4f9b\u4e86\uff1a</p> <ul> <li> \u53ef\u89c2\u6d4b\u6570\u636e\u6536\u96c6\u67e5\u8be2\u89e3\u51b3\u65b9\u6848\uff1a\u540c\u65f6\u53ef\u4ee5\u91c7\u96c6\u4e3b\u673a\u8d1f\u8f7d\u3001\u8fdb\u7a0b\u5bb9\u5668\u4fe1\u606f\u4ee5\u53ca\u62d3\u6251\u4fe1\u606f\u7b49\u6570\u636e\uff0c\u5bf9\u5916\u63d0\u4f9b\u6570\u636e</li> <li> \u4e91\u539f\u751f\u7684\u65e5\u5fd7\u5f62\u6001\uff1a\u5feb\u901f\u4fbf\u6377\u7684\u5bb9\u5668\u6307\u6807\u91c7\u96c6\u65b9\u5f0f\uff0c\u539f\u751f\u7684Kubernetes\u52a8\u6001\u914d\u7f6e\u4e0b\u53d1</li> <li> \u751f\u4ea7\u7ea7\u7684\u7279\u6027\uff1aNavoServer\u5438\u6536\u4e86\u6211\u4eec\u957f\u671f\u7684\u5927\u89c4\u6a21\u8fd0\u7ef4\u7ecf\u9a8c\uff0c\u5f62\u6210\u4e86\u5168\u65b9\u4f4d\u7684\u53ef\u89c2\u6d4b\u6027\u3001\u5feb\u901f\u6392\u969c\u3001\u5f02\u5e38\u9884\u8b66\u3001\u81ea\u52a8\u5316\u8fd0\u7ef4\u80fd\u529b.</li> </ul>"},{"location":"reference/nova-server/overview/#_2","title":"\u6784\u5efa","text":"<p>\u53c2\u8003 \u6784\u5efa\u6587\u6863 \u6784\u5efa nova-server.</p> <pre><code>./nova-server -c -gf.gcfg.file={$path}/config.yaml\n</code></pre>"},{"location":"reference/nova-server/overview/#_3","title":"\u914d\u7f6e","text":"<p>\u53c2\u8003 \u914d\u7f6e\u6587\u6863 \u914d\u7f6e nova-server.</p>"},{"location":"reference/nova-server/overview/#_4","title":"\u4e0a\u62a5\u5185\u5bb9","text":"<p>\u53c2\u8003 \u4e0a\u62a5\u5185\u5bb9\u6587\u6863 \u67e5\u770b npva-server \u4e0a\u62a5\u7684\u5185\u5bb9.</p>"},{"location":"reference/trace-agent/","title":"trace-agent \u4ecb\u7ecd","text":""},{"location":"reference/trace-agent/#_1","title":"\u7b80\u4ecb","text":"<p>trace-agent \u662f\u4e00\u4e2a\u7528\u4e8e\u76d1\u63a7\u96c6\u7fa4\u4e2d\u5404\u4e2a\u8282\u70b9\u7684\u5de5\u5177. \u5b83\u4f1a\u5b9a\u671f\u91c7\u96c6\u8282\u70b9\u7684\u6307\u6807\u6570\u636e, \u5e76\u5c06\u6570\u636e\u4e0a\u62a5\u5230\u6307\u5b9a\u7684OLTP Exporter\u5730\u5740.</p>"},{"location":"reference/trace-agent/#_2","title":"\u6784\u5efa","text":"<p>\u53c2\u8003 \u6784\u5efa\u6587\u6863 \u6784\u5efa trace-agent.</p>"},{"location":"reference/trace-agent/#_3","title":"\u542f\u52a8","text":"<pre><code>./trace-agent -c /path/to/config.json\n</code></pre>"},{"location":"reference/trace-agent/#_4","title":"\u914d\u7f6e","text":"<p>\u53c2\u8003 \u914d\u7f6e\u6587\u6863 \u914d\u7f6e trace-agent.</p>"},{"location":"reference/trace-agent/#_5","title":"\u4e0a\u62a5\u5185\u5bb9","text":"<p>\u53c2\u8003 \u4e0a\u62a5\u5185\u5bb9\u6587\u6863 \u67e5\u770b trace-agent \u4e0a\u62a5\u7684\u5185\u5bb9.</p>"},{"location":"reference/trace-agent/build/","title":"trace-agent \u6784\u5efa","text":""},{"location":"reference/trace-agent/build/#_1","title":"\u6982\u8ff0","text":"<p>\u76ee\u524d\u6709\u652f\u6301\u4e24\u79cd\u65b9\u5f0f\u6784\u5efa, \u5206\u522b\u5bf9\u5e94\u4e24\u79cd\u4e0d\u540c\u7684\u96c6\u6210\u7b2c\u4e09\u65b9\u5e93\u7684\u65b9\u5f0f. 1. <code>package</code>\u6a21\u5f0f. \u8fd9\u79cd\u6a21\u5f0f\u4e0b\u9700\u8981\u9884\u7f16\u8bd1\u5b89\u88c5\u7b2c\u4e09\u65b9\u5e93, \u8be5\u5e93\u4f1a\u9ed8\u8ba4\u5b89\u88c5\u5230<code>.build/install</code>\u76ee\u5f55\u4e0b. 2. <code>module</code>\u6a21\u5f0f. \u8fd9\u79cd\u6a21\u5f0f\u4e0b\u4f1a\u76f4\u63a5\u4ece\u6e90\u7801\u7f16\u8bd1\u7b2c\u4e09\u65b9\u5e93, \u6bcf\u6b21\u7f16\u8bd1\u7684\u8017\u65f6\u6bd4\u8f83\u957f.</p> <p>\u540c\u65f6\u4e3a\u4e86\u65b9\u4fbf\u6784\u5efa, \u53ef\u4ee5\u4f7f\u7528<code>CMakePresets.json</code>\u6587\u4ef6\u4fdd\u5b58\u6784\u5efa\u53c2\u6570, \u4e0d\u9700\u8981\u5728\u547d\u4ee4\u884c\u624b\u52a8\u8bbe\u7f6e\u53c2\u6570.</p>"},{"location":"reference/trace-agent/build/#_2","title":"\u73af\u5883\u8981\u6c42","text":"<ul> <li>CMake &gt;= 3.8</li> <li>\u7f16\u8bd1\u5668\u9700\u8981\u652f\u6301 C++17</li> </ul>"},{"location":"reference/trace-agent/build/#docker","title":"\u4f7f\u7528docker\u6784\u5efa","text":"<p>\u8fd9\u91cc\u6709\u4e00\u4e2a\u9884\u7f16\u8bd1\u597d\u7684docker\u955c\u50cf, \u4f60\u53ef\u4ee5\u4f7f\u7528\u8be5\u955c\u50cf\u6784\u5efa\u9879\u76ee.</p> <pre><code>docker pull aronic/cppdev:latest\n</code></pre>"},{"location":"reference/trace-agent/build/#1-package","title":"1. package\u6a21\u5f0f","text":"<p><code>package</code>\u6a21\u5f0f\u662f\u9ed8\u8ba4\u5b89\u88c5\u6a21\u5f0f, \u4e0d\u9700\u8981\u989d\u5916\u8bbe\u7f6e\u53c2\u6570. 1. \u9996\u5148\u9700\u8981\u9884\u7f16\u8bd1\u7b2c\u4e09\u65b9\u5e93. \u5982\u679c\u5df2\u7ecf\u5b89\u88c5\u8fc7, \u53ef\u4ee5\u8df3\u8fc7\u8fd9\u4e00\u6b65. \u91cd\u590d\u6267\u884c\u811a\u6b65\u4e0d\u4f1a\u5f15\u8d77\u91cd\u590d\u5b89\u88c5. Docker\u955c\u50cf\u91cc\u9762\u5df2\u7ecf\u5b89\u88c5\u597d\u4e86\u7b2c\u4e09\u65b9\u5e93, \u53ef\u4ee5\u76f4\u63a5\u8df3\u8fc7\u8fd9\u4e00\u6b65. <pre><code>./build_third_party.sh\n</code></pre></p> <ol> <li> <p>\u4e3a\u5f53\u524dshell\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf, \u4f7f\u5f97cmake\u80fd\u591f\u627e\u5230\u7b2c\u4e09\u65b9\u5e93. <pre><code>source setup_env.sh\n</code></pre></p> </li> <li> <p>\u4f7f\u7528cmake\u6784\u5efa\u9879\u76ee. <pre><code>mkdir build\ncmake -S . -B build \\\n      -DCMAKE_BUILD_TYPE=Release \\\n      -DTHIRD_PARTY_INSTALL_DIR=\"${THIRD_PARTY_INSTALL_DIR}\" \\\n      -DCMAKE_MODULE_PATH=\"${THIRD_PARTY_INSTALL_DIR}/lib/cmake;${THIRD_PARTY_INSTALL_DIR}/lib64/cmake\" \\\n      -DCMAKE_PREFIX_PATH=${THIRD_PARTY_INSTALL_DIR} \\\n      -DOPENSSL_ROOT_DIR=${THIRD_PARTY_INSTALL_DIR} \\\n      -DOPENSSL_INCLUDE_DIR=${THIRD_PARTY_INSTALL_DIR}/include \\\n      -DOPENSSL_CRYPTO_LIBRARY=${THIRD_PARTY_INSTALL_DIR}/lib/libcrypto.a \\\n      -DOPENSSL_SSL_LIBRARY=${THIRD_PARTY_INSTALL_DIR}/lib/libssl.a\ncmake --build . --target trace-agent\n</code></pre></p> </li> </ol>"},{"location":"reference/trace-agent/build/#2-module","title":"2. <code>module</code>\u6a21\u5f0f","text":"<p>module \u6a21\u5f0f\u4e0b\u4f1a\u96c6\u6210\u7b2c\u4e09\u65b9\u7684CMakeLists.txt\u6587\u4ef6, \u4ece\u6e90\u7801\u7f16\u8bd1\u7b2c\u4e09\u65b9\u5e93. \u8fd9\u79cd\u65b9\u5f0f\u7f16\u8bd1\u65f6\u95f4\u4f1a\u6bd4\u8f83\u957f. \u4e0d\u63a8\u8350\u8fd9\u79cd\u65b9\u5f0f. \u5f53\u524d\u7684module\u6a21\u5f0f\u6709\u7f16\u8bd1\u95ee\u9898. \u8bf7\u4f7f\u7528package\u6a21\u5f0f.</p>"},{"location":"reference/trace-agent/build/#cmakelisttxt","title":"CMakeList.txt \u53c2\u6570\u8bf4\u660e","text":""},{"location":"reference/trace-agent/build/#debug","title":"Debug\u6a21\u5f0f","text":"<p>\u4f7f\u7528 <code>CMAKE_BUILD_TYPE=Debug</code> \u6307\u5b9a\u4e3aDebug\u6a21\u5f0f, \u5728Debug\u6a21\u5f0f\u4e0b\u652f\u6491\u5982\u4e0b\u7684\u53c2\u6570.</p> <ul> <li><code>SANITIZER_TYPE</code> \u6307\u5b9a\u4f7f\u7528\u7684Sanitizer\u7c7b\u578b. \u53ef\u9009\u503c\u4e3a <code>none</code>, <code>address</code>, <code>leak</code>, <code>thread</code>, <code>undefined</code>. \u9ed8\u8ba4\u503c\u4e3a <code>none</code>.</li> <li><code>ENABLE_IWYU</code> \u6307\u5b9a\u662f\u5426\u542f\u7528include-what-you-use\u5de5\u5177. \u53ef\u9009\u503c\u4e3a <code>ON</code>, <code>OFF</code>. \u9ed8\u8ba4\u503c\u4e3a <code>OFF</code>.</li> </ul>"},{"location":"reference/trace-agent/build/#release","title":"Release \u6a21\u5f0f","text":"<p>\u4f7f\u7528 <code>CMAKE_BUILD_TYPE=Release</code> \u6307\u5b9a\u4e3aRelease\u6a21\u5f0f. Release \u53d1\u5e03\u7684\u4e8c\u8fdb\u5236\u643a\u5e26Debug\u4fe1\u606f, \u4f46\u662f\u4e0d\u4f1a\u542f\u7528Sanitizer. \u540c\u65f6\u7edd\u5927\u591a\u6570\u7b2c\u4e09\u65b9\u5e93\u662f\u9759\u6001\u94fe\u63a5\u7684.</p>"},{"location":"reference/trace-agent/build/#cmakepresetsjson","title":"\u4f7f\u7528CMakePresets.json","text":"<p>\u5982\u679c\u4f60\u7684CMake\u7248\u672c\u652f\u6301CMakePresets.json, \u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u8be5\u6587\u4ef6\u6784\u5efa\u9879\u76ee. CMakePresets.json \u6587\u4ef6\u53ef\u4ee5\u4fdd\u5b58CMake\u53c2\u6570\u548c\u914d\u7f6e\u9879, \u4e0d\u9700\u8981\u5728\u547d\u4ee4\u884c\u624b\u52a8\u8bbe\u7f6e.</p>"},{"location":"reference/trace-agent/build/#cmakepresetsjson_1","title":"CMakePresets.json \u6587\u4ef6\u5185\u5bb9","text":"<pre><code>{\n  \"version\": 2,\n  \"configurePresets\": [\n    {\n      \"name\": \"default\",\n      \"generator\": \"Ninja\",\n      \"binaryDir\": \"/tmp/build-trace-agent\",\n      \"cacheVariables\": {\n        \"THIRD_PARTY_INSTALL_DIR\": \"$env{THIRD_PARTY_INSTALL_DIR}\",\n        \"CMAKE_MODULE_PATH\": \"$env{THIRD_PARTY_INSTALL_DIR}/lib/cmake\",\n        \"CMAKE_PREFIX_PATH\": \"$env{THIRD_PARTY_INSTALL_DIR}\",\n        \"CMAKE_BUILD_TYPE\": \"Debug\",\n        \"SANITIZER_TYPE\": \"none\",\n        \"ENABLE_IWYU\": \"ON\"\n      }\n    },\n    {\n      \"name\": \"release\",\n      \"generator\": \"Ninja\",\n      \"binaryDir\": \"/tmp/release-trace-agent\",\n      \"cacheVariables\": {\n        \"THIRD_PARTY_INSTALL_DIR\": \"$env{THIRD_PARTY_INSTALL_DIR}\",\n        \"CMAKE_MODULE_PATH\": \"$env{THIRD_PARTY_INSTALL_DIR}/lib/cmake\",\n        \"CMAKE_PREFIX_PATH\": \"$env{THIRD_PARTY_INSTALL_DIR}\",\n        \"CMAKE_BUILD_TYPE\": \"Release\",\n        \"SANITIZER_TYPE\": \"none\",\n        \"ENABLE_IWYU\": \"OFF\"\n      }\n    }\n  ],\n  \"buildPresets\": [\n    {\n      \"name\": \"default\",\n      \"configurePreset\": \"default\"\n    }\n  ]\n}\n</code></pre>"},{"location":"reference/trace-agent/build/#cmakepresetsjson_2","title":"\u4f7f\u7528CMakePresets.json","text":"<pre><code>source setup_env.sh # \u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\ncmake --preset=default\n</code></pre>"},{"location":"reference/trace-agent/config/","title":"trace-agent \u914d\u7f6e","text":""},{"location":"reference/trace-agent/config/#_1","title":"\u914d\u7f6e\u8bf4\u660e","text":"\u914d\u7f6e\u9879\u76ee \u8bf4\u660e <code>cluster</code> \u96c6\u7fa4\u540d\u79f0 <code>company_uuid</code> \u516c\u53f8UUID <code>docker_unix_domain_socket</code> Docker\u7684Unix Domain Socket\u8def\u5f84 <code>log_level</code> \u65e5\u5fd7\u7ea7\u522b, \u53ef\u9009\u9879: [\"trace\", \"debug\", \"info\", \"warn\", \"error\"] <code>node_report_addr</code> \u4e0a\u62a5\u5730\u5740, GRPC\u90e8\u5206 <code>oltp_exporter_addr</code> OLTP Exporter\u5730\u5740 <code>sampling_period</code> \u6307\u6807\u91c7\u96c6\u5468\u671f"},{"location":"reference/trace-agent/config/#_2","title":"\u5b9e\u4f8b\u914d\u7f6e\u6587\u4ef6","text":"<pre><code>{\n  \"cluster\": \"default\",\n  \"company_uuid\": \"217057afc5769cbeea96766334f7e7ec\",\n  \"docker_unix_domain_socket\": \"/run/docker.sock\",\n  \"log_level\": \"debug\",\n  \"node_report_addr\": {\n    \"host\": \"81.71.98.26\",\n    \"port\": 10050\n  },\n  \"oltp_exporter_addr\": {\n    \"host\": \"81.71.98.26\",\n    \"port\": 4317\n  },\n  \"sampling_period\": 2\n}\n</code></pre>"},{"location":"reference/trace-agent/config/#_3","title":"\u4f7f\u7528\u914d\u7f6e","text":"<pre><code>./trace-agent -c /path/to/config.json\n</code></pre>"},{"location":"reference/trace-agent/report/","title":"trace-agent\u4e0a\u62a5\u5185\u5bb9","text":"<p>\u91c7\u96c6\u6307\u6807:</p> <ul> <li>CGroup\u6307\u6807</li> <li>CPU\u6307\u6807</li> <li>\u78c1\u76d8\u4f7f\u7528\u6307\u6807</li> <li>\u5bb9\u5668\u6307\u6807</li> <li>GPU\u6307\u6807</li> <li>Memory\u6307\u6807</li> <li>\u7f51\u7edc\u6307\u6807</li> <li>\u8fdb\u7a0b\u6307\u6807</li> </ul>"},{"location":"reference/trace-agent/report/#oltp","title":"OLTP\u6307\u6807","text":"\u8d44\u6e90 \u6307\u6807 \u5185\u5bb9 \u5c5e\u6027\u5217\u8868 \u662f\u5426\u5b8c\u6210 \u7cfb\u7edf \u8fd0\u884c\u65f6\u95f4(Uptime) \u4e3b\u673a\u5f00\u542f\u4e4b\u540e\u8fd0\u884c\u7684\u65f6\u95f4 host_object_id \u7cfb\u7edf \u6587\u4ef6\u63cf\u8ff0\u7b26\u6570\u91cf \u76d1\u63a7\u7cfb\u7edf\u4e2d\u4f7f\u7528\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u6570\u91cf host_object_id \u5185\u5b58 \u4f7f\u7528\u7387 \u5df2\u4f7f\u7528\u5185\u5b58/\u673a\u5668\u603b\u5185\u5b58 host_object_id \u8fdb\u7a0b \u8fdb\u7a0b\u6570\u91cf host_object_id"},{"location":"reference/trace-agent/report/cgroup/","title":"CGroup \u6307\u6807","text":"<p>\u8fd9\u7bc7\u6587\u7ae0\u662f\u5bf9Linux CGroup V2\u7684\u4fe1\u606f\u91c7\u96c6\u7684\u8be6\u7ee8\u63cf\u8ff0\u3002</p>"},{"location":"reference/trace-agent/report/cgroup/#_1","title":"\u5b57\u6bb5\u89e3\u91ca","text":""},{"location":"reference/trace-agent/report/cgroup/#cgroupmount","title":"CGroupMount","text":"\u5b57\u6bb5 \u7c7b\u578b \u63cf\u8ff0 mount_point string CGroup\u6302\u8f7d\u70b9 cgroup CGroupController CGroup\u63a7\u5236\u5668 cpu CGroupCPUController CPU\u63a7\u5236\u5668 cpuset CGroupCPUSetController CPUSet\u63a7\u5236\u5668 hugetlb CGroupHugeTLBController HugeTLB\u63a7\u5236\u5668 io CGroupIOController IO\u63a7\u5236\u5668 memory CGroupMemoryController Memory\u63a7\u5236\u5668 misc CGroupMiscController Misc\u63a7\u5236\u5668 pids CGroupPidsController Pids\u63a7\u5236\u5668 rdma CGroupRDMAController RDMA\u63a7\u5236\u5668 children CGroupMount \u5b50CGroup"},{"location":"reference/trace-agent/report/cgroup/#cgroupcontroller","title":"CGroupController","text":"\u5b57\u6bb5 \u7c7b\u578b \u6765\u6e90 controllers repeated string cgroup.controllers events CGroupEvent cgroup.events freeze int32 cgroup.freeze max_depth oneof cgroup.max.depth max_descendants oneof cgroup.max.descendants pressure int32 cgroup.pressure procs repeated int32 cgroup.procs stat CGroupStat cgroup.stat threads repeated int32 cgroup.threads type string cgroup.type"},{"location":"reference/trace-agent/report/cgroup/#cgroupevent","title":"CGroupEvent","text":"\u5b57\u6bb5 \u7c7b\u578b \u63cf\u8ff0 populated int32 populated frozen int32 frozen"},{"location":"reference/trace-agent/report/cgroup/#cgroupstat","title":"CGroupStat","text":"\u5b57\u6bb5 \u7c7b\u578b \u63cf\u8ff0 nr_descendants int32 \u540e\u4ee3\u6570\u91cf nr_dying_descendants int32 \u6b7b\u4ea1\u540e\u4ee3\u6570\u91cf"},{"location":"reference/trace-agent/report/cgroup/#cgroupcpucontroller","title":"CGroupCPUController","text":"\u5b57\u6bb5 \u7c7b\u578b \u6765\u6e90 idle int32 cpu.idle max CGroupCPUMax cpu.max max_burst int32 cpu.max.burst pressure Pressure cpu.pressure stat CGroupCPUStat cpu.stat stat_local CGroupCPUStat cpu.stat.local uclamp_max int32/string cpu.uclamp.max uclamp_min float cpu.uclamp.min weight int32 cpu.weight weight_nice int32 cpu.weight.nice"},{"location":"reference/trace-agent/report/cgroup/#cgroupcpumax","title":"CGroupCPUMax","text":"\u5b57\u6bb5 \u7c7b\u578b \u63cf\u8ff0 max int32/string \u6700\u5927\u503c period string \u6700\u5927\u503c"},{"location":"reference/trace-agent/report/cgroup/#pressure","title":"Pressure","text":"\u5b57\u6bb5 \u7c7b\u578b \u63cf\u8ff0 some PSI some full PSI full"},{"location":"reference/trace-agent/report/cgroup/#psi","title":"PSI","text":"\u5b57\u6bb5 \u7c7b\u578b \u63cf\u8ff0 avg10 float avg10 avg60 float avg60 avg300 float avg300 total float total"},{"location":"reference/trace-agent/report/cgroup/#cgroupcpustat","title":"CGroupCPUStat","text":"\u5b57\u6bb5 \u7c7b\u578b \u63cf\u8ff0 usage_usec int64 usage_usec user_usec int64 user_usec system_usec int64 system_usec core_sched_force_idle_usec int64 core_sched_force_idle_usec nr_periods int32 nr_periods nr_throttled int32 nr_throttled throttled_usec int64 throttled_usec nr_bursts int32 nr_bursts burst_usec int64 burst_usec"},{"location":"reference/trace-agent/report/cgroup/#cgroupcpusetcontroller","title":"CGroupCPUSetController","text":"\u5b57\u6bb5 \u7c7b\u578b \u6765\u6e90 cpus int32[] cpuset.cpus cpus_effective int32[] cpuset.cpus.effective cpus_exclusive int32[] cpuset.cpus.exclusive cpus_exclusive_effective int32[] cpuset.cpus.exclusive.effective cpus_partition string cpuset.cpus.partition mems int32[] cpuset.mems mems_effective int32[] cpuset.mems.effective"},{"location":"reference/trace-agent/report/cgroup/#cgrouphugetlbcontroller","title":"CGroupHugeTLBController","text":"\u5b57\u6bb5 \u7c7b\u578b \u63cf\u8ff0 tlb mapTLBControlInfo&gt; HugeTLB\u63a7\u5236\u5668"},{"location":"reference/trace-agent/report/cgroup/#tlbcontrolinfo","title":"TLBControlInfo","text":"<p>\u5982\u4e0b\u5b57\u6bb5\u4e2d, 'XXX' \u662f\u4e00\u4e2a\u5360\u4f4d\u7b26, \u4e00\u822c\u6765\u8bf4\u6307\u4ee3\u5982\u4e0b\u7684\u6587\u4ef6.</p> <ul> <li><code>hugetlb.1GB.current</code></li> <li><code>hugetlb.2MB.current</code></li> <li><code>...</code></li> </ul> \u5b57\u6bb5 \u7c7b\u578b \u6765\u6e90 current int32 hugetlb.XXX.current events TLBEvents hugetlb.XXX.events events_local TLBEvents hugetlb.XXX.events.local max int32/string hugetlb.XXX.max rsvd_current int32 hugetlb.XXX.rsvd.current rsvd_max int32/string hugetlb.XXX.rsvd.max"},{"location":"reference/trace-agent/report/cgroup/#tlbevents","title":"TLBEvents","text":"\u5b57\u6bb5 \u7c7b\u578b \u63cf\u8ff0 max int32/string max period int32 period"},{"location":"reference/trace-agent/report/cgroup/#cgroupiocontroller","title":"CGroupIOController","text":"\u5b57\u6bb5 \u7c7b\u578b \u6765\u6e90 max CGroupIOMax io.max pressure Pressure io.pressure prio_class int32 io.prio.class stat CGroupIOStat io.stat weight int32 io.weight"},{"location":"reference/trace-agent/report/cgroup/#cgroupiomax","title":"CGroupIOMax","text":"\u5b57\u6bb5 \u7c7b\u578b \u63cf\u8ff0 major int32 \u4e3b\u8bbe\u5907\u53f7 minor int32 \u6b21\u8bbe\u5907\u53f7 rbps int32/string \u6bcf\u79d2\u6700\u5927\u8bfb\u53d6\u901f\u5ea6 wbps int32/string \u6bcf\u79d2\u6700\u5927\u5199\u5165\u901f\u5ea6 riops int32/string \u6bcf\u79d2\u6700\u5927\u8bfb\u53d6\u64cd\u4f5c\u6b21\u6570 wiops int32/string \u6bcf\u79d2\u6700\u5927\u5199\u5165\u64cd\u4f5c\u6b21\u6570"},{"location":"reference/trace-agent/report/cgroup/#cgroupiostat","title":"CGroupIOStat","text":"\u5b57\u6bb5 \u7c7b\u578b \u63cf\u8ff0 MajorDevice int32 \u4e3b\u8bbe\u5907\u53f7 MinorDevice int32 \u6b21\u8bbe\u5907\u53f7 rbytes int64 \u8bfb\u53d6\u5b57\u8282\u6570\u91cf wbytes int64 \u5199\u5165\u5b57\u8282\u6570\u91cf rios int64 \u8bfb\u53d6\u64cd\u4f5c\u6b21\u6570 wios int64 \u5199\u5165\u64cd\u4f5c\u6b21\u6570 dbytes int64 \u4e22\u5f03\u5b57\u8282\u6570\u91cf dios int64 \u4e22\u5f03\u8bfb\u5199\u6b21\u6570"},{"location":"reference/trace-agent/report/cgroup/#cgroupmemorycontroller","title":"CGroupMemoryController","text":"\u5b57\u6bb5 \u7c7b\u578b \u6765\u6e90 current int32 memory.current events CGroupMemoryEvent memory.events events_local CGroupMemoryEvent memory.events.local high int32/string memory.high low int32 memory.low max int32/string memory.max min int32 memory.min numa_stat CGroupNumaStat memory.numa_stat oom_group int32 memory.oom.group peak int32 memory.peak pressure Pressure memory.pressure stat CGroupMemoryStat memory.stat swap_current int64 memory.swap.current swap_events CGroupMemorySwapEvent memory.swap.events swap_high int32/string memory.swap.high swap_max int32/string memory.swap.max swap_peak int64 memory.swap.peak zswap_current int64 memory.zswap.current zswap_max int32/string memory.zswap.max zswap_writeback int32 memory.zswap.writeback"},{"location":"reference/trace-agent/report/cgroup/#cgroupmemoryevent","title":"CGroupMemoryEvent","text":"\u5b57\u6bb5 \u7c7b\u578b \u63cf\u8ff0 low int32 low high int32 high max int32 max oom int32 oom oom_kill int32 oom_kill oom_group_kill int32 oom_group_kill"},{"location":"reference/trace-agent/report/cgroup/#cgroupnumastat","title":"CGroupNumaStat","text":"<p>todo</p>"},{"location":"reference/trace-agent/report/cgroup/#cgroupmemorystat","title":"CGroupMemoryStat","text":"<p>todo</p>"},{"location":"reference/trace-agent/report/cgroup/#cgroupmemoryswapevent","title":"CGroupMemorySwapEvent","text":"\u5b57\u6bb5 \u7c7b\u578b \u63cf\u8ff0 high int64 high max int64 max fail int64 fail"},{"location":"reference/trace-agent/report/cgroup/#cgroupmisccontroller","title":"CGroupMiscController","text":"<p>todo</p>"},{"location":"reference/trace-agent/report/cgroup/#cgrouppidscontroller","title":"CGroupPidsController","text":"\u5b57\u6bb5 \u7c7b\u578b \u6765\u6e90 current int32 pids.current events int32 pids.events max int32/string pids.max peak int32 pids.peak"},{"location":"reference/trace-agent/report/cgroup/#cgrouprdmacontroller","title":"CGroupRDMAController","text":"<p>todo</p>"},{"location":"reference/trace-agent/report/cpu/","title":"CPU\u6307\u6807","text":""},{"location":"reference/trace-agent/report/cpu/#_1","title":"\u4e0a\u62a5\u4fe1\u606f","text":"\u5b57\u6bb5 \u7c7b\u578b \u8bf4\u660e arch string \u67b6\u6784, \u5982: ARM, mips,x86 brand string \u54c1\u724c family string model string \u6a21\u578b stepping string uarch string implementer string architecture string \u67b6\u6784 variant string part string revision string \u7248\u672c platform string \u5e73\u53f0 machine string \u673a\u5668 cpu string instruction string microarchitecture string \u5fae\u67b6\u6784 processors string \u5904\u7406\u5668 vendor string \u5382\u5546 flags repeated string \u652f\u6491\u7684\u7279\u6027"},{"location":"reference/trace-agent/report/disk/","title":"\u78c1\u76d8\u6307\u6807","text":""},{"location":"reference/trace-agent/report/disk/#oltp","title":"OLTP\u6307\u6807","text":"<p>OLTP\u7684\u4e0a\u62a5\u5c5e\u6027: <code>host_object_id, device</code></p> \u6307\u6807 \u5185\u5bb9 \u8bfb\u53d6\u901f\u7387 \u78c1\u76d8\u6bcf\u79d2\u8bfb\u53d6\u901f\u5ea6 \u5199\u5165\u901f\u7387 \u78c1\u76d8\u6bcf\u79d2\u5199\u5165\u901f\u5ea6 \u4f7f\u7528\u7387 \u5df2\u7528\u7a7a\u95f4/\u78c1\u76d8\u603b\u5927\u5c0f"},{"location":"reference/trace-agent/report/disk/#grpc","title":"GRPC\u4e0a\u62a5\u6307\u6807","text":"\u5b57\u6bb5 \u7c7b\u578b \u63cf\u8ff0 device string \u78c1\u76d8\u8bbe\u5907 type DiskType \u78c1\u76d8\u7c7b\u578b mount_point string \u78c1\u76d8\u6302\u8f7d\u70b9 filesystem string \u78c1\u76d8\u6587\u4ef6\u7cfb\u7edf vendor string \u78c1\u76d8\u751f\u4ea7\u5546 space_total uint64 \u78c1\u76d8\u5927\u5c0f(byte) space_free uint64 \u78c1\u76d8\u53ef\u7528\u5927\u5c0f(byte) space_used uint64 \u78c1\u76d8\u5df2\u4f7f\u7528\u5927\u5c0f(byte) space_usage double \u78c1\u76d8\u4f7f\u7528\u7387 inode_total uint64 \u78c1\u76d8inode\u603b\u6570 inode_free uint64 \u78c1\u76d8inode\u53ef\u7528\u6570 inode_used uint64 \u78c1\u76d8inode\u5df2\u4f7f\u7528\u6570 inode_usage uint64 \u78c1\u76d8inode\u4f7f\u7528\u7387"},{"location":"reference/trace-agent/report/disk/#disktype","title":"DiskType","text":"<pre><code>enum DiskType {\n  Unkonwn = 0;\n  SSD = 1;\n  HDD = 2;\n}\n</code></pre>"},{"location":"reference/trace-agent/report/docker/","title":"\u5bb9\u5668\u6307\u6807","text":""},{"location":"reference/trace-agent/report/docker/#_2","title":"\u4e0a\u62a5\u4fe1\u606f","text":"\u5b57\u6bb5 \u7c7b\u578b \u8bf4\u660e id string \u5bb9\u5668id name string \u5bb9\u5668\u540d\u5b57 state string \u5bb9\u5668\u72b6\u6001 command string \u5bb9\u5668\u8fd0\u884c\u7684\u547d\u4ee4 image_name string \u5bb9\u5668\u7684\u955c\u50cf\u540d\u5b57 cpu_limit int64 CPU\u9650\u5236 cpu_user_pct double CPU \u7528\u6237\u6001\u5360\u6bd4 cpu_system_pct double CPU \u5185\u6838\u6001\u5360\u6bd4 cpu_total_pct double \u5bb9\u5668cpu\u4f7f\u7528\u7387 rss_usage double \u5bb9\u5668\u5185\u5b58\u4f7f\u7528\u7387 memory_limit int64 \u5185\u5b58\u9650\u5236 memory_cache int64 \u5185\u5b58\u7f13\u5b58 memory_rss int64 rss\u5185\u5b58 memory_pct double \u5185\u5b58\u4f7f\u7528\u7387 rx_bytes uint64 \u5bb9\u5668\u8bfb\u53d6\u7684\u5b57\u8282\u6570 rx_bps double \u5bb9\u5668\u8bfb\u53d6\u7684\u901f\u7387 tx_bytes uint64 \u5bb9\u5668\u5199\u5165\u7684\u5b57\u8282\u6570 tx_bps double \u5bb9\u5668\u5199\u5165\u7684\u901f\u7387 net_rcvd_bps double \u5bb9\u5668\u7f51\u7edc\u63a5\u6536\u901f\u7387 net_sent_bps double \u5bb9\u5668\u7f51\u7edc\u53d1\u9001\u901f\u7387 start_time uint64 \u5bb9\u5668\u542f\u52a8\u65f6\u95f4\u70b9 running_time uint64 \u8fd0\u884c\u65f6\u95f4 addresses string \u5bb9\u5668\u7684\u5730\u5740 host_ips string \u4e3b\u673aIP pid int32 pid\u5217\u8868 pod_ip string pod ip pod_ports int32 pod\u7aef\u53e3 host string \u5bb9\u5668 health int32 \u5065\u5eb7 thread_count int32 \u7ebf\u7a0b\u6570\u91cf thread_limit int32 \u7ebf\u7a0b\u9650\u5236 kube_app string todo"},{"location":"reference/trace-agent/report/gpu/","title":"GPU\u6307\u6807","text":""},{"location":"reference/trace-agent/report/gpu/#oltp","title":"OLTP \u4e0a\u62a5\u6307\u6807","text":"<p>\u516c\u5171\u7684\u4e0a\u62a5\u5c5e\u6027: <code>company_uuid</code>, <code>host_object_id</code>, <code>gpu_uuid</code></p> \u6307\u6807 \u5185\u5bb9 \u5c5e\u6027\u5217\u8868 gpu_usage GPU\u7b97\u529b\u4f7f\u7528\u7387 gpu_memory_usage GPU\u5185\u5b58\u4f7f\u7528\u7387 gpu_process_memory_usage GPU\u5185\u5b58\u4f7f\u7528\u7387, \u533a\u5206\u8fdb\u7a0b \u989d\u5916\u589e\u52a0pid gpu_memory_used GPU\u5df2\u4f7f\u7528\u5185\u5b58\u5b57\u8282\u6570 gpu_memory_free GPU\u53ef\u7528\u5185\u5b58\u5b57\u8282\u6570 gpu_temperature GPU\u6e29\u5ea6 gpu_power_draw GPU\u5f53\u524d\u8f93\u51fa\u529f\u7387 gpu_core_clock GPU Core\u65f6\u949f\u9891\u7387 gpu_pcie_tx_bandwidth GPU\u53d1\u9001\u6570\u636e\u5e26\u5bbd gpu_pcie_rx_bandwidth GPU\u63a5\u6536\u6570\u636e\u5e26\u5bbd gpu_ecc_errors GPU ECC \u9519\u8bef\u6570\u91cf"},{"location":"reference/trace-agent/report/memory/","title":"Memory\u6307\u6807","text":""},{"location":"reference/trace-agent/report/memory/#grpc","title":"GRPC\u4e0a\u62a5\u5b57\u6bb5","text":"\u5b57\u6bb5\u540d \u5b57\u6bb5\u7c7b\u578b \u5b57\u6bb5\u63cf\u8ff0 \u6765\u6e90 total uint64 \u603b\u5185\u5b58 /proc/meminfo/MemTotal free uint64 \u5269\u4f59\u5185\u5b58 /proc/meminfo/MemFree swap_cached uint64 \u5171\u4eab\u5185\u5b58 /proc/meminfo/SwapCached used uint64 \u5df2\u7528\u5185\u5b58 total - (free + Buffers(not reportd) + swap_cached)"},{"location":"reference/trace-agent/report/network/","title":"\u7f51\u7edc\u6307\u6807","text":"<ul> <li>\u5e26\u5bbd\u4f7f\u7528\u60c5\u51b5</li> <li>\u53d1\u5305\u60c5\u51b5</li> <li>\u6536\u5305\u60c5\u51b5</li> <li>TCP\u8fde\u63a5\u6570</li> </ul>"},{"location":"reference/trace-agent/report/network/#oltp","title":"OLTP\u6307\u6807","text":"\u8d44\u6e90 \u6307\u6807 \u5185\u5bb9 \u5c5e\u6027\u5217\u8868 \u662f\u5426\u5b8c\u6210 \u7f51\u7edc \u63a5\u6536\u901f\u7387 host_object_id \u7f51\u7edc \u53d1\u9001\u901f\u7387 host_object_id"},{"location":"reference/trace-agent/report/process/","title":"\u8fdb\u7a0b\u6307\u6807","text":""},{"location":"reference/trace-agent/report/process/#grpc","title":"GRPC\u4e0a\u62a5\u6307\u6807","text":"\u5b57\u6bb5 \u7c7b\u578b \u63cf\u8ff0 \u6765\u6e90 pid uint64 \u8fdb\u7a0bid /proc/[pid] name string \u8fdb\u7a0b\u540d\u5b57 /proc/[pid]/status/Name path string \u8fdb\u7a0b\u8def\u5f84 /proc/[pid]/exe cmdline string \u542f\u52a8\u547d\u4ee4 /proc/[pid]/cmdline work_dir string \u5de5\u4f5c\u76ee\u5f55 /proc/[pid]/cwd ppid uint64 \u7236\u8fdb\u7a0bid /proc/[pid]/status/PPid uid int32 \u7528\u6237id /proc/[pid]/status/Uid user_name string \u7528\u6237\u540d \u901a\u8fc7 getpwuid \u83b7\u53d6 gid int32 \u7ec4id /proc/[pid]/status/Gid state ProcessState \u8fdb\u7a0b\u72b6\u6001 /proc/[pid]/status/State running_time double \u8fd0\u884c\u65f6\u957f(\u5355\u4f4d\u4e3a\u79d2) /proc/uptime - (/proc/[pid]/stat/start_time[22]) / sysconf(_SC_CLK_TCK) container_id string /proc/[pid]/cgroup open_fd_count uint64 \u6253\u5f00\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u6570\u91cf /proc/[pid]/status/FDSize involuntary_ctx_switches uint64 \u88ab\u52a8\u4e0a\u4e0b\u6587\u5207\u6362\u6b21\u6570 /proc/[pid]/status/nonvoluntary_ctxt_switches voluntary_ctx_switches uint64 \u4e3b\u52a8\u4e0a\u4e0b\u6587\u5207\u6362\u6b21\u6570 /proc/[pid]/status/voluntary_ctxt_switches cpu_nice uint64 \u4f18\u5148\u7ea7 /proc/[pid]/stat/[19] threads_num uint64 \u7ebf\u7a0b\u6570\u91cf /proc/[pid]/status/Threads env_variables repeated EnvVariable \u73af\u5883\u53d8\u91cf /proc/[pid]/environ memory_usage ProcessMemoryUsage \u5185\u5b58\u4f7f\u7528\u7387 /proc/[pid]/statm iostat_read_bytes uint64 \u8bfb\u53d6\u5b57\u8282\u6570 /proc/[pid]/io/read_bytes iostat_write_bytes uint64 \u5199\u5165\u5b57\u8282\u6570 /proc/[pid]/io/write_bytes iostat_read_bytes_rate double \u8bfb\u53d6\u5b57\u8282\u901f\u7387 diff(iostat_read_bytes) / sample_period iostat_write_bytes_rate double \u5199\u5165\u5b57\u8282\u901f\u7387 diff(iostat_write_bytes) / sample_period cpu_user_time uint64 \u7528\u6237\u6001 cpu \u4f7f\u7528\u65f6\u95f4 (/proc/[pid]/stat/utime[14]) / sysconf(_SC_CLK_TCK) cpu_system_time uint64 \u5185\u6838\u6001 cpu \u4f7f\u7528\u65f6\u95f4 (/proc/[pid]/stat/stime[15]) / sysconf(_SC_CLK_TCK) cpu_user_pct double \u7528\u6237\u6001cpu \u4f7f\u7528\u7387 this.cpu_user_time / (/proc/uptime - this.running_time) cpu_system_pct double Kernel CPU \u4f7f\u7528\u7387\u767e\u5206\u6bd4 (this.cpu_system_time) / (/proc/uptime - this.running_time) cpu_total_pct double CPU\u603b\u4f53\u4f7f\u7528\u7387 this.cpu_user_pct + this.cpu_system_pct start_time int64 \u8fdb\u7a0b\u542f\u52a8\u65f6\u95f4\u70b9 time(null) - running_time is_kernel_thread bool \u662f\u5426\u662f\u5185\u6838\u8fdb\u7a0b gpu_usage ProcessGPUUsage GPU Memory Usage"},{"location":"user-guide/","title":"\u7528\u6237\u6307\u5357","text":"<p>\u5728\u672c\u300c\u7528\u6237\u6307\u5357\u300d\u90e8\u5206\uff0c\u6211\u4eec\u4e3b\u8981\u4ecb\u7ecdLoggie\u7684\u4e3b\u8981\u529f\u80fd\u548c\u7279\u6027\uff0c\u540c\u65f6\u5c55\u793a\u5728\u5404\u79cd\u4e0d\u540c\u7684\u573a\u666f\u4e0b\uff0c\u5982\u4f55\u4f7f\u7528Loggie\u6ee1\u8db3\u5404\u7c7b\u9700\u6c42\u3002  </p> <p>\u5982\u679c\u5e0c\u671b\u67e5\u8be2\u5177\u4f53\u7ec4\u4ef6\u7684\u4f7f\u7528\u4e0e\u914d\u7f6e\u65b9\u5f0f\uff0c\u8bf7\u6233\u300c\u7ec4\u4ef6\u914d\u7f6e\u300d\u3002</p>"},{"location":"user-guide/#_2","title":"\u843d\u5730\u4e00\u5957\u65e5\u5fd7\u7cfb\u7edf\u4f1a\u9047\u5230\u54ea\u4e9b\u95ee\u9898\uff1f","text":"<p>\u5728\u4f01\u4e1a\u4e2d\uff0c\u6211\u4eec\u9700\u8981\u600e\u4e48\u53bb\u6784\u5efa\u4e00\u5957\u5b8c\u6574\u7684\u65e5\u5fd7\u7cfb\u7edf\uff1f\u5982\u4f55\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u9009\u578b\uff0c\u5176\u4e2d\u53c8\u4f1a\u78b0\u5230\u54ea\u4e9b\u95ee\u9898\uff1f \u5728\u4e0d\u540c\u7684\u4e1a\u52a1\u7c7b\u578b\u3001\u4e0d\u540c\u7684\u4f7f\u7528\u573a\u666f\u3001\u4e0d\u540c\u7684\u65e5\u5fd7\u89c4\u6a21\u4e0b\uff0c\u6211\u4eec\u53ef\u4ee5\u91c7\u7528\u54ea\u4e9b\u65e5\u5fd7\u7cfb\u7edf\u67b6\u6784\uff1f</p> <p>\u8bf7\u770b\u300c\u4f01\u4e1a\u5b9e\u6218\u300d\u3002</p> <p>\u5728\u6211\u4eec\u5bf9\u843d\u5730\u4e00\u5957\u529f\u80fd\u5b8c\u5584\u3001\u67b6\u6784\u5b8c\u6574\u7684\u65e5\u5fd7\u7cfb\u7edf\u6709\u521d\u6b65\u4e86\u89e3\u540e\uff0c\u60f3\u8981\u77e5\u9053\uff1a</p>"},{"location":"user-guide/#loggie","title":"\u4e3a\u4ec0\u4e48Loggie\u80fd\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898\uff1f","text":"<p>\u5e02\u9762\u4e0a\u5f00\u6e90\u7684\u65e5\u5fd7\u91c7\u96c6Agent\u5df2\u7ecf\u5f88\u591a\u4e86\uff0c\u6211\u4eec\u4e3a\u4ec0\u4e48\u53c8\u9009\u62e9\u7814\u53d1Loggie\u5462\uff1f Loggie\u7684\u8bde\u751f\u662f\u4e3a\u4e86\u89e3\u51b3\u4ec0\u4e48\u95ee\u9898\u5462\uff1f Loggie\u548c\u5176\u4ed6\u7684\u5f00\u6e90\u65e5\u5fd7Agent\u533a\u522b\u662f\u4ec0\u4e48\uff1f  </p> <p>\u8bf7\u770b\u300c\u67b6\u6784\u4e0e\u7279\u6027\u300d\u3002</p>"},{"location":"user-guide/#loggie_1","title":"\u5982\u4f55\u4f7f\u7528Loggie\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898\uff1f","text":"<p>\u5982\u4f55\u5728Kubernetes\u96c6\u7fa4\u4e0b\u4f7f\u7528Loggie\uff1f \u8bf7\u770b\u300cKubernetes\u300d\u3002  </p> <p>\u5982\u4f55\u914d\u7f6e\u5404\u79cd\u4e0d\u540c\u7684\u65e5\u5fd7\u67b6\u6784\uff1f\u5982\u4f55\u63a5\u5165\u73b0\u6709\u7684\u670d\u52a1\uff1f\u5982\u4f55\u914d\u7f6e\u65e5\u5fd7\u7684\u5904\u7406\u548c\u5207\u5206\uff1fLoggie\u8fd8\u63d0\u4f9b\u4e86\u54ea\u4e9b\u6709\u7528\u53c8\u597d\u7528\u7684\u529f\u80fd\uff1f \u8bf7\u770b\u300c\u6700\u4f73\u5b9e\u8df5\u300d\u3002  </p> <p>\u5982\u4f55\u914d\u7f6e\u6574\u4f53\u7684\u76d1\u63a7\u548c\u62a5\u8b66\uff0c\u4fdd\u8bc1Loggie\u6b63\u5e38\u8fd0\u884c\uff1f\u5982\u4f55\u76d1\u63a7\u662f\u5426\u91c7\u96c6\u5230ERROR\u65e5\u5fd7\uff1f \u8bf7\u770b\u300c\u76d1\u63a7\u62a5\u8b66\u300d\u3002  </p>"},{"location":"user-guide/architecture/advantages/","title":"Loggie\u7684\u4f18\u52bf\u4e0e\u7279\u6027","text":"<p>Loggie\u652f\u6301\u591a\u4e2aPipeline\uff0c\u6bcf\u4e2aPipeline\u90fd\u57fa\u4e8e\u7b80\u5355\u76f4\u89c2\u7684source-&gt;interceptor-&gt;sink\u7684\u67b6\u6784\u3002 \u8fd9\u6837\u8bbe\u8ba1\u5e26\u6765\u7684\u597d\u5904\u6709\uff1a</p>"},{"location":"user-guide/architecture/advantages/#_1","title":"\u5f3a\u9694\u79bb","text":"<p>\u591aPipeline\u8bbe\u8ba1\uff0c\u51cf\u5c11\u4e92\u76f8\u5e72\u6270\u3002\u6bd4\u5982\u6211\u4eec\u53ef\u4ee5\u5c06\u91cd\u8981\u7684\u4e1a\u52a1\u65e5\u5fd7\u653e\u5728\u4e00\u4e2aPipeline\u4e2d\uff0c\u5176\u4ed6\u7684\u4e0d\u91cd\u8981\u7684\u65e5\u5fd7\u914d\u7f6e\u4e3a\u53e6\u5916\u7684Pipeline\uff0c\u4e0d\u91cd\u8981\u7684\u65e5\u5fd7\u914d\u7f6e\u53d8\u52a8\u3001\u53d1\u751f\u4e0b\u6e38\u5835\u585e\u65f6\uff0c\u4e0d\u4f1a\u5f71\u54cd\u91cd\u8981\u65e5\u5fd7\u7684\u91c7\u96c6\u548c\u53d1\u9001\u3002</p>"},{"location":"user-guide/architecture/advantages/#_2","title":"\u901a\u7528\u6027\u66f4\u597d","text":"<p>\u5728\u4e00\u4e9b\u573a\u666f\u4e0b\uff0c\u6211\u4eec\u53ef\u80fd\u4f1a\u5c06\u4e0d\u540c\u7c7b\u578b\u7684\u670d\u52a1\u6df7\u5408\u90e8\u7f72\u5728\u4e00\u4e2a\u8282\u70b9\u4e0a\uff0c\u5f88\u53ef\u80fd\u4ed6\u4eec\u7684\u65e5\u5fd7\u4f1a\u53d1\u9001\u5230\u4e0d\u540c\u7684Kafka\u96c6\u7fa4\u4e2d\uff0c\u5982\u679c\u53ea\u6709\u4e00\u4e2a\u5168\u5c40\u7684\u8f93\u51fa\u6e90\uff0c\u9700\u8981\u5728\u8282\u70b9\u4e0a\u90e8\u7f72\u4e24\u4e2aAgent\uff0c\u5982\u679c\u4f7f\u7528Loggie\u5219\u53ea\u9700\u8981\u4f7f\u7528\u4e0d\u540c\u7684Pipeline\u5373\u53ef\uff0c\u6bcf\u4e2aPipeline\u914d\u7f6e\u4e0d\u540c\u7684Sink\uff0c\u51cf\u5c11\u90e8\u7f72\u6210\u672c\u3002 \u6211\u4eec\u751a\u81f3\u53ef\u4ee5\u91c7\u96c6\u76f8\u540c\u7684\u65e5\u5fd7\uff0c\u53d1\u9001\u5230\u4e0d\u540c\u7684\u540e\u7aef\u8f93\u51fa\u6e90\uff0c\u6839\u636e\u5b9e\u9645\u9700\u6c42\u7075\u6d3b\u914d\u7f6e\u3002  </p>"},{"location":"user-guide/architecture/advantages/#_3","title":"\u7075\u6d3b\u3001\u70ed\u63d2\u62d4\u3001\u53ef\u6269\u5c55","text":"<p>\u672c\u8d28\u4e0asource-&gt;interceptor-&gt;sink\u67b6\u6784\u662f\u4e00\u4e2a\u6570\u636e\u6d41\u5f0f\u7684\u8bbe\u8ba1\uff0c\u4e0d\u540c\u7c7b\u578b\u7684source/interceptor/sink\u7684\u6392\u5217\u7ec4\u5408\uff0c\u53ef\u4ee5\u6ee1\u8db3\u65e5\u5fd7\u7684\u4e0d\u540c\u9700\u6c42\uff0c Loggie\u5e76\u6ca1\u6709\u5c06interceptor\u66f4\u7ec6\u5316\u7684\u5206\u7c7b\u6210\u6bd4\u5982Filter/Formater\u7b49\u7c7b\u578b\uff0cinterceptor\u627f\u62c5\u4e86\u9664\u4e86source\u8bfb\u53d6\uff0csink\u53d1\u9001\u4e4b\u5916\u7684\u5927\u90e8\u5206\u5de5\u4f5c\uff0c\u53ea\u9700\u8981\u914d\u7f6e\u4e0d\u540c\u7684interceptor\u5c31\u53ef\u4ee5\u62e5\u6709\u4e2d\u8f6c\u3001\u8fc7\u6ee4\u3001\u89e3\u6790\u3001\u5207\u5206\u3001\u65e5\u5fd7\u62a5\u8b66\u7b49\u80fd\u529b\u3002 \u4e8e\u662f\uff0cLoggie\u53ef\u4ee5\uff1a</p> <ul> <li>\u72ec\u7acb\u90e8\u7f72\u5f53\u4f5c\u65e5\u5fd7\u4e2d\u8f6c\u673a</li> <li>\u5728Agent\u7aef\u6216\u8005\u4e2d\u8f6c\u673a\u7aef\u89e3\u6790\u5904\u7406\u65e5\u5fd7</li> <li>\u975e\u65e5\u5fd7\u91c7\u96c6\u573a\u666f\u4e5f\u53ef\u4ee5\u4f7f\u7528\uff1a\u6bd4\u5982\u76d1\u542ck8s events\uff0c\u6bd4\u5982\u5b9a\u65f6\u540c\u6b65\u6570\u636e\u7b49</li> </ul> <p>\u5728\u90e8\u7f72\u548c\u7ef4\u62a4\u5c42\u9762\u5e26\u6765\u7684\u597d\u5904\u662f\uff1a \u5982\u679c\u4e4b\u524d\u91c7\u7528\u5e38\u89c4\u7684ELK\u67b6\u6784\uff0c\u4f7f\u7528Filebeat\u91c7\u96c6\u65e5\u5fd7\u3001Logstash\u4e2d\u8f6c\u548c\u89e3\u6790\u65e5\u5fd7\uff0c\u7531\u4e8eFilebeat\u548cLogstash\u662f\u4e24\u4e2a\u4e0d\u540c\u7684\u8bed\u8a00\u6808\uff0c\u5e26\u6765\u6392\u67e5\u95ee\u9898\u548c\u6269\u5c55\u5f00\u53d1\u6210\u672c\u5747\u8f83\u9ad8\u3002 \u6539\u7528Loggie\u540e\u6211\u4eec\u65e0\u9700\u7ef4\u62a4\u4e24\u4e2a\u9879\u76ee\uff0c\u751a\u81f3\u5982\u679c\u6ca1\u6709\u4e2d\u8f6c\u673a\u7684\u9700\u6c42\uff0c\u53ef\u4ee5\u9009\u62e9\u5728Agent\u7aef\u914d\u7f6e\u65e5\u5fd7\u89e3\u6790\u3002  </p> <p>\u53e6\u5916\uff0c\u76ee\u524d\u9488\u5bf9\u65e5\u5fd7\u62a5\u8b66\uff0c\u5f00\u6e90\u7684\u65b9\u6848\u4e00\u822c\u4e3a\u4f7f\u7528elastAlert\uff0c\u4f46\u662felastAlert\u65e0\u6cd5\u76f4\u63a5\u5bf9\u63a5AlertManager\uff0c\u5e76\u4e14\u5728\u9ad8\u53ef\u7528\u7b49\u65b9\u9762\u5b58\u5728\u95ee\u9898\uff0c\u540c\u65f6\u4f1a\u5f3a\u4f9d\u8d56Elasticsearch\u3002\u6240\u4ee5\u5982\u679c\u4f7f\u7528Loggie\uff0c\u53ef\u4ee5\u65e0\u9700\u5f15\u5165\u989d\u5916\u7684\u7ec4\u4ef6\uff0c\u76f4\u63a5\u4f7f\u7528Loggie\u6765\u68c0\u6d4b\u5f02\u5e38\u65e5\u5fd7\u5e76\u63a5\u5165\u62a5\u8b66\u3002  </p>"},{"location":"user-guide/architecture/advantages/#_4","title":"\u53ef\u5feb\u901f\u65b9\u4fbf\u7684\u5199\u4e00\u4e2a\u7ec4\u4ef6","text":"<p>Loggie\u57fa\u4e8e\u5fae\u5185\u6838\u7684\u67b6\u6784\uff0c\u6240\u6709\u7684source/interceptor/sink/queue\u90fd\u88ab\u62bd\u8c61\u6210component\uff0c\u53ea\u9700\u8981\u5728\u4ee3\u7801\u4e2d\u5b9e\u73b0Golang\u63a5\u53e3\uff0c\u5373\u53ef\u65b9\u4fbf\u7684\u7814\u53d1\u4e00\u4e2acomponent\u3002 \u5982\u679cLoggie\u5728\u67d0\u4e9b\u573a\u666f\u4e0b\uff0c\u65e0\u6cd5\u6ee1\u8db3\u4f60\u7684\u9700\u6c42\uff0c\u53ef\u4ee5\u5c1d\u8bd5\u5199\u4e00\u4e2a\u81ea\u5df1\u7684component\u3002 \u6bd4\u5982\u9700\u8981Loggie\u8f6c\u6362\u6210\u7279\u5b9a\u7684\u65e5\u5fd7\u683c\u5f0f\uff0c\u53ef\u4ee5\u5199\u4e00\u4e2ainterceptor\u53bb\u5904\u7406\uff1b\u9700\u8981Loggie\u5c06\u91c7\u96c6\u7684\u65e5\u5fd7\u53d1\u9001\u81f3\u5c1a\u672a\u652f\u6301\u7684\u670d\u52a1\uff0c\u53ef\u4ee5\u5199\u4e00\u4e2asink\u3002 \u5f53\u7136\uff0cLoggie\u4f7f\u7528Golang\u7f16\u5199\uff0c\u6240\u4ee5\u4f60\u76ee\u524d\u9700\u8981\u7528Golang\u6765\u5199component\u3002Golang\u548cJava\u6216\u8005C/C++\u76f8\u6bd4\uff0c\u5728\u6027\u80fd\u548c\u7814\u53d1\u6548\u7387\u4e0a\u6709\u4e00\u4e2a\u6298\u4e2d\uff0c\u66f4\u9002\u5408\u7c7b\u4f3c\u65e5\u5fd7Agent\u7684\u573a\u666f\u3002  </p>"},{"location":"user-guide/architecture/advantages/#kubernetes","title":"\u66f4\u65b9\u4fbf\u7684Kubernetes\u5bb9\u5668\u65e5\u5fd7\u91c7\u96c6\uff0c\u66f4\u597d\u7684\u4e91\u539f\u751f\u652f\u6301","text":"<p>\u5982\u679c\u4f60\u5c1d\u8bd5\u8fc7\u5728Kubernetes\u73af\u5883\u4e0b\u91c7\u96c6\u65e5\u5fd7\uff0c\u5e94\u8be5\u9047\u5230\u8fc7\u8fd9\u4e9b\u95ee\u9898\uff1a</p> <ul> <li>\u91c7\u7528sidecar\u8fd8\u662fdaemonset\u90e8\u7f72\u65e5\u5fd7Agent\uff1f</li> <li>\u4f7f\u7528\u4ec0\u4e48\u65b9\u5f0f\u6302\u8f7d\u65e5\u5fd7\u6587\u4ef6\uff1f\u96be\u9053\u53ea\u63a8\u8350\u7528stdout\u8f93\u51fa\u65e5\u5fd7\u5417\uff1f</li> <li>\u91c7\u96c6\u7684\u65e5\u5fd7\u5982\u4f55\u548cPod\u3001Namespace\u3001Node\u7b49\u4fe1\u606f\u5173\u8054\u4e0a\uff1f</li> <li>Kubernetes\u4e0bPod\u4f1a\u52a8\u6001\u7684\u521b\u5efa\u548c\u9500\u6bc1\uff0c\u8fc1\u79fb\u5230\u4e86\u5176\u4ed6\u7684Node\uff0c\u76f8\u5e94\u7684\u65e5\u5fd7Agent\u914d\u7f6e\u600e\u4e48\u529e\u5462\uff1f</li> </ul> <p>\u5982\u679c\u4f60\u4f7f\u7528Loggie\uff0c\u4f60\u53ef\u4ee5\uff1a</p> <ol> <li>\u5feb\u901f\u90e8\u7f72\uff0c\u652f\u6301\u5404\u79cd\u90e8\u7f72\u67b6\u6784</li> <li>\u53ea\u9700\u8981\u4f7f\u7528ClusterLogConfig/LogConfig CRD\u914d\u7f6e\u7ba1\u7406\u65e5\u5fd7\u914d\u7f6e\uff0c\u66f4\u65b9\u4fbf\u7684\u63a5\u5165\u5404\u7c7b\u5bb9\u5668\u4e91\u5e73\u53f0\uff0c\u5bf9\u4e1a\u52a1\u65e0\u4fb5\u5165\uff0c\u65e0\u9700\u5173\u5fc3Pod\u8fc1\u79fb\u7b49\uff0c\u65e0\u9700\u624b\u52a8\u5728\u8282\u70b9\u4e0a\u64cd\u4f5c\u914d\u7f6e\u65e5\u5fd7\u6587\u4ef6\uff0c\u540c\u65f6\u53ef\u914d\u7f6e\u6ce8\u5165Namespace/PodName/NodeName\u7b49\u5143\u4fe1\u606f\u4f9b\u67e5\u8be2\u4f7f\u7528</li> </ol>"},{"location":"user-guide/architecture/advantages/#_5","title":"\u66f4\u597d\u7684\u7a33\u5b9a\u6027\u3001\u66f4\u8be6\u7ec6\u7684\u76d1\u63a7\u6307\u6807\u3001\u66f4\u65b9\u4fbf\u7684\u6392\u969c\u65b9\u5f0f","text":"<p>\u5728\u5b9e\u9645\u7684\u751f\u4ea7\u73af\u5883\u4e2d\uff0c\u65e5\u5fd7Agent\u672c\u8eab\u7684\u7a33\u5b9a\u6027\u5f88\u91cd\u8981\uff0c\u540c\u65f6\u4e0d\u5f71\u54cd\u4e1a\u52a1\u4e5f\u5f88\u91cd\u8981\u3002 Loggie\u53ef\u914d\u7f6e\u9650\u6d41interceptor\uff0c\u5728\u65e5\u5fd7\u91cf\u592a\u5927\u65f6\uff0c\u53ef\u4ee5\u907f\u514d\u53d1\u9001\u65e5\u5fd7\u6570\u636e\u5360\u636e\u4e86\u592a\u591a\u7f51\u7edc\u5e26\u5bbd\u3002 Loggie\u6709\u5408\u7406\u7684\u6587\u4ef6\u53e5\u67c4\u5904\u7406\u673a\u5236\uff0c\u907f\u514dfd\u88ab\u5360\u7528\u7684\u5404\u79cd\u5f02\u5e38\u573a\u666f\u5bfc\u81f4\u8282\u70b9\u4e0d\u7a33\u5b9a\u3002  </p> <p>\u53e6\u5916\uff0cLoggie\u7ed3\u5408\u6211\u4eec\u5728\u5404\u79cd\u73af\u5883\u4e2d\u9047\u5230\u7684\u5404\u79cd\u95ee\u9898\uff0c\u9488\u5bf9\u6027\u7684\u68c0\u6d4b\u66b4\u9732\u51fa\u76f8\u5e94\u7684\u6307\u6807\u3002 \u6bd4\u5982\u6307\u6807\u652f\u6301\u91c7\u96c6\u548c\u53d1\u9001\u5ef6\u8fdf\u68c0\u6d4b\u3002\u6bd4\u5982\u9488\u5bf9\u6587\u4ef6size\u589e\u957f\u592a\u5feb\uff0c\u6216\u8005\u6587\u4ef6size\u592a\u5927\u7b49\u573a\u666f\uff0c\u652f\u6301\u8be5\u7c7bmetric\u4e0a\u62a5\u3002  </p> <p>\u540c\u65f6Loggie\u652f\u6301\u539f\u751fPrometheus metric\uff0c\u53ef\u907f\u514d\u989d\u5916\u90e8\u7f72exporter\u5e26\u6765\u7684\u90e8\u7f72\u6210\u672c\u548c\u8d44\u6e90\u6d88\u8017\u3002Loggie\u8fd8\u63d0\u4f9b\u4e86\u5b8c\u5584\u7684Grafana\u76d1\u63a7\u56fe\u8868\uff0c\u53ef\u4ee5\u65b9\u4fbf\u5feb\u901f\u63a5\u5165\u4f7f\u7528\u3002  </p>"},{"location":"user-guide/architecture/advantages/#_6","title":"\u66f4\u4f4e\u7684\u8d44\u6e90\u5360\u7528\uff0c\u66f4\u597d\u7684\u6027\u80fd","text":"<p>Loggie\u57fa\u4e8eGolang\u7f16\u5199\uff0c\u5728\u4ee3\u7801\u5c42\u9762\u6211\u4eec\u6709\u5f88\u591a\u4f18\u5316\uff0c\u5728\u8f83\u5c11\u8d44\u6e90\u5360\u7528\u7684\u540c\u65f6\uff0c\u8fd8\u53ef\u63d0\u4f9b\u5f3a\u5927\u7684\u541e\u5410\u6027\u80fd\u3002  </p>"},{"location":"user-guide/architecture/background/","title":"Loggie\u7684\u8bde\u751f\u80cc\u666f","text":"<p>\u4e3a\u4ec0\u4e48\u6211\u4eec\u4f1a\u9009\u62e9\u7814\u53d1Loggie\uff0c\u5f53\u65f6\u7684\u80cc\u666f\u548c\u539f\u56e0\u662f\u4ec0\u4e48\uff1f</p>"},{"location":"user-guide/architecture/background/#_1","title":"\u4e00\u3001\u90a3\u4e9b\u5e74\u6211\u4eec\u9047\u5230\u7684\u95ee\u9898","text":"<p>\u5728\u7814\u53d1Loggie\u4e4b\u524d\uff0c\u6211\u4eec\u7684\u65e5\u5fd7\u670d\u52a1\u91c7\u96c6\u7aef\u90fd\u662f\u4f7f\u7528Filebeat\uff0c\u5f53\u65f6\u4e3a\u4ec0\u4e48\u9009\u62e9Filebeat\u5462\uff1f</p> <p>Filebeat\u662fElastic\u516c\u53f8\u7684\u4ea7\u54c1\uff0c\u4e3b\u6253\u8f7b\u91cf\u7ea7\uff0c\u7528\u4e8e\u66ff\u6362\u539f\u6709Logstash\u53bb\u5b9e\u73b0\u65e5\u5fd7\u91c7\u96c6\u7684\u5de5\u4f5c\uff0c\u76f8\u6bd4\u4ed6\u4eec\u81ea\u5bb6\u57fa\u4e8eJRuby\u8bed\u8a00\u7684Logstash\uff0cFilebeat\u786e\u5b9e\u662f\u76f8\u5bf9\u8f7b\u91cf\u3001\u8d44\u6e90\u5360\u7528\u5c11\u3002\u548c\u5176\u4ed6\u7684\u5f00\u6e90\u65e5\u5fd7\u91c7\u96c6Agent\u76f8\u6bd4\uff0c\u57fa\u4e8eGolang\u5f00\u53d1\u7684Filebeat\uff0c\u4e5f\u6709\u5f88\u591a\u4f18\u52bf\u3002 \u4f8b\u5982\uff0c\u76f8\u6bd4\u57fa\u4e8eJava\u7684Flume\uff0c\u6027\u80fd\u66f4\u597d\uff0c\u8d44\u6e90\u5360\u7528\u66f4\u5c11\uff1b\u76f8\u6bd4\u57fa\u4e8eRuby\u7684Fluentd\uff0c\u6027\u80fd\u66f4\u597d\uff0c\u4e8c\u6b21\u5f00\u53d1\u66f4\u65b9\u4fbf\uff1b\u76f8\u6bd4\u57fa\u4e8eC\u7684Fluentd-bit\uff0c\u529f\u80fd\u66f4\u5b8c\u5584\uff0c\u5f00\u53d1\u66f4\u53cb\u597d\u3002 \u6240\u4ee5\uff0c\u603b\u4f53\u6765\u8bf4\uff0cFilebeat\u662f\u4e00\u4e2a\u76f8\u5bf9\u6bd4\u8f83\u5e73\u8861\u7684\u65e5\u5fd7\u91c7\u96c6Agent\uff0c\u8fd9\u4e5f\u662f\u6211\u4eec\u5f53\u521d\u9009\u62e9Filebeat\u4f5c\u4e3a\u9ed8\u8ba4\u65e5\u5fd7\u91c7\u96c6Agent\u7684\u539f\u56e0\u3002  </p> <p>\u4f46\u662f\u968f\u7740\u6211\u4eec\u5bf9Filebeat\u66f4\u52a0\u6df1\u5ea6\u7684\u4f7f\u7528\uff0c\u5728\u516c\u53f8\u96c6\u56e2\u5185\u90e8\u5b9e\u8df5\u548c\u5916\u90e8\u5ba2\u6237\u7684\u4ea4\u4ed8\u4e2d\uff0c\u4e5f\u78b0\u5230\u4e86\u4e00\u4e9b\u95ee\u9898\u3002  </p> <p>\u7531\u4e8eFilebeat\u8bbe\u8ba1\u5f53\u521d\u8bbe\u8ba1\u65f6\uff0c\u4e3a\u4e86\u533a\u5206\u4e8eLogstash\uff0c\u7a81\u51fa\u8f7b\u91cf\u7ea7\uff0c\u727a\u7272\u4e86\u5f88\u591a\u53ef\u6269\u5c55\u6027\u7684\u8bbe\u8ba1\u3002 \u6700\u660e\u663e\u7684\u5c31\u662f\uff0cFilebeat\u53ea\u6709\u4e00\u4e2aQueue\u548c\u4e00\u4e2aOutput\u3002\u8fd9\u6837\u4e5f\u5bfc\u81f4\u4e86\uff1a  </p>"},{"location":"user-guide/architecture/background/#_2","title":"\u9694\u79bb\u6027\u5f31","text":"<p>\u7531\u4e8e\u6240\u6709\u7684\u670d\u52a1\u65e5\u5fd7\u90fd\u4f1a\u53d1\u9001\u5230\u5168\u5c40\u552f\u4e00\u7684Queue\u91cc\uff0c\u5bfc\u81f4\u670d\u52a1\u65e5\u5fd7\u6570\u636e\u6df7\u5728\u4e00\u8d77\uff0c\u5728\u5f02\u5e38\u573a\u666f\u53d1\u751f\u65f6\uff0c\u65e0\u6cd5\u6709\u9694\u79bb\u6027\u7684\u4fdd\u969c\u3002 \u6bd4\u5982Filebeat\u5168\u5c40\u7684Queue\u5806\u79ef\uff0c\u4f1a\u5bfc\u81f4\u8282\u70b9\u7684\u6240\u6709\u670d\u52a1\u65e5\u5fd7\u5747\u65e0\u6cd5\u53d1\u9001\uff0c\u5982\u679c\u6211\u4eec\u5bf9\u4e0d\u540c\u670d\u52a1\u7684\u65e5\u5fd7\u7684\u7ea7\u522b\u548c\u8981\u6c42\u4e0d\u4e00\u6837\uff0c\u4e0d\u7ba1\u91cd\u8981\u8fd8\u662f\u4e0d\u91cd\u8981\u7684\u65e5\u5fd7\u90fd\u4f1a\u53d7\u5230\u5f71\u54cd\u3002  </p>"},{"location":"user-guide/architecture/background/#output","title":"\u4e0d\u652f\u6301\u591a\u4e2aOutput","text":"<p>\u6709\u4e00\u4e9b\u573a\u666f\u4e0b\uff0c\u6211\u4eec\u53ef\u80fd\u9700\u8981\u5c06\u4e0d\u540c\u670d\u52a1\u7684\u4e0d\u540c\u7c7b\u578b\u65e5\u5fd7\u53d1\u9001\u81f3\u4e0d\u540c\u7684\u540e\u7aef\uff0c\u4f46Filebeat\u65e0\u6cd5\u4f7f\u7528\u540c\u4e00\u4e2aAgent\u53bb\u53d1\u9001\u5230\u4e0d\u540c\u7684Kafka\u96c6\u7fa4\uff0c\u53ea\u80fd\u5728\u8282\u70b9\u4e0a\u90e8\u7f72\u591a\u4e2aAgent\uff0c\u5bfc\u81f4\u7ef4\u62a4\u548c\u8d44\u6e90\u6210\u672c\u4e0a\u5347\u3002  </p>"},{"location":"user-guide/architecture/background/#_3","title":"\u53ef\u6269\u5c55\u6027\u6709\u9650","text":"<p>\u76f8\u6bd4Logstash/Flume\u7b49\uff0cFilebeat\u5e76\u975e\u4f7f\u7528\u7c7b\u4f3c\u7684input-&gt;queue-&gt;output\u7684\u7075\u6d3b\u591a\u4e2apipeline\u8bbe\u8ba1\uff0c\u5728\u5bf9\u4e8e\u65e5\u5fd7\u6570\u636e\u7684\u5904\u7406/\u8fc7\u6ee4/\u589e\u5f3a\u4e0a\uff0c\u4f9d\u8d56\u7684\u662fFilebeat\u6709\u9650\u7684\u4e00\u4e9bprocessor\uff0c\u53ef\u6269\u5c55\u6027\u4e0d\u8db3\u3002 \u540c\u65f6Filebeat\u4e5f\u65e0\u6cd5\u4f5c\u4e3a\u4e2d\u8f6c\u805a\u5408\u4f7f\u7528\uff0c\u5728\u4f7f\u7528\u573a\u666f\u4e0b\u5927\u5927\u53d7\u9650\uff0c\u9700\u8981\u989d\u5916\u5f15\u5165\u5176\u4ed6\u7ec4\u4ef6\u3002\u53e6\u5916\u7c7b\u4f3c\u65e5\u5fd7\u62a5\u8b66\u7b49\u573a\u666f\uff0cFilebeat\u4e5f\u65e0\u6cd5\u6ee1\u8db3\u3002 \u6211\u4eec\u4e5f\u5c1d\u8bd5\u8fc7\u5b9a\u5236\u5316\u5f00\u53d1\uff0c\u4f46Filebeat\u672c\u8eab\u7684\u67b6\u6784\u8bbe\u8ba1\u4e0a\u96be\u4ee5\u5b9e\u73b0\u66f4\u591a\u7684\u6269\u5c55\u80fd\u529b\uff0c\u5e76\u4e14\u957f\u671f\u4f1a\u5e26\u6765\u5347\u7ea7\u4e0e\u4e0a\u6e38\u793e\u533a\u4ee3\u7801\u540c\u6b65\u7684\u95ee\u9898\u3002  </p>"},{"location":"user-guide/architecture/background/#_4","title":"\u65e5\u5fd7\u6392\u969c\u8fd0\u7ef4\u56f0\u5883","text":"<p>Filebeat\u7684metrics\u6bd4\u8f83\u6709\u9650\uff0c\u5f88\u591a\u65f6\u5019\u6211\u4eec\u60f3\u8981\u6392\u67e5\u8bf8\u5982\u5e38\u89c1\u7684\u65e5\u5fd7\u662f\u5426\u6709\u91c7\u96c6\u3001\u91c7\u96c6\u7684\u65e5\u5fd7\u662f\u5426\u5b8c\u6574\u3001\u53d1\u9001\u662f\u5426\u6709\u5ef6\u8fdf\u7b49\u7b49\u6392\u969c\u573a\u666f\uff0cFilebeat\u6ca1\u6709\u63d0\u4f9b\u76f8\u5e94\u7684\u529f\u80fd\uff0c\u5341\u5206\u5f71\u54cd\u7ebf\u4e0a\u7684\u95ee\u9898\u6392\u67e5\u6548\u7387\u3002\u800c\u4e14Filebeat\u672a\u63d0\u4f9bPrometheus\u683c\u5f0f\u7684\u76d1\u63a7\u6307\u6807\uff0c\u9700\u8981\u989d\u5916\u6ce8\u5165exporter\u3002  </p>"},{"location":"user-guide/architecture/background/#_5","title":"\u6027\u80fd\u4e0d\u591f","text":"<p>\u867d\u7136Filebeat\u6027\u80fd\u5c1a\u53ef\uff0c\u4f46\u662f\u5728\u6211\u4eec\u7684\u5b9e\u9645\u4f7f\u7528\u65f6\uff0c\u9047\u5230\u65e5\u5fd7\u573a\u666f\u590d\u6742\u3001\u65e5\u5fd7\u91cf\u5927\u7684\u60c5\u51b5\u65f6\uff0c\u5b58\u5728\u541e\u5410\u91cf\u7684\u74f6\u9888\uff0c\u65e0\u6cd5\u6ee1\u8db3\u5b9e\u65f6\u6027\u7684\u9700\u6c42\u3002  </p>"},{"location":"user-guide/architecture/background/#_6","title":"\u4e8c\u3001\u4e3a\u4ec0\u4e48\u73b0\u6709\u7684\u5176\u4ed6\u5f00\u6e90\u65e5\u5fd7\u9879\u76ee\u4e0d\u80fd\u6ee1\u8db3\u9700\u6c42\uff1f","text":"<p>Fluentd/Fluent-bit</p> <p>Fluentd\u57fa\u4e8eRuby\u6027\u80fd\u4e00\u822c\uff0c\u5355\u7ebf\u7a0b\uff1bFluent-bit\u57fa\u4e8eC\uff0c\u5bf9\u4e8e\u6211\u4eec\u7684\u6280\u672f\u6808\u6765\u8bf4\uff0cRuby\u548cC\u7684\u7ef4\u62a4\u548c\u4e8c\u6b21\u5f00\u53d1\u6210\u672c\u6bd4\u8f83\u5927\u3002  </p> <p>Logstash</p> <p>Logstash\u6027\u80fd\u8f83\u5dee\uff0c\u57fa\u4e8eJRuby\u7684\u8d44\u6e90\u5360\u7528\u548c\u635f\u8017\u90fd\u6bd4\u8f83\u5927\u3002</p> <p>Flume</p> <p>\u8d44\u6e90\u5360\u7528\u8f83\u5927\uff0c\u6027\u80fd\u4e00\u822c\uff0c\u4e4b\u524d\u6709\u5185\u90e8\u90e8\u95e8\u4f7f\u7528\u8fc7Flume\uff0c\u5bf9\u6bd4\u7684\u538b\u6d4b\u7ed3\u8bba\u8bc1\u5b9e\u786e\u5b9e\u4e0d\u5982Filebeat\u3002  </p> <p>\u6700\u91cd\u8981\u7684\u662f\uff0c\u76ee\u524d\u6240\u6709\u7684\u5f00\u6e90Agent\uff0c\u5747\u6ca1\u6709\u5bf9K8s\u6709\u5f88\u597d\u7684\u539f\u751f\u652f\u6301\uff0c\u4e2a\u522b\u652f\u6301\u7684\u4e5f\u53ea\u80fd\u91c7\u96c6stdout\u7684\u65e5\u5fd7\u3002 \u6b63\u662f\u7531\u4e8e\u76ee\u524d\u5f00\u6e90\u7684Agent\u5b58\u5728\u4e00\u4e9b\u95ee\u9898\uff0c\u4e0d\u80fd\u6ee1\u8db3\u957f\u671f\u7684\u9700\u6c42\uff0c\u6240\u4ee5\u6211\u4eec\u51b3\u5b9a\u5f00\u59cb\u81ea\u7814\u3002  </p>"},{"location":"user-guide/architecture/background/#agent","title":"\u4e09\u3001\u4ec0\u4e48\u624d\u662f\u6211\u4eec\u7406\u60f3\u4e2d\u7684\u65e5\u5fd7Agent\uff1f","text":"<p>\u6574\u4f53\u7684\u76ee\u6807\uff1a \u9ad8\u6027\u80fd\u3001\u8d44\u6e90\u5360\u7528\u4f4e\u3001\u9ad8\u53ef\u7528\u3001\u7a33\u5b9a\u6027\u5f3a\u3001\u53ef\u6269\u5c55\u6027\u5f3a\u3001\u66f4\u9002\u5408\u4e91\u539f\u751f\u3002</p> <p>\u6027\u80fd\u4e0e\u8d44\u6e90\uff1a \u6027\u80fd\u76f8\u540c\u7684\u60c5\u51b5\u4e0b\uff0cCPU\u6bd4\u793e\u533aFilebeat\u5927\u5927\u964d\u4f4e\uff0c\u541e\u5410\u91cf\u4e0a\u9650\u8981\u8fdc\u9ad8\u4e8eFilebeat\u3002</p> <p>\u9ad8\u53ef\u7528\u3001\u7a33\u5b9a\u6027\u5f3a\uff1a \u8d44\u6e90\u9694\u79bb\uff0c\u4f5c\u4e3a\u57fa\u7840\u8bbe\u65bd\u4e00\u5b9a\u8981\u7a33\u5b9a\u53ef\u9760\uff0c\u540c\u65f6\u9ed8\u8ba4\u652f\u6301\u5927\u91cf\u76d1\u63a7\u6307\u6807\uff0c\u5bf9\u5e38\u89c1\u7684\u8fd0\u7ef4\u7c7b\u95ee\u9898\u6709\u826f\u597d\u7684\u652f\u6491\uff0c\u51cf\u5c11\u8fd0\u7ef4\u8d1f\u62c5\u3002</p> <p>\u53ef\u6269\u5c55\u6027\uff1a \u6574\u4f53\u8bbe\u8ba1\u4e0a\uff0c\u65b9\u4fbf\u7528\u6237\u6269\u5c55\uff0c\u5b9e\u73b0\u8fc7\u6ee4\u3001\u8def\u7531\u3001\u7f16\u7801\u7b49\u80fd\u529b\u3002\u6bd4\u5982\u53ef\u4ee5\u5f88\u5feb\u901f\u7684\u5199\u4e00\u4e2a\u5904\u7406\u903b\u8f91\uff0c\u5c31\u53ef\u4ee5\u8fdb\u884c\u6570\u636e\u5904\u7406\u3002  </p> <p>\u603b\u7ed3\u4e00\u4e0b\uff0c\u6211\u4eec\u7406\u60f3\u4e2d\u7684\u65e5\u5fd7Agent\u662f\u4e00\u4e2a\uff1a</p> <ol> <li>\u5f00\u7bb1\u5373\u7528\uff1a\u53ef\u5feb\u901f\u90e8\u7f72\u5bb9\u5668\u5316\u573a\u666f\u4e0b\u7684\u65e5\u5fd7\u91c7\u96c6\u670d\u52a1\uff1b\u6709\u5b8c\u5584\u7684\u6587\u6863\u4e0e\u7ecf\u9a8c\u4ecb\u7ecd\uff1b</li> <li>\u9ad8\u6027\u80fd\uff1a\u6bd4\u539f\u751fFilebeat\u6027\u80fd\u9ad8\uff0c\u8d44\u6e90\u5360\u7528\u5c11\uff1b</li> <li>\u9ad8\u53ef\u9760\uff1a\u9694\u79bb\u6027\u7a33\u5b9a\u6027\u66f4\u5f3a\uff1b\u9ed8\u8ba4\u96c6\u6210\u66f4\u591a\u7684\u76d1\u63a7\u6307\u6807\uff0c\u65b9\u4fbf\u8fd0\u7ef4\u6392\u969c\uff1b</li> <li>\u53ef\u6269\u5c55\uff1a\u57fa\u4e8e\u5fae\u5185\u6838\u7684\u67b6\u6784\uff0c\u7528\u6237\u53ef\u65b9\u4fbf\u5feb\u6377\u7684\u5199\u81ea\u5df1\u7684\u63d2\u4ef6\uff0c\u6ee1\u8db3\u5404\u79cd\u5b9a\u5236\u5316\u9700\u6c42\uff1b</li> </ol>"},{"location":"user-guide/architecture/compare/","title":"\u5f00\u6e90\u9879\u76ee\u5bf9\u6bd4","text":"Loggie Filebeat Fluentd Logstash Flume \u5f00\u53d1\u8bed\u8a00 Golang Golang Ruby JRuby Java \u591aPipeline \u652f\u6301 \u5355\u961f\u5217 \u5355\u961f\u5217 \u652f\u6301 \u652f\u6301 \u591a\u8f93\u51fa\u6e90 \u652f\u6301 \u4e0d\u652f\u6301\uff0c\u4ec5\u4e00\u4e2aOutput \u914d\u7f6ecopy \u652f\u6301 \u652f\u6301 \u4e2d\u8f6c\u673a \u652f\u6301 \u4e0d\u652f\u6301 \u652f\u6301 \u652f\u6301 \u652f\u6301 \u65e5\u5fd7\u62a5\u8b66 \u652f\u6301 \u4e0d\u652f\u6301 \u4e0d\u652f\u6301 \u4e0d\u652f\u6301 \u4e0d\u652f\u6301 Kubernetes\u5bb9\u5668\u65e5\u5fd7\u91c7\u96c6 \u652f\u6301\u5bb9\u5668\u7684stdout\u548c\u5bb9\u5668\u5185\u90e8\u65e5\u5fd7\u6587\u4ef6 \u53ea\u652f\u6301\u5bb9\u5668stdout \u53ea\u652f\u6301\u5bb9\u5668stdout \u4e0d\u652f\u6301 \u4e0d\u652f\u6301 \u914d\u7f6e\u4e0b\u53d1 Kubernetes\u4e0b\u53ef\u901a\u8fc7CRD\u914d\u7f6e\uff0c\u4e3b\u673a\u573a\u666f\u914d\u7f6e\u4e2d\u5fc3\u9646\u7eed\u652f\u6301\u4e2d \u624b\u52a8\u914d\u7f6e \u624b\u52a8\u914d\u7f6e \u624b\u52a8\u914d\u7f6e \u624b\u52a8\u914d\u7f6e \u76d1\u63a7 \u539f\u751f\u652f\u6301Prometheus metrics\uff0c\u540c\u65f6\u53ef\u914d\u7f6e\u5355\u72ec\u8f93\u51fa\u6307\u6807\u65e5\u5fd7\u6587\u4ef6\u3001\u53d1\u9001metrics\u7b49\u65b9\u5f0f API\u63a5\u53e3\u66b4\u9732\uff0c\u63a5\u5165Prometheus\u9700\u4f7f\u7528\u989d\u5916\u7684exporter \u652f\u6301API\u548cPrometheus metrics \u9700\u4f7f\u7528\u989d\u5916\u7684exporter \u9700\u4f7f\u7528\u989d\u5916\u7684exporter \u8d44\u6e90\u5360\u7528 \u4f4e \u4f4e \u4e00\u822c \u8f83\u9ad8 \u8f83\u9ad8"},{"location":"user-guide/architecture/compare/#_2","title":"\u57fa\u51c6\u6027\u80fd\u6d4b\u8bd5\u4e0e\u5bf9\u6bd4","text":"<p>\u6d4b\u8bd5\u73af\u5883\uff1a</p> <ul> <li>\u7269\u7406\u673a 48C\uff0c256G</li> <li>Kafka 3 Broker\uff0c\u6302\u8f7dSSD\u76d8</li> <li>Filebeat v7.8\u7248\u672c\uff0c\u65e0\u914d\u7f6eprocessor\u7b49\u5904\u7406\uff1bLoggie\u9ed8\u8ba4\u5305\u542bcost\u3001retry\u3001metric interceptor\uff1b</li> </ul> <p>\u6d4b\u8bd5\u76ee\u7684\uff1a</p> <p>Filebeat\u548cLoggie\u7684\u6027\u80fd\u5bf9\u6bd4</p> <p>\u6d4b\u8bd5\u601d\u8def\uff1a</p> <p>Filebeat\u548cLoggie\uff0c\u5747\u91c7\u96c6\u65e5\u5fd7\u53d1\u9001\u81f3Kafka\uff0c\u89c2\u5bdf\u76f8\u5e94\u7684\u8d44\u6e90\u5360\u7528\u548c\u53d1\u9001\u541e\u5410\u91cf</p> <p>\u6d4b\u8bd5\u8be6\u60c5\uff1a</p> <p>\u5355\u6587\u4ef6\u81ea\u52a8\u751f\u62105000000\u884c\u65e5\u5fd7\uff0c\u6bcf\u884c\u5185\u5bb9\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code>[13/May/2021:10:20:29 +0800] 0.015 10.200.170.107 \"GET /static/3tJHS3Ubrf.html?activity_channel_id=22=1_00000&amp;fromMiniapp=1&amp;miniapp_uuid=uEd93lG2eG8Qj5fRXuiJwNt4bmiylkmg HTTP/1.1\" 200 138957 \"110.183.45.54, 10.200.151.37\" act.you.163.com \"\" \"Mozilla/5.0 (Linux; Android 8.1.0; PADM00Build/O11019; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/67.0.3396.87 XWEB/568 MMWEBSDK/190102 Mobile Safari/537.36 MMWEBID/6881 MicroMessenger/7.0.3.1400(0x2700033B) Process/appbrand0 NetType/WIFI Language/zh_CN miniProgram\" \"\" [127.0.0.1:8990] [0.014] [] [] immsg={\"st\":1553307293614,\"sb\":138963,\"rc\":200,\"cf\":{\"sr\":1},\"if\":\"default\",\"ut\":14,\"sv\":\"static\",\"pd\":\"activity\",\"qb\":764}\n</code></pre> <p>\u914d\u7f6eFilebeat\u548cLoggie\u91c7\u96c6\u65e5\u5fd7\uff0c\u5e76\u53d1\u9001\u81f3Kafka\u67d0\u4e2aTopic\uff0c\u4e0d\u4f7f\u7528\u5ba2\u6237\u7aef\u538b\u7f29\uff0cKafka Topic\u914d\u7f6ePartition\u4e3a3\u3002</p> <p>\u5728\u4fdd\u8bc1Agent\u89c4\u683c\u8d44\u6e90\u5145\u8db3\u7684\u60c5\u51b5\u4e0b\uff0c\u4fee\u6539\u91c7\u96c6\u7684\u6587\u4ef6\u4e2a\u6570\u3001\u53d1\u9001\u5ba2\u6237\u7aef\u5e76\u53d1\u5ea6\uff08\u914d\u7f6eFilebeat worker\u548cLoggie parallelism)\uff0c\u89c2\u5bdf\u5404\u81ea\u7684CPU\u3001Memory\u548cPod\u7f51\u5361\u53d1\u9001\u901f\u7387\u3002</p> <p>\u6d4b\u8bd5\u5f97\u5230\u5982\u4e0b\u6570\u636e\uff1a</p> Agent \u6587\u4ef6\u5927\u5c0f \u65e5\u5fd7\u6587\u4ef6\u6570 \u53d1\u9001\u5e76\u53d1\u5ea6 CPU MEM (rss) \u7f51\u5361\u53d1\u5305\u901f\u7387 Filebeat 3.2G 1 3 7.5~8.5c 63.8MiB 75.9MiB/s Filebeat 3.2G 1 8 10c 65MiB 70MiB/s Filebeat 3.2G 10 8 11c 65MiB 80MiB/s Loggie 3.2G 1 3 2.1c 60MiB 120MiB/s Loggie 3.2G 1 8 2.4c 68.7MiB 120MiB/s Loggie 3.2G 10 8 3.5c 70MiB 210MiB/s <p>\u6d4b\u8bd5\u7ed3\u8bba\uff1a</p> <p>\u76f8\u540c\u538b\u6d4b\u6761\u4ef6\u548c\u573a\u666f\u4e0b\uff1a</p> <ul> <li> <p>Loggie\u548cFilebeat\u6d88\u8017\u7684CPU\u76f8\u6bd4\uff0c\u5927\u6982\u4ec5\u4e3a\u540e\u8005\u7684\u00bc\uff0c\u540c\u65f6\u53d1\u9001\u541e\u5410\u91cf\u4e3a\u540e\u8005\u76841.6\uff5e2.6\u500d\u3002</p> </li> <li> <p>Memory\u76f8\u5f53\uff0c\u5747\u5904\u4e8e\u8f83\u4f4e\u7684\u6c34\u51c6\u3002</p> </li> <li> <p>Filebeat\u7684\u6781\u9650\u541e\u5410\u91cf\u5b58\u5728\u74f6\u9888\uff0c80MB/s\u540e\u5f88\u96be\u63d0\u5347\uff0c\u800cLoggie\u5219\u53ef\u4ee5\u8fbe\u5230200MiB/s\u4ee5\u4e0a\u3002</p> </li> </ul>"},{"location":"user-guide/architecture/core-arch/","title":"\u8bbe\u8ba1\u67b6\u6784","text":""},{"location":"user-guide/architecture/core-arch/#_2","title":"\u5185\u90e8\u8bbe\u8ba1","text":"<p>Loggie\u8be6\u7ec6\u7684\u8bbe\u8ba1\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p></p> <p>\u6570\u636e\u94fe\u8def:</p> <ul> <li>\u652f\u6301\u591apipeline\uff0c\u6bcf\u4e2apipeline\u76f8\u5bf9\u72ec\u7acb</li> <li>\u6bcf\u4e2apipeline\u6709\u591a\u4e2asource\u3001\u4e00\u4e2aqueue\u548c\u4e00\u4e2asink</li> <li>interceptor\u5b9e\u9645\u4e0a\u5206\u4e3asource interceptor\u548csink interceptor\u4e24\u79cd\u4e0d\u540c\u7c7b\u578b\uff0csource\u7c7b\u7684interceptor\u53ef\u914d\u7f6e\u88ab\u67d0\u4e2asource\u72ec\u5360</li> </ul> <p>\u63a7\u5236\u94fe\u8def:</p> <ul> <li>\u76ee\u524d\u6709Kubernetes\u4e3a\u914d\u7f6e\u4e2d\u5fc3\uff0c\u53ef\u4ee5\u901a\u8fc7CRD\u7684\u65b9\u5f0f\u4e0b\u53d1\u65e5\u5fd7\u914d\u7f6e\uff0c\u5f53\u7136\u4f60\u4e5f\u53ef\u4ee5\u624b\u52a8\u914d\u7f6e\u6587\u4ef6</li> <li>\u6253\u5f00Reloader\u53ef\u4ee5\u52a8\u6001\u68c0\u6d4b\u914d\u7f6e\u53d8\u52a8\u5e76\u91cd\u8f7d</li> <li>\u7ec4\u4ef6\u53ef\u53d1\u9001\u5bf9\u5e94topic\u7684metrics\uff0c\u7531listener\u6765\u6d88\u8d39\u5904\u7406\uff0c\u5e76\u8fdb\u4e00\u6b65\u66b4\u9732\u6216\u8005\u53d1\u9001\u6307\u6807</li> </ul>"},{"location":"user-guide/architecture/core-arch/#_3","title":"\u4f7f\u7528\u5f62\u6001","text":"<p>\u672c\u8d28\u4e0aLoggie\u662f\u4e00\u4e2a\u6570\u636e\u4f20\u8f93\u6d41\u5f0f\u8bbe\u8ba1\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u7075\u6d3b\u7684\u4f7f\u7528Loggie\u7684Pipeline\u3002\u4ece\u4f7f\u7528\u5f62\u6001\u4e0a\u53ef\u5206\u4e3a\uff1a  </p> <ul> <li>Agent \u5f62\u6001\uff1a\u6bcf\u4e2a\u8282\u70b9\u4e00\u4e2a\u6216\u8005\u6bcf\u4e2aPod\u4e00\u4e2a\uff0c\u7528\u4e8e\u91c7\u96c6\u914d\u7f6e\u7684\u65e5\u5fd7\u6216\u8005\u5176\u4ed6\u6570\u636e</li> <li>Aggregator \u5f62\u6001\uff1a\u7528\u4e8e\u4e2d\u8f6c\u548c\u8f6c\u53d1\uff0c\u53ef\u72ec\u7acb\u90e8\u7f72\u6210\u96c6\u7fa4</li> </ul> <p>\u9664\u4e86\u65e5\u5fd7\u91c7\u96c6\uff0c\u5f88\u591a\u6d89\u53ca\u5230\u6570\u636e\u4f20\u8f93\u3001\u8f6c\u6362\u7684\u573a\u666f\uff0c\u90fd\u53ef\u4ee5\u8003\u8651\u4f7f\u7528Loggie\uff0c\u5373\u4f7fLoggie\u6ca1\u6709\u4f60\u60f3\u8981\u7684\u7ec4\u4ef6\uff0c\u4f60\u4e5f\u53ef\u4ee5\u5feb\u901f\u5f00\u53d1\u4e00\u4e2asource\u3001sink\u6216interceptor\uff0c\u540c\u65f6\u590d\u7528Loggie\u7684\u5f88\u591a\u80fd\u529b\uff0c\u907f\u514d\u91cd\u590d\u7684\u5f00\u53d1\u5de5\u4f5c\uff0c\u6bd4\u5982\uff1a</p> <ul> <li>\u5728Kubernetes\u96c6\u7fa4\u4e2d\u53ef\u65b9\u4fbf\u3001\u76f4\u63a5\u7684\u4f7f\u7528CRD\u4e0b\u53d1\u914d\u7f6e\uff0c\u5e76\u4e14\u652f\u6301\u81ea\u52a8reload\u3001\u652f\u6301\u6307\u5b9aLoggie\u96c6\u7fa4\uff0c\u65e0\u9700\u8003\u8651\u90e8\u7f72\u3001\u914d\u7f6e\u66f4\u65b0\u7b49\u95ee\u9898</li> <li>\u4f9d\u8d56Loggie\u63d0\u4f9b\u4f20\u8f93\u8fc7\u7a0b\u7684\u7a33\u5b9a\u6027\u548c\u53ef\u9760\u6027\uff0c\u4fdd\u8bc1at-least-once\u548c\u91cd\u8bd5\u673a\u5236\uff0c\u907f\u514d\u6570\u636e\u4e22\u5931\uff0c\u4ee5\u53ca\u6570\u636e\u91cf\u8fc7\u591a\u6216\u8fc7\u5927\u9020\u6210\u7684\u9690\u60a3</li> <li>\u4f7f\u7528Loggie\u63d0\u4f9b\u7684\u4e00\u7cfb\u5217\u76d1\u63a7\u6307\u6807\uff0c\u6bd4\u5982\u961f\u5217\u957f\u5ea6\u3001\u4f20\u8f93\u5ef6\u8fdf\u3001\u53d1\u9001QPS\u7b49\uff0c\u53ef\u5feb\u901f\u63a5\u5165Prometheus\uff0c\u540c\u65f6\u8fd8\u53ef\u4f7f\u7528\u4e00\u4e9b\u7cfb\u7edf\u5185\u7f6e\u7684\u5feb\u901f\u6392\u969c\u7684\u63a5\u53e3\u4e0e\u80fd\u529b</li> <li>\u4f7f\u7528\u53ef\u63d2\u62d4\u7684Interceptor\u53ef\u7528\u4e8e\u81ea\u5b9a\u4e49\u7684\u6570\u636e\u5904\u7406\u3001\u683c\u5f0f\u8f6c\u6362\u7b49\uff0c\u907f\u514d\u8fc7\u591a\u7684\u5b9a\u5236\u5316\u4ee3\u7801\u5f00\u53d1 ...</li> </ul>"},{"location":"user-guide/architecture/core-arch/#_4","title":"\u5e94\u7528\u573a\u666f","text":"<ul> <li>\u65e5\u5fd7\u91c7\u96c6\uff1a\u91c7\u96c6\u5bb9\u5668\u65e5\u5fd7\u3001\u91c7\u96c6\u8282\u70b9\u65e5\u5fd7</li> <li>\u6570\u636e\u4e2d\u8f6c\uff1a\u65e5\u5fd7\u4e2d\u8f6c\u673a\u805a\u5408\u3001\u8f6c\u53d1\u3001\u5206\u6d41</li> <li>\u6570\u636e\u5904\u7406\uff1a\u8fdb\u884c\u6570\u636e\u7684\u5207\u5206\u3001\u8f6c\u6362\u3001\u5904\u7406</li> <li>\u65e5\u5fd7\u62a5\u8b66\uff1a\u8fdb\u884c\u5f02\u5e38\u65e5\u5fd7\u7684\u68c0\u6d4b\u4e0e\u62a5\u8b66 ...</li> </ul>"},{"location":"user-guide/architecture/schema/","title":"\u6570\u636e\u683c\u5f0f","text":"<p>Info</p> <p>\u4e86\u89e3Loggie\u5185\u90e8\u6570\u636e\u683c\u5f0f\u7684\u8bbe\u8ba1\uff0c\u80fd\u5e2e\u52a9\u6211\u4eec\u914d\u7f6e\u5408\u9002\u7684\u65e5\u5fd7\u5904\u7406\u548c\u65e5\u5fd7\u683c\u5f0f\u8f6c\u6362</p>"},{"location":"user-guide/architecture/schema/#_2","title":"\u7ed3\u6784\u8bbe\u8ba1","text":"<p>\u5728Loggie\u5185\u90e8\u7684\u65e5\u5fd7\u6570\u636e\uff0c\u5305\u62ec\uff1a</p> <ul> <li>body: source\u63a5\u6536\u7684\u539f\u59cb\u6570\u636e\u3002\u6bd4\u5982\u4f7f\u7528file source\u91c7\u96c6\u7684\u65e5\u5fd7\u6587\u4ef6\u91cc\u7684\u4e00\u884c\u65e5\u5fd7\u6570\u636e</li> <li>header: \u7528\u6237\u4f7f\u7528\u7684\u5b57\u6bb5\u3002\u6bd4\u5982\u7528\u6237\u81ea\u5df1\u6dfb\u52a0\u5230source\u91cc\u7684fields\u5b57\u6bb5\uff0c\u7528\u6237\u5207\u5206\u65e5\u5fd7\u540e\u5f97\u5230\u7684\u5b57\u6bb5\u7b49</li> <li>meta: Loggie\u7cfb\u7edf\u5185\u7f6e\u7684\u5143\u4fe1\u606f\uff0c\u9ed8\u8ba4\u4e0d\u4f1a\u53d1\u9001\u7ed9\u4e0b\u6e38</li> </ul>"},{"location":"user-guide/architecture/schema/#_3","title":"\u683c\u5f0f\u8f6c\u6362","text":"<p>\u5982\u679c\u4ee5\u4e0a\u7684\u683c\u5f0f\u4e0d\u6ee1\u8db3\u9700\u6c42\uff0c\u53ef\u4ee5\u53c2\u8003\uff1a</p> <ul> <li>\u65e5\u5fd7\u5143\u4fe1\u606f</li> </ul>"},{"location":"user-guide/architecture/schema/#_4","title":"\u65e5\u5fd7\u5207\u5206","text":"<p>\u5bf9\u4e8e\u539f\u59cb\u65e5\u5fd7\u6570\u636e\u7684\u5207\u5206\u4e0e\u5904\u7406\uff0c\u8bf7\u4f7f\u7528 normalize interceptor\uff0c\u8bf7\u53c2\u8003\uff1a</p> <ul> <li>\u65e5\u5fd7\u5207\u5206\u5904\u7406</li> </ul>"},{"location":"user-guide/best-practice/aggregator/","title":"\u4f7f\u7528Loggie\u4e2d\u8f6c\u673a","text":"<p>Loggie\u53ef\u4ee5\u90e8\u7f72\u4e3aAgent\uff0c\u540c\u65f6\u652f\u6301\u72ec\u7acb\u90e8\u7f72\uff0c\u8fdb\u884c\u805a\u5408\u3001\u8f6c\u53d1\u548c\u5904\u7406\u3002  </p>"},{"location":"user-guide/best-practice/aggregator/#_1","title":"\u51c6\u5907\uff1a\u9009\u62e9\u67b6\u6784","text":"<p>\u4f7f\u7528\u4e2d\u8f6c\u673a\u67b6\u6784\u7684\u65b9\u5f0f\u4e00\u822c\u6709\u591a\u79cd\uff0c\u5e38\u89c1\u7684\u6709\uff1a</p> <ul> <li><code>Agent -&gt; Aggregator</code>: Agent\u76f4\u63a5\u53d1\u9001\u81f3Aggregator\uff0cAggregator\u518d\u53d1\u9001\u81f3\u540e\u7aef\u5b58\u50a8\u3002  </li> <li><code>Agent -&gt; MQ -&gt; Aggregator</code>: Agent\u53d1\u9001\u81f3\u6d88\u606f\u961f\u5217\uff0c\u6bd4\u5982Kafka\uff0c\u7136\u540eAggregator\u518d\u6d88\u8d39Kafka\u6d88\u606f\u53d1\u9001\u81f3\u540e\u7aef\u3002  </li> </ul> <p>\u662f\u5426\u5f15\u5165Kafka\u7b49\u6d88\u606f\u961f\u5217\uff0c\u4e3b\u8981\u53d6\u51b3\u4e8e\u81ea\u8eab\u7684\u573a\u666f\u9700\u6c42\u548c\u6570\u636e\u7684\u91cf\u7ea7\u3002  </p>"},{"location":"user-guide/best-practice/aggregator/#_2","title":"\u51c6\u5907\uff1a\u90e8\u7f72","text":"<ol> <li> <p>\u90e8\u7f72Agent</p> </li> <li> <p>\u90e8\u7f72Aggregator</p> </li> </ol> <p>\u90e8\u7f72\u4e3aAggregator\u7c7b\u578b\u65f6\uff0c\u8bf7\u52a1\u5fc5\u5728Kubernetes\u914d\u7f6e\u4e2d\u6307\u5b9a<code>cluster</code>\u96c6\u7fa4\u540d\u79f0\u3002  </p>"},{"location":"user-guide/best-practice/aggregator/#_3","title":"\u914d\u7f6e\u4f7f\u7528","text":""},{"location":"user-guide/best-practice/aggregator/#agent","title":"Agent","text":"<p>\u91c7\u96c6\u65e5\u5fd7\u7684LogConfig\u914d\u7f6e\u65e0\u533a\u522b\uff0c\u53ea\u9700\u8981\u4fee\u6539sink\u53d1\u9001\u81f3Loggie Aggregator\u6216\u8005Kafka\u5373\u53ef\u3002  </p> <p>\u88ab\u91c7\u96c6\u7684\u5bb9\u5668\u521b\u5efa\u4ee5\u53ca\u5339\u914d\u7684LogConfig\uff0c\u8bf7\u53c2\u8003Loggie\u91c7\u96c6\u5bb9\u5668\u65e5\u5fd7\u3002</p> <p>\u8fd9\u91cc\u6211\u4eec\u5c06\u5176\u4e2d\u7684sink\u4fee\u6539\u4e3a\u4ee5\u4e0b\u793a\u4f8b\uff1a  </p> <p>Example</p> AggregatorKafka <pre><code>apiVersion: loggie.io/v1beta1\nkind: Sink\nmetadata:\n  name: aggregator\nspec:\n  sink: |\n    type: grpc\n    host: \"loggie-aggregator.loggie-aggregator:6066\"\n</code></pre> <pre><code>apiVersion: loggie.io/v1beta1\nkind: Sink\nmetadata:\n  name: kafka\nspec:\n  sink: |\n    type: kafka\n    brokers: [\"127.0.0.1:6400\"]\n    topic: \"log-${fields.topic}\"\n</code></pre>"},{"location":"user-guide/best-practice/aggregator/#aggregator","title":"Aggregator","text":"<p>\u914d\u7f6eLogConfig\u4e0b\u53d1\u81f3Aggregator\u672c\u8d28\u4e0a\u548cAgent\u4fa7\u65e0\u533a\u522b\uff0c\u53ea\u9700\u8981\u4fee\u6539\u5176\u4e2d<code>selector</code>\u90e8\u5206\u3002  </p> <p>\u7c7b\u4f3c\u5982\u4e0b\uff1a</p> <p>Example</p> <pre><code>apiVersion: loggie.io/v1beta1\nkind: ClusterLogConfig\nmetadata:\n  name: aggre\nspec:\n  selector:\n    type: cluster\n    cluster: aggregator\n  pipeline:\n    sources: |\n      - type: grpc\n        name: rec1\n        port: 6066\n    sinkRef: dev\n</code></pre> <pre><code>apiVersion: loggie.io/v1beta1\nkind: Sink\nmetadata:\n  name: dev\nspec:\n  sink: |\n    type: dev\n    printEvents: true\n    codec:\n      type: json\n      pretty: true\n</code></pre> <p><code>type: cluster</code>\u8868\u793a\u9009\u62e9\u4e0b\u53d1\u914d\u7f6e\u5230<code>cluster</code>\u6307\u5b9a\u7684Loggie\u96c6\u7fa4\uff0c\u5373\u6211\u4eec\u521a\u90e8\u7f72\u7684\u4e2d\u8f6c\u673a\u96c6\u7fa4\uff0c\u5982\u679c\u4e0d\u586b\u5199\u4f1a\u5c06\u914d\u7f6e\u6307\u5b9a\u5230\u9ed8\u8ba4\u7684Agent\u96c6\u7fa4\uff0c\u5bfc\u81f4\u65e0\u6cd5\u751f\u6548\u3002  </p> <p>\u8fd9\u91cc\u7684source\u4e3aGrpc\uff0c\u63a5\u6536Agent Grpc sink\u53d1\u51fa\u7684\u6570\u636e\uff0c\u7136\u540e\u8f6c\u53d1\u81f3\u81ea\u8eabsinkRef\u6307\u5b9a\u7684sink\u4e2d\u3002\u8fd9\u91cc\u6211\u4eec\u521b\u5efa\u4e86\u4e00\u4e2adev sink\u7528\u4e8e\u67e5\u770b\u4e2d\u8f6c\u673a\u8f93\u51fa\u7684\u6570\u636e\u3002  </p>"},{"location":"user-guide/best-practice/aggregator/#_4","title":"\u67e5\u770b\u65e5\u5fd7","text":"<p>\u901a\u8fc7<code>kubectl -nloggie-aggregator logs -f &lt;podName&gt; --tail=200</code>\u547d\u4ee4\u3002 \u53ef\u4ee5\u5728\u4e2d\u8f6c\u673a\u8282\u70b9\u4e0a\u67e5\u770b\u5230\u7c7b\u4f3c\u5982\u4e0b\u65e5\u5fd7\uff1a</p> <p>events</p> <pre><code>2021-12-20 09:58:50 INF go/src/loggie.io/loggie/pkg/sink/dev/sink.go:98 &gt; event: {\n    \"body\": \"14-Dec-2021 06:19:58.306 INFO [main] org.apache.catalina.startup.Catalina.start Server startup in [141] milliseconds\",\n    \"fields\": {\n        \"podname\": \"tomcat-684c698b66-gkrfs\",\n        \"containername\": \"tomcat\",\n        \"logconfig\": \"tomcat\",\n        \"namespace\": \"default\",\n        \"nodename\": \"kind-control-plane\"\n    },\n}\n</code></pre>"},{"location":"user-guide/best-practice/log-enrich/","title":"\u65e5\u5fd7\u589e\u52a0\u52a0\u5143\u4fe1\u606f","text":"<p>\u5efa\u8bae\u5148\u4e86\u89e3Loggie\u5185\u90e8\u65e5\u5fd7\u6570\u636eschema\u8bbe\u8ba1\u3002  </p>"},{"location":"user-guide/best-practice/log-enrich/#_2","title":"\u9700\u6c42\u573a\u666f","text":"<p>Loggie\u90e8\u7f72\u5728\u4e0d\u540c\u7684\u73af\u5883\u4e2d\uff0c\u5982\u679c\u9700\u8981\u5728\u539f\u59cb\u7684\u65e5\u5fd7\u6570\u636e\u91cc\uff0c\u589e\u52a0\u4e00\u4e9b\u5143\u4fe1\u606f\uff0c\u540c\u65f6\u517c\u5bb9\u5df2\u6709\u7684\u683c\u5f0f\uff0c\u53ef\u4ee5\u53c2\u8003\u5982\u4e0b\u7684\u529e\u6cd5\u3002</p>"},{"location":"user-guide/best-practice/log-enrich/#1","title":"\u573a\u666f1: \u53d1\u9001\u539f\u59cb\u6570\u636e","text":"<p>\u6b63\u5e38\u60c5\u51b5\uff0cLoggie\u4ec5\u5c06\u539f\u59cb\u6570\u636e\u53d1\u9001\u7ed9\u4e0b\u6e38\u3002</p> <p>\u5982\u679c\u4f60\u914d\u7f6e\uff1a</p> <p>pipelines.yml</p> <pre><code>pipelines:\n  - name: local\n    sources:\n      - type: file\n        name: demo\n        paths:\n          - /tmp/log/*.log\n    sink:\n      type: dev\n      printEvents: true\n      codec:\n        pretty: true\n</code></pre> <p>sink\u8f93\u51fa\u7684\u6570\u636e\u4ec5\u4e3a\u539f\u59cb\u6570\u636e\uff1a</p> <pre><code>    {\n        \"body\": \"01-Dec-2021 03:13:58.298 INFO [main] Starting service [Catalina]\"\n    }\n</code></pre>"},{"location":"user-guide/best-practice/log-enrich/#2-fields","title":"\u573a\u666f2: \u6dfb\u52a0fields\u81ea\u5b9a\u4e49\u5143\u4fe1\u606f","text":"<p>\u5982\u679c\u6211\u4eec\u5728source\u4e0a\u914d\u7f6e\u4e86\u4e00\u4e9b\u81ea\u5b9a\u4e49\u7684fields\u3002</p> <p>pipelines.yml</p> <pre><code>pipelines:\n  - name: local\n    sources:\n      - type: file\n        name: demo\n        paths:\n          - /tmp/log/*.log\n        fields:\n          topic: \"loggie\"\n\n    sink:\n      type: dev\n      printEvents: true\n      codec:\n        pretty: true\n</code></pre> <p>\u90a3\u4e48sink\u8f93\u51fa\u7684\u4e3a\uff1a</p> <pre><code>    {\n        \"fields\": {\n            \"topic\": \"loggie\",\n        },\n        \"body\": \"01-Dec-2021 03:13:58.298 INFO [main] Starting service [Catalina]\"\n    }\n</code></pre> <p>\u5f53\u7136\u6211\u4eec\u4e5f\u53ef\u4ee5\u914d\u7f6e<code>fieldsUnderRoot: true</code>\uff0c\u8ba9fields\u91cc\u7684<code>key:value</code>\u548cbody\u540c\u4e00\u5c42\u7ea7\u3002</p> <pre><code>        fields:\n          topic: \"loggie\"\n        fieldsUnderRoot: true\n</code></pre> <pre><code>    {\n        \"topic\": \"loggie\",\n        \"body\": \"01-Dec-2021 03:13:58.298 INFO [main] Starting service [Catalina]\"\n    }\n</code></pre>"},{"location":"user-guide/best-practice/log-enrich/#3-file-source","title":"\u573a\u666f3: \u6dfb\u52a0\u65e5\u5fd7\u91c7\u96c6file source\u7684\u72b6\u6001\u4fe1\u606f","text":"<p>\u5728\u6211\u4eec\u4f7f\u7528file source\u65f6\uff0c\u53ef\u80fd\u5e0c\u671b\u81ea\u52a8\u5728\u65e5\u5fd7\u539f\u59cb\u6570\u636e\u91cc\uff0c\u589e\u52a0\u4e00\u4e9b\u65e5\u5fd7\u91c7\u96c6\u7684\u72b6\u6001\uff0c\u6bd4\u5982\u91c7\u96c6\u7684\u6587\u4ef6\u540d\u79f0\u3001\u91c7\u96c6\u7684\u6587\u4ef6offsest\u7b49\uff0cfile source\u63d0\u4f9b\u4e86\u4e00\u4e2a<code>addonMeta</code>\u914d\u7f6e\uff0c\u53ef\u5feb\u901fenable\u3002</p> <p>\u793a\u4f8b\uff1a\u6dfb\u52a0\u5982\u4e0b<code>addonMeta</code>\uff0c\u5e76\u8bbe\u7f6e\u4e3atrue\u3002</p> <p>file source</p> <pre><code>sources:\n- type: file\n  paths:\n  - /var/log/*.log\n  addonMeta: true\n</code></pre> <p>\u6b64\u65f6\uff0c\u91c7\u96c6\u7684event\u4f1a\u53d8\u6210\u7c7b\u4f3c\u5982\u4e0b\uff1a</p> <p>Example</p> <pre><code>{\n  \"body\": \"this is test\",\n  \"state\": {\n    \"pipeline\": \"local\",\n    \"source\": \"demo\",\n    \"filename\": \"/var/log/a.log\",\n    \"timestamp\": \"2006-01-02T15:04:05.000Z\",\n    \"offset\": 1024,\n    \"bytes\": 4096,\n    \"hostname\": \"node-1\"\n  }\n}\n</code></pre> <p>\u5177\u4f53\u5b57\u6bb5\u542b\u4e49\u53ef\u53c2\u8003file source</p>"},{"location":"user-guide/best-practice/log-enrich/#4-kubernetes","title":"\u573a\u666f4: \u589e\u52a0Kubernetes\u5143\u4fe1\u606f","text":"<p>\u5728Kubernetes\u7684\u573a\u666f\u4e2d\uff0c\u91c7\u96c6\u7684\u5bb9\u5668\u65e5\u5fd7\uff0c\u4e3a\u4e86\u5728\u67e5\u8be2\u7684\u65f6\u5019\uff0c\u4f7f\u7528namespace/podName\u7b49\u4fe1\u606f\u8fdb\u884c\u68c0\u7d22\uff0c\u5f80\u5f80\u9700\u8981\u589e\u52a0\u76f8\u5173\u7684\u5143\u6570\u636e\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u5728\u7cfb\u7edf\u914d\u7f6e\u7684discovery.kubernetes\u4e2d\uff0c\u914d\u7f6efields\u5b57\u6bb5\u3002</p> <p>\u53ef\u53c2\u8003discovery\u3002</p>"},{"location":"user-guide/best-practice/log-enrich/#5-meta","title":"\u573a\u666f5: \u6dfb\u52a0meta\u7cfb\u7edf\u5185\u7f6e\u5143\u4fe1\u606f","text":"<p>\u6709\u4e00\u4e9bLoggie\u7cfb\u7edf\u5185\u7f6e\u7684\u5143\u4fe1\u606f\uff0c\u6211\u4eec\u4e5f\u5e0c\u671b\u53d1\u9001\u7ed9\u4e0b\u6e38\uff0c\u8fd9\u4e2a\u65f6\u5019\uff0c\u9700\u8981\u4f7f\u7528normalize interceptor\u4e2d\u7684addMeta processors\u3002</p> <p>pipelines.yml</p> <pre><code>pipelines:\n  - name: local\n    sources:\n      - type: file\n        name: demo\n        paths:\n          - /tmp/log/*.log\n        fields:\n          topic: \"loggie\"\n    interceptors:\n      - type: normalize\n        processors:\n          - addMeta: ~\n\n    sink:\n      type: dev\n      printEvents: true\n      codec:\n        pretty: true\n</code></pre> <p>\u914d\u7f6e\u4e86addMeta processor\u4e4b\u540e\uff0c\u9ed8\u8ba4\u4f1a\u628a\u6240\u6709\u7684\u7cfb\u7edf\u5185\u7f6e\u5143\u4fe1\u606f\u8f93\u51fa\u3002</p> <p>\u9ed8\u8ba4Json\u683c\u5f0f\u8f93\u51fa\u793a\u4f8b\u5982\u4e0b\uff1a</p> <p>Example</p> <pre><code>{\n    \"fields\": {\n        \"topic\": \"loggie\"\n    },\n    \"meta\": {\n        \"systemState\": {\n            \"nextOffset\": 720,\n            \"filename\": \"/tmp/log/a.log\",\n            \"collectTime\": \"2022-03-08T11:33:47.369813+08:00\",\n            \"contentBytes\": 90,\n            \"jobUid\": \"43772050-16777231\",\n            \"lineNumber\": 8,\n            \"offset\": 630\n        },\n        \"systemProductTime\": \"2022-03-08T11:33:47.370166+08:00\",\n        \"systemPipelineName\": \"local\",\n        \"systemSourceName\": \"demo\"\n    },\n    \"body\": \"01-Dec-2021 03:13:58.298 INFO [main] Starting service [Catalina]\"\n}\n</code></pre> <p>\u5f53\u7136\uff0c\u6211\u4eec\u53ef\u80fd\u4f1a\u89c9\u5f97\u8fd9\u4e9b\u6570\u636e\u592a\u591a\u4e86\uff0c\u6216\u8005\u60f3\u5bf9\u5b57\u6bb5\u8fdb\u884c\u4fee\u6539\u3002\u6211\u4eec\u5c31\u53ef\u4ee5\u4f7f\u7528normalize interceptor\u91cc\u7684\u5176\u4ed6processor\uff0c\u8fdb\u884cdrop\u3001rename\u3001copy\u3001timestamp\u8f6c\u6362\u7b49\u64cd\u4f5c\u3002  </p> <p>\u53e6\u5916\uff0c\u8fd9\u91cc\u7684normalize interceptor\u914d\u7f6e\u5728\u67d0\u4e2aPipeline\u4e2d\uff0c\u5982\u679c\u5e0c\u671b\u5168\u5c40\u751f\u6548\uff0c\u907f\u514d\u6bcf\u4e2apipeline\u90fd\u914d\u7f6e\u8be5interceptor\uff0c\u53ef\u4ee5\u5728defaults\u4e2d\u914d\u7f6e\uff1a</p> <p>loggie.yml</p> <pre><code>defaults:\n  interceptors:\n  - type: normalize\n    name: global # \u7528\u4e8e\u533a\u5206pipelines\u4e2d\u7684normalize\uff0c\u907f\u514dpipeline\u4e2d\u5b9a\u4e49\u4e86normalize\u4f1a\u8986\u76d6\u8fd9\u91cc\u7684defaults\n    order: 500   # \u9ed8\u8ba4normalize\u7684order\u503c\u4e3a900\uff0c\u8fd9\u91cc\u5b9a\u4e49\u4e00\u4e2a\u76f8\u5bf9\u8f83\u5c0f\u503c\uff0c\u53ef\u63a7\u5236\u5148\u6267\u884cdefaults\u4e2d\u7684normalize\n    processor:\n    - addMeta: ~\n</code></pre>"},{"location":"user-guide/best-practice/log-enrich/#6beatsformat","title":"\u573a\u666f6\uff1abeatsFormat\u5feb\u901f\u8f6c\u6362","text":"<p>\u5982\u679c\u4f60\u671f\u671b\u7684\u683c\u5f0f\u4e3a\u7c7b\u4f3c\uff1a</p> <pre><code>{\n  \"@timestamp\": \"2021-12-12T11:58:12.141267\",\n  \"message\": \"01-Dec-2021 03:13:58.298 INFO [main] Starting service [Catalina]\",\n}\n</code></pre> <p>Loggie\u63d0\u4f9b\u4e86\u4e00\u4e2a\u5185\u7f6e\u7684\u8f6c\u6362\u65b9\u5f0f\uff0c\u53ef\u4ee5\u5728sink codec\u4e2d\u8bbe\u7f6ebeatsFormat\u5982\u4e0b:</p> <p>Config</p> <pre><code>sink:\n  type: dev\n  printEvents: true\n  codec:\n    type: json\n    beatsFormat: true\n</code></pre> <p>\u4f1a\u5c06\u9ed8\u8ba4\u7684<code>body</code>\u6539\u4e3a<code>message</code>\uff0c\u540c\u65f6\u589e\u52a0<code>@timestamp</code>\u65f6\u95f4\u5b57\u6bb5\u3002</p>"},{"location":"user-guide/best-practice/log-process/","title":"\u65e5\u5fd7\u5207\u5206\u5904\u7406","text":"<p>Loggie\u53ef\u4f7f\u7528normalize interceptor\u6765\u8fdb\u884c\u65e5\u5fd7\u7684\u5207\u5206\u548c\u5904\u7406\uff0c\u5c06\u65e5\u5fd7\u6570\u636e\u8fdb\u884c\u7ed3\u6784\u5316\u7684\u63d0\u53d6\uff0c\u540c\u65f6\u53ef\u4ee5\u5bf9\u63d0\u53d6\u540e\u7684\u5b57\u6bb5\u8fdb\u884c\u5904\u7406\u3002 \u5efa\u8bae\u5148\u4e86\u89e3Loggie\u5185\u90e8\u65e5\u5fd7\u6570\u636eschema\u8bbe\u8ba1\u3002  </p>"},{"location":"user-guide/best-practice/log-process/#_2","title":"\u9700\u6c42\u573a\u666f","text":"<p>\u6700\u4e3b\u8981\u7684\u662f\u5bf9\u65e5\u5fd7\u8fdb\u884c\u5207\u5206\u89e3\u6790\u63d0\u53d6\u548c\u5904\u7406\u3002  </p> <p>\u6bd4\u5982\u4ee5\u4e0b\u65e5\u5fd7\uff1a</p> <pre><code>01-Dec-2021 03:13:58.298 INFO [main] Starting service [Catalina]\n</code></pre> <p>\u6211\u4eec\u53ef\u80fd\u4f1a\u9700\u8981\u5c06\u5176\u4e2d\u7684\u65e5\u671f\u3001\u65e5\u5fd7\u7ea7\u522b\u89e3\u6790\u51fa\u6765\uff0c\u6700\u7ec8\u5f62\u6210\uff1a</p> <pre><code>{\n   \"time\": \"01-Dec-2021 03:13:58.298\",\n   \"level\": \"INFO\",\n   \"message\": \"[main] Starting service [Catalina]\"\n}\n</code></pre> <p>\u8fd9\u79cd\u7ed3\u6784\u5316\u7684\u6570\u636e\uff0c\u5b58\u50a8\u7684\u65f6\u5019\u4fbf\u4e8e\u8fc7\u6ee4\u67e5\u8be2\uff0c\u6216\u8005\u6839\u636e\u65e5\u5fd7\u91cc\u7684\u65f6\u95f4\u6765\u6392\u5e8f\uff0c\u800c\u4e0d\u662f\u91c7\u96c6\u7684\u65f6\u95f4\u6233\uff0c\u6216\u8005\u6839\u636e\u65e5\u5fd7\u7ea7\u522b\u8fdb\u884c\u4e00\u4e9b\u8fc7\u6ee4\uff0c\u53ef\u4ee5\u65b9\u4fbf\u67e5\u8be2\u5230ERROR\u7ea7\u522b\u7684\u65e5\u5fd7\u7b49\u7b49\u3002 \u5f53\u7136\u4e0d\u4ec5\u4ec5\u662f\u50cf\u4ee5\u4e0atomcat\u7684\u8fd0\u7ef4\u7c7b\u65e5\u5fd7\uff0c\u8fd8\u6709\u8bf8\u5982\u4e1a\u52a1\u7684\u4e00\u4e9b\u8ba2\u5355\u7b49\u7b49\u65e5\u5fd7\uff0c\u90fd\u6709\u7c7b\u4f3c\u7684\u9700\u6c42\u548c\u4f7f\u7528\u573a\u666f\u3002  </p> <p>\u5173\u4e8estdout\u65e5\u5fd7\u7684\u89e3\u6790\u63d0\u53d6</p> <p>\u4ee5\u4e0b\u793a\u4f8b\u4ec5\u63d0\u4f9b\u65e5\u5fd7\u5207\u5206\u5904\u7406\u7684\u53c2\u8003\u601d\u8def\uff0c\u5982\u679c\u4f60\u9700\u8981\u63d0\u53d6\u5bb9\u5668\u6807\u51c6\u8f93\u51fa\u7684\u539f\u59cb\u65e5\u5fd7\uff0c\u8bf7\u53c2\u8003\u91c7\u96c6\u5bb9\u5668\u65e5\u5fd7\u3002</p>"},{"location":"user-guide/best-practice/log-process/#_3","title":"\u529f\u80fd","text":"<p>\u76ee\u524d\u5df2\u7ecf\u652f\u6301\u7684\u529f\u80fd\u6709\uff1a</p> <ul> <li>regex: \u6b63\u5219\u5207\u5206\u63d0\u53d6\u65e5\u5fd7</li> <li>jsonDecode: \u89e3\u6790\u63d0\u53d6json\u683c\u5f0f\u7684\u65e5\u5fd7</li> <li>split: \u901a\u8fc7\u5206\u9694\u7b26\u6765\u63d0\u53d6\u65e5\u5fd7</li> <li>add/rename/drop/copy/underRoot\u6307\u5b9a\u5b57\u6bb5</li> <li>convert\u7c7b\u578b\u8f6c\u6362</li> <li>timestamp: \u8f6c\u6362\u6307\u5b9a\u5b57\u6bb5\u7684\u65f6\u95f4\u683c\u5f0f</li> </ul> <p>normalize\u53ef\u4ee5\u914d\u7f6e\u5185\u90e8\u7684processor\u987a\u5e8f\u6267\u884c\u3002</p>"},{"location":"user-guide/best-practice/log-process/#_4","title":"\u914d\u7f6e\u793a\u4f8b","text":"<p>\u65e5\u5fd7\u5207\u5206\u5904\u7406\u5728Loggie Agent\u7aef\u6216\u8005Loggie\u4e2d\u8f6c\u673a\u4fa7\u5747\u53ef\uff0c\u53d6\u51b3\u4e8e\u6211\u4eec\u662f\u5426\u9700\u8981\u4e2d\u8f6c\u673a\uff0c\u4ee5\u53ca\u5e0c\u671b\u65e5\u5fd7\u5904\u7406\u8fd9\u79cdCPU\u5bc6\u96c6\u578b\u7684\u8ba1\u7b97\u662f\u5206\u5e03\u5728Agent\u4e0a\uff0c\u7531\u5404\u4e2a\u8282\u70b9\u627f\u62c5\uff0c\u8fd8\u662f\u5e0c\u671b\u5728\u4e2d\u8f6c\u673a\u96c6\u7fa4\u4e2d\u96c6\u4e2d\u8fdb\u884c\u3002  </p> <p>\u4e0b\u9762\u4ee5\u91c7\u96c6tomcat\u670d\u52a1\u7684\u6807\u51c6\u8f93\u51fa\u548caccess\u65e5\u5fd7\u4e3a\u4f8b\uff0c\u5c55\u793a\u5982\u4f55\u5bf9\u6807\u51c6\u8f93\u51fa\u683c\u5f0f\u8fdb\u884c\u5904\u7406\u548caccess\u65e5\u5fd7\u8fdb\u884c\u5b57\u6bb5\u5207\u5206\u3002  </p> <p>\u7b80\u5355\u8d77\u89c1\uff0c\u793a\u4f8b\u4f7f\u7528CRD\u5b9e\u4f8b\u914d\u7f6e\u4e0b\u53d1\u5728Agent\uff0c\u540c\u65f6\u4f7f\u7528dev sink\u76f4\u63a5\u8f93\u51fa\u5904\u7406\u7ed3\u679c\u5c55\u793a\u3002</p>"},{"location":"user-guide/best-practice/log-process/#sink","title":"sink","text":"<p>\u521b\u5efa\u5982\u4e0b\u7684sink\u7528\u4e8e\u6f14\u793a\uff0c\u5c06\u91c7\u96c6\u5904\u7406\u540e\u7684\u65e5\u5fd7\u6253\u5370\u5728\u6240\u5c5e\u8282\u70b9Loggie\u7684\u65e5\u5fd7\u4e2d\u3002  </p> <p>Example</p> <pre><code>apiVersion: loggie.io/v1beta1\nkind: Sink\nmetadata:\n  name: default\nspec:\n  sink: |\n    type: dev\n    printEvents: true\n    codec:\n      type: json\n      pretty: true\n</code></pre>"},{"location":"user-guide/best-practice/log-process/#interceptor","title":"interceptor","text":"<p>\u6839\u636e\u5b9e\u9645\u73af\u5883\u521b\u5efa\u5982\u4e0b\u7684interceptor\u3002  </p> <p>Example</p> dockercontainerd <pre><code>apiVersion: loggie.io/v1beta1\nkind: Interceptor\nmetadata:\n  name: tomcat\nspec:\n  interceptors: |\n    - type: normalize\n      name: stdproc\n      belongTo: [\"stdout\"]\n      processors:\n      - jsonDecode: ~\n      - drop:\n          targets: [\"stream\", \"time\", \"body\"]\n      - rename:\n          convert:\n          - from: \"log\"\n            to: \"message\"\n    - type: normalize\n      name: accproc\n      belongTo: [\"access\"]\n      processors:\n      - regex:\n          pattern: '(?&lt;ip&gt;\\S+) (?&lt;id&gt;\\S+) (?&lt;u&gt;\\S+) (?&lt;time&gt;\\[.*?\\]) (?&lt;url&gt;\\\".*?\\\") (?&lt;status&gt;\\S+) (?&lt;size&gt;\\S+)'\n</code></pre> <pre><code>apiVersion: loggie.io/v1beta1\nkind: Interceptor\nmetadata:\n  name: tomcat\nspec:\n  interceptors: |\n    - type: normalize\n      name: stdproc\n      belongTo: [\"stdout\"]\n      processors:\n      - split:\n          separator: ' '\n          max: 4\n          keys: [\"time\", \"std\", \"F\", \"message\"]\n      - drop:\n          targets: [\"time\", \"std\", \"F\", \"body\"]\n    - type: normalize\n      name: accproc\n      belongTo: [\"access\"]\n      processors:\n      - regex:\n          pattern: '(?&lt;ip&gt;\\S+) (?&lt;id&gt;\\S+) (?&lt;u&gt;\\S+) (?&lt;time&gt;\\[.*?\\]) (?&lt;url&gt;\\\".*?\\\") (?&lt;status&gt;\\S+) (?&lt;size&gt;\\S+)'\n</code></pre> <p>\u5982\u679c\u4f7f\u7528docker\u8fd0\u884c\u65f6\uff0c\u9ed8\u8ba4\u91c7\u96c6\u7684\u6807\u51c6\u8f93\u51fa\u4e3ajson\u683c\u5f0f\u3002 \u7c7b\u4f3c\uff1a <pre><code>{\n\"log\":\"I0610 08:29:07.698664 Waiting for caches to sync\\n\",\n\"stream\":\"stderr\", \n\"time\":\"2021-06-10T08:29:07.698731204Z\"\n}\n</code></pre> \u6211\u4eec\u9700\u8981\u5c06json\u683c\u5f0f\u7684\u539f\u59cb\u65e5\u5fd7\u89e3\u6790\uff0c\u4e00\u822c\u8fd8\u9700\u8981drop <code>stream</code>\u548c<code>time</code>\u5b57\u6bb5\uff0c\u5e76\u5c06\u5176\u4e2d\u7684<code>log</code>\u5b57\u6bb5key\u6539\u4e3a\u548c\u5176\u4ed6\u683c\u5f0f\u4e00\u81f4\u7684<code>body</code>\u6216\u8005<code>message</code>\u3002  </p> <p>\u4f7f\u7528filesource\u91c7\u96c6\u540e\uff0c\u5728Loggie\u91cc\u7684\u539f\u59cb\u683c\u5f0f\u4e3a\uff1a <pre><code>\"body\": '\"log\":\"I0610 08:29:07.698664 Waiting for caches to sync\\n\",\"stream\":\"stderr\", \"time\":\"2021-06-10T08:29:07.698731204Z\"'\n...\n</code></pre></p> <p>\u53ef\u5728normalize interceptors\u91cc\uff0c\u914d\u7f6e\u4ee5\u4e0bprocessor:  </p> <ol> <li> <p><code>jsonDecode</code>: \u89e3\u6790\u5e76\u63d0\u53d6\u5b57\u6bb5\uff0c\u5c06Loggie\u91cc\u5b58\u50a8\u7684\u65e5\u5fd7\u683c\u5f0f\u53d8\u6210\uff1a <pre><code>\"body\": '\"log\":\"I0610 08:29:07.698664 Waiting for caches to sync\\n\",\"stream\":\"stderr\", \"time\":\"2021-06-10T08:29:07.698731204Z\"'\n\"log\": \"I0610 08:29:07.698664 Waiting for caches to sync\\n\"\n\"stream\":\"stderr\"\n\"time\":\"2021-06-10T08:29:07.698731204Z\"\n...\n</code></pre></p> </li> <li> <p><code>drop</code>: \u5c06<code>body</code>\u3001<code>stream</code>\u548c<code>time</code>\u4e22\u5f03\u3002\uff08<code>body</code>\u4e3a\u5185\u7f6e\u5b57\u6bb5\u8868\u793a\u539f\u59cb\u65e5\u5fd7\u6570\u636e\uff0c\u4ec5\u80fd\u4e22\u5f03\uff0c\u4e0d\u80fd\u4fee\u6539\uff09</p> </li> <li> <p><code>rename</code>: \u5c06<code>log</code>\u6539\u540d\u4e3a\u7edf\u4e00\u7684\u5b57\u6bb5\u6bd4\u5982<code>message</code>\u3002 </p> </li> </ol> <p>\u6700\u7ec8\u53d1\u9001\u7684\u65e5\u5fd7\u683c\u5f0f\u53d8\u6210\uff1a <pre><code>\"message\": \"I0610 08:29:07.698664 Waiting for caches to sync\\n\"\n...\n</code></pre></p> <p>\u5728runtime\u4e3acontainerd\u65f6\uff0c\u539f\u59cb\u65e5\u5fd7\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code>2021-12-01T03:13:58.298476921Z stderr F INFO [main] Starting service [Catalina]\n</code></pre> <p>\u4f1a\u9ed8\u8ba4\u52a0\u4e0a\u7c7b\u4f3c<code>2021-12-01T03:13:58.298476921Z stderr F</code>\u7684\u524d\u7f00\uff0c\u4e00\u822c\u6211\u4eec\u5e76\u4e0d\u9700\u8981\u8fd9\u4e2a\u65e5\u5fd7\uff0c\u53d1\u9001\u7684\u65f6\u5019\u53ea\u4fdd\u7559\u540e\u9762\u6570\u636e\u3002 \u548cdocker\u7684\u65b9\u5f0f\u7c7b\u4f3c\uff0c\u6211\u4eec\u53ef\u4ee5\u914d\u7f6esplit\u7b49\u65b9\u5f0f\u6765\u5207\u5206\u5904\u7406\u3002  </p> <p>\u53e6\u5916\uff0c\u7531\u4e8estdout\u7684\u65e5\u5fd7\u548caccess\u65e5\u5fd7\u683c\u5f0f\u4e0d\u4e00\u6837\uff0c\u6240\u4ee5\u4f7f\u7528\u4e86\u4e24\u4e2a\u4e0d\u540c\u7684normalize interceptor\uff0c\u914d\u7f6e\u4e86\u4e0d\u540c\u7684processor\uff0c\u9700\u8981\u6dfb\u52a0<code>name</code>\u6765\u533a\u5206\u3002 \u6700\u91cd\u8981\u7684\u662f\uff0c\u8fd9\u91cc\u4f7f\u7528\u4e86<code>belongTo</code>\u6307\u5b9a\u5173\u8054\u7684<code>source</code>\uff0c\u8ba9stdout\u65e5\u5fd7\u548caccess\u65e5\u5fd7\u5206\u522b\u91c7\u7528\u4e0d\u540c\u7684\u5904\u7406\u903b\u8f91\u3002  </p>"},{"location":"user-guide/best-practice/log-process/#logconfig","title":"logconfig","text":"<p>\u914d\u7f6esource\u5982\u4e0b\u6240\u793a\uff1a</p> <p>Example</p> <pre><code>apiVersion: loggie.io/v1beta1\nkind: LogConfig\nmetadata:\n  name: tomcat\n  namespace: default\nspec:\n  selector:\n    labelSelector:\n      app: tomcat\n    type: pod\n  pipeline:\n    interceptorRef: tomcat\n    sinkRef: dev\n    sources: |\n      - type: file\n        name: stdout\n        paths:\n        - stdout\n      - type: file\n        name: access\n        paths:\n        - /usr/local/tomcat/logs/localhost_access_log.*.txt\n</code></pre> <p>\u6ce8\u610f\u8fd9\u91cc\u7684source.name\u548c\u4e0a\u9762interceptor\u914d\u7f6e\u7684belongTo\u9700\u8981\u5173\u8054\u4e0a\u3002  </p> <p>\u521b\u5efa\u5b8c\u4ee5\u4e0a\u7684cr\u540e\uff0c\u4fbf\u53ef\u4ee5\u91c7\u96c6\u6307\u5b9a\u7684Pod\u65e5\u5fd7\uff0c\u5e76\u8fdb\u884c\u5207\u5206\u5904\u7406\u3002  </p>"},{"location":"user-guide/enterprise-practice/architecture-and-evolution/","title":"\u65e5\u5fd7\u7cfb\u7edf\u67b6\u6784\u4e0e\u6f14\u8fdb","text":"<p>\u5728\u4e0d\u540c\u7684\u4e1a\u52a1\u7c7b\u578b\u3001\u4e0d\u540c\u7684\u4f7f\u7528\u573a\u666f\u3001\u4e0d\u540c\u7684\u65e5\u5fd7\u89c4\u6a21\u4e0b\uff0c\u6211\u4eec\u53ef\u80fd\u4f1a\u91c7\u7528\u4e0d\u540c\u7684\u65e5\u5fd7\u7cfb\u7edf\u67b6\u6784\uff0c\u67b6\u6784\u4e0d\u5b58\u5728\u597d\u574f\uff0c\u53ea\u6709\u5408\u4e0d\u5408\u9002\u3002\u4e00\u4e2a\u7b80\u5355\u7684\u573a\u666f\u4e0b\uff0c\u4f7f\u7528\u590d\u6742\u7684\u67b6\u6784\u642d\u5efa\u51fa\u6765\u7684\u65e5\u5fd7\u7cfb\u7edf\uff0c\u5927\u6982\u4f1a\u5e26\u6765\u8fd0\u7ef4\u707e\u96be\u3002  </p> <p>\u8fd9\u91cc\u901a\u8fc7\u89c4\u6a21\u6f14\u8fdb\u7684\u89c6\u89d2\uff0c\u603b\u7ed3\u4e00\u4e0b\u5e38\u89c1\u7684\u65e5\u5fd7\u7cfb\u7edf\u67b6\u6784\uff0c\u5f53\u7136\u5b9e\u9645\u7684\u6280\u672f\u9009\u578b\u53ca\u53d8\u79cd\u6709\u5f88\u591a\uff0c\u6211\u4eec\u65e0\u6cd5\u4e00\u4e00\u5217\u51fa\uff0c\u76f8\u4fe1\u4f60\u53ef\u4ee5\u901a\u8fc7\u53c2\u8003\u4e0b\u6587\uff0c\u642d\u5efa\u9002\u5408\u81ea\u5df1\u4e1a\u52a1\u7684\u67b6\u6784\u3002  </p>"},{"location":"user-guide/enterprise-practice/architecture-and-evolution/#_2","title":"\u67b6\u6784\u6f14\u8fdb","text":"<p>\u9700\u8981\u63d0\u524d\u8bf4\u660e\u7684\u662f:</p> <ul> <li>\u4e0b\u6587\u7684\u65e5\u5fd7\u5b58\u50a8\u793a\u4f8b\u4e3aElasticsearch\uff0c\u6d88\u606f\u961f\u5217\u4e3aKafka\uff0c\u5177\u4f53\u9009\u578b\u8bf7\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u6765\u505a\u51b3\u5b9a\u3002</li> <li>\u4ee5\u4e0b\u89c4\u6a21\u6570\u636e\u91cf\u53ea\u662f\u4f5c\u4e3a\u4e00\u4e2a\u53c2\u8003\u503c\uff0c\u5177\u4f53\u7684\u843d\u5730\u60c5\u51b5\uff0c\u8fd8\u9700\u8981\u7efc\u5408\u8003\u8651\u66f4\u591a\u56e0\u7d20\uff0c\u540c\u65f6\u53ef\u4ee5\u878d\u5408\u4e0d\u540c\u7684\u9009\u578b\uff0c\u4ee5\u8fbe\u5230\u6700\u5408\u9002\u7684\u67b6\u6784\u3002</li> </ul>"},{"location":"user-guide/enterprise-practice/architecture-and-evolution/#_3","title":"\u5c0f\u89c4\u6a21\u4e1a\u52a1\u573a\u666f","text":"<p>\u6bcf\u5929\u7684\u65e5\u5fd7\u89c4\u6a21\u8f83\u5c0f\uff0c\u6bd4\u5982\u53ea\u6709\u51e0\u767eG\uff08\u9884\u4f30500G\u4ee5\u4e0b\uff09\u5de6\u53f3\uff0c\u65e5\u5fd7\u7684\u4f7f\u7528\u573a\u666f\u4ec5\u4ec5\u7528\u4e8e\u65e5\u5e38\u8fd0\u7ef4\u6392\u67e5\u95ee\u9898\uff0c\u53ef\u4ee5\u91c7\u7528Loggie\u76f4\u63a5\u53d1\u9001\u81f3Elasticsearch\u96c6\u7fa4\u7684\u65b9\u5f0f\u3002 \u67b6\u6784\u56fe\u5982\u4e0b\u6240\u793a\uff1a </p> <p>\u4f18\u70b9\uff1a </p> <ul> <li>\u67b6\u6784\u7b80\u5355\uff0c\u4fbf\u4e8e\u7ef4\u62a4</li> </ul> <p>\u7f3a\u70b9\uff1a </p> <ul> <li>\u7531\u4e8eElasticsearch\u7684\u6027\u80fd\u6709\u9650\uff0c\u5728\u65e5\u5fd7\u91cf\u7ea7\u7a81\u7136\u589e\u5927\u65f6\uff0cAgent\u76f4\u63a5\u53d1\u9001\u53ef\u80fd\u4f1a\u5bfc\u81f4\u5927\u91cf\u7684\u91cd\u8bd5\u6216\u8005\u5931\u8d25\uff0c\u5bfc\u81f4Elasticsearch\u4e0d\u7a33\u5b9a </li> <li>\u53ef\u6269\u5c55\u6027\u8f83\u5dee</li> </ul> <p>\u53d8\u79cd\uff1a \u56e0\u4e3a\u4e00\u76f4\u4ee5\u6765ELK\u67b6\u6784\u7684\u6d41\u884c\uff0cElasticsearch\u662f\u6700\u5e38\u7528\u7684\u65e5\u5fd7\u5b58\u50a8\u3002 \u5982\u679c\u6709\u5176\u4ed6\u670d\u52a1\u5bf9Elasticsearch\u7684\u4f9d\u8d56\uff0c\u6216\u8005\u6709Elasticsearch\u7684\u8fd0\u7ef4\u7ecf\u9a8c\uff0cElasticsearch\u662f\u4e00\u4e2a\u8fd8\u4e0d\u9519\u7684\u9009\u62e9\u3002 \u4f46\u662f\uff0cElasticsearch\u5bf9\u8d44\u6e90\u548c\u8fd0\u7ef4\u6709\u4e00\u5b9a\u7684\u8981\u6c42\uff0c\u5728\u67d0\u4e9b\u8f7b\u91cf\u7ea7\u548c\u8d44\u6e90\u654f\u611f\u7684\u73af\u5883\u4e0b\uff0c\u53ef\u4ee5\u8003\u8651\uff1a  </p> <ul> <li>\u4f7f\u7528Loki\u5b58\u50a8  </li> <li>\u5982\u679c\u6709\u76f8\u5173\u7684\u6280\u672f\u50a8\u5907\uff0c\u8fd8\u53ef\u4ee5\u8003\u8651\u53d1\u9001\u81f3Clickhouse/Hive/Doris\u7b49\u3002  </li> </ul>"},{"location":"user-guide/enterprise-practice/architecture-and-evolution/#_4","title":"\u4e2d\u578b\u89c4\u6a21\u4e1a\u52a1\u573a\u666f","text":"<p>\u5728\u6bcf\u5929\u7684\u65e5\u5fd7\u91cf\u7ea7\u7a0d\u5927\uff0c\u6bd4\u5982\u5728500G\u81f31T\u7684\u89c4\u6a21\uff0c\u67b6\u6784\u548c\u4e1a\u52a1\u4f7f\u7528\u4e0a\u6709\u6269\u5c55\u6027\u7684\u8003\u8651\uff0c\u53ef\u8003\u8651\u5f15\u5165Loggie\u4e2d\u8f6c\u96c6\u7fa4\u3002  </p> <p></p> <p>\u4f18\u70b9\uff1a </p> <ul> <li>\u4e2d\u8f6c\u673a\u96c6\u7fa4\u53ef\u4ee5\u627f\u62c5\u65e5\u5fd7\u5207\u5206\u7b49\u80fd\u529b</li> <li>\u4e2d\u8f6c\u673a\u96c6\u7fa4\u6709\u4e00\u5b9a\u7684\u7f13\u51b2\u80fd\u529b</li> </ul> <p>\u7f3a\u70b9\uff1a </p> <ul> <li>\u7f13\u51b2\u80fd\u529b\u76f8\u6bd4\u6d88\u606f\u961f\u5217\u8f83\u5f31  </li> </ul>"},{"location":"user-guide/enterprise-practice/architecture-and-evolution/#_5","title":"\u5927\u578b\u89c4\u6a21\u4e1a\u52a1\u573a\u666f","text":"<p>\u5982\u679c\u65e5\u5fd7\u91cf\u8f83\u5927\uff0c\u6bd4\u59821T\u4ee5\u4e0a\u573a\u666f\uff0c\u5bf9\u6027\u80fd\u4e0e\u7a33\u5b9a\u6027\u8981\u6c42\u6bd4\u8f83\u9ad8\uff0c\u53ef\u8003\u8651\u4f7f\u7528Kafka\u7b49\u6d88\u606f\u961f\u5217\u96c6\u7fa4\u3002</p> <p></p> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cKafka\u672c\u8eab\u5e76\u4e0d\u80fd\u76f4\u63a5\u53d1\u9001\u81f3\u540e\u7aef\uff0c\u6240\u4ee5\u8fd9\u91cc\u9700\u8981\u8003\u8651\u5982\u4f55\u5c06Kafka\u7684\u6570\u636e\u5b9e\u65f6\u5bfc\u5165\u5230\u540e\u7aef\u5b58\u50a8\u4e2d\u3002 \u8fd9\u65f6\u5019\uff0c\u6211\u4eec\u53ef\u4ee5\u9009\u62e9\u4e00\u4e9b\u7ec4\u4ef6\u6d88\u8d39Kafka\uff0c\u53d1\u9001\u81f3\u540e\u7aef\uff0c\u6bd4\u5982Loggie/Logstash/Kafka connect/Flink\u7b49\u3002 \u4f46\u662fFlink\u9002\u5408\u6709\u81ea\u5df1\u7684\u5b9e\u65f6\u6d41\u5e73\u53f0\u6216\u8005\u8fd0\u7ef4\u80fd\u529b\u7684\u4f01\u4e1a\uff0c\u5426\u5219\u53ef\u80fd\u5f15\u5165\u66f4\u591a\u8fd0\u7ef4\u6210\u672c\u3002  </p> <p>\u4f18\u70b9\uff1a </p> <ul> <li>\u4f7f\u7528\u6d88\u606f\u961f\u5217\u6bd4\u5982Kafka\uff0c\u53ef\u4ee5\u505a\u5230\u7f13\u5b58\u548c\u9ad8\u5cf0\u671f\u6d88\u5cf0  </li> <li>\u53ef\u4ee5\u8ba9\u66f4\u591a\u7684\u6d88\u8d39\u8005\u6d88\u8d39Kafka\uff0c\u63d0\u4f9b\u66f4\u591a\u53ef\u6269\u5c55\u6027</li> </ul>"},{"location":"user-guide/enterprise-practice/architecture-and-evolution/#_6","title":"\u8d85\u5927\u578b\u89c4\u6a21\u4e1a\u52a1\u573a\u666f","text":"<p>\u51e0\u5341TB\u81f3PB\u7ea7\uff0c\u76f8\u6bd4\u4e0a\u9762\u5927\u89c4\u6a21\u573a\u666f\uff0c\u96c6\u7fa4\u6570\u91cf\u591a\uff0c\u673a\u623f\u67b6\u6784\u590d\u6742\uff0c\u53ef\u4ee5\u6839\u636e\u4ee5\u4e0a\u67b6\u6784\u589e\u52a0\u66f4\u591a\u7075\u6d3b\u7684\u6269\u5c55\u3002</p> <p>\u6bd4\u5982\uff1a</p> <ul> <li>\u4f7f\u7528Loggie\u7684\u591aPipeline\u7279\u6027\uff0c\u5c06\u4e1a\u52a1\u65e5\u5fd7\u62c6\u5206\u53d1\u9001\u81f3\u591a\u4e2aKafka\u96c6\u7fa4</li> <li>\u5728\u5927\u89c4\u6a21\u67b6\u6784\u4e0b\u589e\u52a0\u524d\u7f6eLoggie\u4e2d\u8f6c\u96c6\u7fa4\uff0c\u63d0\u524d\u8fdb\u884c\u5206\u6d41\u548c\u8f6c\u53d1</li> </ul>"},{"location":"user-guide/enterprise-practice/architecture-and-evolution/#_7","title":"\u66f4\u591a","text":"<p>\u5b9e\u9645\u5728\u843d\u5730\u4e00\u5957\u5b8c\u5584\u7684\u65e5\u5fd7\u67b6\u6784\u548c\u5e73\u53f0\uff0c\u8fd8\u9700\u8981\u8003\u8651\uff1a</p> <ul> <li>\u53ef\u9760\u6027\uff1a\u91c7\u96c6\u3001\u4f20\u8f93\u3001\u5904\u7406\u3001\u67e5\u8be2\u6574\u4e2a\u94fe\u8def\u9700\u8981\u4fdd\u969c\u5c3d\u91cf\u4e0d\u4e22\u65e5\u5fd7\uff0c\u540c\u65f6\u65e5\u5fd7\u4e0d\u5f71\u54cd\u4e1a\u52a1\u7a33\u5b9a\u6027</li> <li>\u53ef\u89c2\u6d4b\u6027\u548c\u53ef\u6392\u969c\u6027\uff1a\u7cfb\u7edf\u8981\u6709\u5b8c\u5584\u7684\u76d1\u63a7\u6307\u6807\uff0c\u51fa\u73b0\u95ee\u9898\u6216\u8005\u6545\u969c\u6709\u5feb\u901f\u6392\u67e5\u7684\u624b\u6bb5\u548c\u65b9\u5f0f\uff0c\u51cf\u5c11\u4eba\u529b\u8fd0\u7ef4\u7684\u6210\u672c</li> <li>\u6027\u80fd\uff1a\u91c7\u96c6\u3001\u4f20\u8f93\u548c\u5904\u7406\u9700\u8981\u8f7b\u91cf\u7ea7\uff0c\u4e0d\u5360\u7528\u592a\u591a\u8d44\u6e90\uff0c\u4f46\u662f\u5728\u6570\u636e\u91cf\u5927\u7684\u60c5\u51b5\u4e0b\uff0c\u4e5f\u9700\u8981\u6709\u8f83\u4f4e\u5ef6\u8fdf\u548c\u8f83\u5927\u7684\u541e\u5410\u91cf</li> <li>\u6613\u7528\u6027\uff1a\u65e5\u5fd7\u91c7\u96c6\u914d\u7f6e\u4f7f\u7528\u65b9\u4fbf\uff0c\u51cf\u5c11\u4e1a\u52a1\u4f7f\u7528\u6210\u672c\uff0c\u540c\u65f6\u4e0d\u5bf9\u5e94\u7528\u7684\u90e8\u7f72\u6709\u4fb5\u5165</li> <li>\u529f\u80fd\u5b8c\u5584\uff1a\u6ee1\u8db3\u6240\u9700\u7684\u65e5\u5fd7\u5904\u7406\u3001\u67e5\u8be2\u3001\u76d1\u63a7\u62a5\u8b66\u7b49\u9700\u6c42</li> </ul>"},{"location":"user-guide/enterprise-practice/sls/","title":"\u4f7f\u7528\u963f\u91cc\u4e91\u53ef\u89c2\u6d4b\u7edf\u4e00\u5b58\u50a8SLS","text":"<p>\u4e0d\u7ba1\u4f60\u7684\u670d\u52a1\u90e8\u7f72\u5728\u963f\u91cc\u4e91\u8fd8\u662f\u4f7f\u7528\u6df7\u5408\u4e91\u7684\u67b6\u6784\uff0cLoggie\u540c\u6837\u652f\u6301\u91c7\u96c6\u65e5\u5fd7\u6570\u636e\u81f3\u963f\u91cc\u4e91\u53ef\u89c2\u6d4b\u7edf\u4e00\u5b58\u50a8SLS\u3002 \u800c\u4f60\u53ea\u9700\u8981\u4f7f\u7528<code>sls sink</code>\u5373\u53ef\u3002</p> <p>\u963f\u91cc\u4e91\u5b98\u65b9\u6587\u6863\u4e2d\u5173\u4e8eLoggie\u7684\u4f7f\u7528\u8bf7\u53c2\u8003\uff1a\u4f7f\u7528Loggie\u4e0a\u4f20\u65e5\u5fd7</p>"},{"location":"user-guide/enterprise-practice/sls/#sls-project","title":"\u51c6\u5907\uff1a\u521b\u5efaSLS Project","text":"<p>\u4e3a\u4e86\u4f7f\u7528\u963f\u91cc\u4e91\u53ef\u89c2\u6d4b\u7edf\u4e00\u5b58\u50a8SLS\uff0c\u6211\u4eec\u9700\u8981\u5148\u521b\u5efa\u4e00\u4e2a\u5bf9\u5e94\u7684Project\u3002 \u5982\u4e0b\u6240\u793a\uff0c\u5728SLS\u9875\u9762\u4e2d\uff0c\u70b9\u51fb<code>\u521b\u5efaProject</code>\uff0c\u586b\u5165project\u540d\u79f0\u548c\u5bf9\u5e94\u7684\u5730\u57df\uff0c\u521b\u5efa\u5b8c\u4e4b\u540e\u540c\u6b65\u521b\u5efa\u76f8\u5e94\u7684Logstore\u3002 </p> <p>\u7136\u540e\u6211\u4eec\u53ef\u4ee5\u51c6\u5907\u4e00\u4e0b<code>sls sink</code>\u7684\u914d\u7f6e\uff0c\u793a\u4f8b\u5982\u4e0b\u6240\u793a\uff0c\u5177\u4f53\u53ef\u53c2\u8003sls sink \u914d\u7f6e\u53c2\u6570\uff1a</p> <p>sls sink</p> <pre><code>    sink:\n      type: sls\n      name: demo\n      endpoint: cn-hangzhou.log.aliyuncs.com\n      accessKeyId: xxxx\n      accessKeySecret: xxxx\n      project: test\n      logstore: test1\n      topic: myservice\n</code></pre>"},{"location":"user-guide/enterprise-practice/sls/#ecs","title":"\u91c7\u96c6ECS\u4e0a\u7684\u65e5\u5fd7","text":"<p>\u53c2\u8003\u4e3b\u673a\u90e8\u7f72\u7684\u65b9\u5f0f\uff0c\u6211\u4eec\u53ef\u4ee5\u4fee\u6539pipeline.yml\uff0c\u52a0\u4e0asls sink\u7684\u914d\u7f6e\u5373\u53ef\u3002</p> <p>Pipeline\u914d\u7f6e\u53c2\u8003\u793a\u4f8b\u5982\u4e0b\uff1a</p> <p>sls pipeline</p> <pre><code>pipelines:\n  - name: test\n    sources:\n      - type: file\n        name: demo\n        addonMeta: true\n        paths:\n          - /tmp/log/*.log\n    sink:\n      type: sls\n      endpoint: cn-hangzhou.log.aliyuncs.com\n      accessKeyId: ${accessKeyId}\n      accessKeySecret: ${accessKeySecret}\n      project: loggietest\n      logstore: demo1\n      topic: myservice\n</code></pre>"},{"location":"user-guide/enterprise-practice/sls/#ack-kubernetes","title":"\u91c7\u96c6ACK Kubernetes\u96c6\u7fa4\u7684\u65e5\u5fd7","text":"<p>\u548c\u81ea\u5efaKubernetes\u96c6\u7fa4\u4e00\u6837\uff0cLoggie\u540c\u6837\u53ef\u4ee5\u90e8\u7f72\u5728\u963f\u91cc\u4e91ACK\u7684Kubernetes\u96c6\u7fa4\u4e2d\u3002 \u6211\u4eec\u53ef\u4ee5\u6839\u636eACK\u63d0\u4f9b\u7684kubeconfig\u6587\u4ef6\uff0c\u4f7f\u7528kubectl\u6216\u8005helm\u6765\u90e8\u7f72\u3002\u53ef\u53c2\u8003Kubernetes\u90e8\u7f72\u3002</p> <p>\u8bf7\u6ce8\u610f\uff1a</p> <ul> <li>\u5982\u679c\u5e0c\u671b\u91c7\u96c6\u672a\u6302\u8f7demptyDir/hostPath\u7684Pod\u65e5\u5fd7\uff0c\u8bf7\u786e\u4fddvalues.yaml\u91cc\u7cfb\u7edf\u914d\u7f6e\u4e2d<code>discovery.kubernetes.rootFsCollectionEnabled</code>\u8bbe\u7f6e\u4e3atrue\u3002</li> <li>\u914d\u7f6e<code>discovery.kubernetes.containerRuntime</code>\u4e3a\u5339\u914d\u7684Kubernetes\u96c6\u7fa4\u7684\u5bb9\u5668\u8fd0\u884c\u65f6\uff0c\u9ed8\u8ba4\u914d\u7f6e\u4e3acontainerd\u3002</li> </ul> <p>\u90e8\u7f72\u5b8c\u4e4b\u540e\uff0c\u548c\u5e38\u89c4\u7684Kubernetes\u96c6\u7fa4\u4e0b\u7684\u4f7f\u7528\u59ff\u52bf\u7c7b\u4f3c\uff0c\u540c\u6837\u53ef\u4ee5\u4f7f\u7528ClusterLogConfig/LogConfig/Interceptor/Sink CR\u7684\u65b9\u5f0f\u3002</p> <p>ACK\u63d0\u4f9b\u4e86CRD\u7684\u4f7f\u7528\u9875\u9762\uff0c\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u5728\u8be5\u9875\u9762\u4e2d\u8fdb\u884c\u521b\u5efa\u548c\u4fee\u6539\u3002 </p> <p>\u91c7\u96c6\u67d0\u4e2a\u670d\u52a1\u7684\u65e5\u5fd7\u793a\u4f8b\u53c2\u8003\u5982\u4e0b\uff0c\u53ea\u9700\u4f7f\u7528<code>sls sink</code>\u5373\u53ef\u3002\u5f53\u7136\u4e5f\u53ef\u4ee5\u4f7f\u7528\u5355\u72ec\u521b\u5efa\u4e00\u4e2asink CR\u5b58\u50a8<code>sls sink</code>\u914d\u7f6e\uff0c\u5728LogConfig\u4e2d\u901a\u8fc7sinkRef\u5f15\u7528\u3002</p> <p>logconfig</p> <pre><code>apiVersion: loggie.io/v1beta1\nkind: LogConfig\nmetadata:\n  name: tomcat\n  namespace: default\nspec:\n  selector:\n    labelSelector:\n      app: tomcat\n    type: pod\n\n  pipeline:\n    sources: |\n      - type: file\n        name: stdout\n        paths:\n          - stdout\n      - type: file\n        name: access\n        ignoreOlder: 3d\n        paths:\n          - /usr/local/tomcat/logs/*.log\n\n    sink: |\n      type: sls\n      endpoint: cn-hangzhou.log.aliyuncs.com\n      accessKeyId: ${accessKeyId}\n      accessKeySecret: ${accessKeySecret} \n      project: loggietest\n      logstore: demo1\n      topic: myservice\n</code></pre>"},{"location":"user-guide/enterprise-practice/sls/#_1","title":"\u67e5\u770b\u65e5\u5fd7","text":"<p>\u6211\u4eec\u53ef\u4ee5\u5728SLS\u5177\u4f53\u7684Project\u4e2d\u67e5\u770b\u91c7\u96c6\u7684\u65e5\u5fd7\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a </p> <p>\u5177\u4f53\u7684\u5143\u4fe1\u606f\u7684\u6dfb\u52a0\u548c\u65e5\u5fd7\u5b57\u6bb5\u4fee\u6539\uff0c\u53ef\u53c2\u8003\u65e5\u5fd7\u5207\u5206\u5904\u7406\u4ee5\u53ca\u65e5\u5fd7\u589e\u52a0\u5143\u4fe1\u606f\u3002</p>"},{"location":"user-guide/front/collector/collector-list/","title":"\u91c7\u96c6\u5668\u7ba1\u7406--\u91c7\u96c6\u5668\u5217\u8868","text":"<p>\u672c\u6587\u6863\u5c06\u6307\u5bfc\u60a8\u5982\u4f55\u4f7f\u7528\u91c7\u96c6\u5668\u5217\u8868\u529f\u80fd\uff0c\u5305\u62ec\u91c7\u96c6\u5668\u7684\u7b5b\u9009\u3001\u66f4\u65b0\u914d\u7f6e\u3001\u5220\u9664\u529f\u80fd</p>"},{"location":"user-guide/front/collector/collector-list/#-_1","title":"\u70b9\u51fb\u5de6\u4fa7\u5bfc\u822a\u680f\u201c\u91c7\u96c6\u5668\u7ba1\u7406-\u91c7\u96c6\u5668\u5217\u8868\u201d\uff0c\u8fdb\u5165\u91c7\u96c6\u5668\u5217\u8868\u9875\u9762","text":"<ul> <li>\u67e5\u8be2\u91c7\u96c6\u5668 \u7248\u672c\u9009\u62e9\u6846\uff1a\u9009\u62e9\u7248\u672c\u4ee5\u67e5\u627e\u7279\u5b9a\u91c7\u96c6\u5668 \u914d\u7f6e\u9009\u62e9\u6846\uff1a\u9009\u62e9\u914d\u7f6e\u4ee5\u67e5\u627e\u8be5\u914d\u7f6e\u7684\u91c7\u96c6\u5668</li> <li>\u641c\u7d22\u6309\u94ae\uff1a\u70b9\u51fb\u8fdb\u884c\u641c\u7d22\u64cd\u4f5c</li> <li>\u91cd\u7f6e\u6309\u94ae\uff1a\u6e05\u7a7a\u641c\u7d22\u6761\u4ef6\uff0c\u663e\u793a\u6240\u6709\u91c7\u96c6\u5668</li> <li>\u652f\u6301\u5206\u9875\u663e\u793a\uff0c\u9ed8\u8ba4\u6bcf\u9875\u663e\u793a10\u6761\u8bb0\u5f55   </li> <li> </li> <li>\u9009\u62e9\u4ee5\u4e0b\u4fe1\u606f\uff1a</li> <li>\u66f4\u65b0\u6a21\u5f0f\uff1a\u8bf7\u9009\u62e9\u66f4\u65b0\u6a21\u5f0f\uff08\u5fc5\u9009\uff09   \uff081\uff09\u9009\u62e9\u5168\u91cf-\u66f4\u65b0\u5168\u90e8\u91c7\u96c6\u5668   \uff082\uff09\u9009\u62e9\u9009\u4e2d\u7684-\u53ea\u66f4\u65b0\u9009\u4e2d\u7684\u91c7\u96c6\u5668</li> <li>\u914d\u7f6e\u9009\u62e9\uff1a\u8bf7\u9009\u62e9\u914d\u7f6e\uff08\u5fc5\u9009\uff09 </li> </ul>"},{"location":"user-guide/front/collector/collector-list/#_1","title":"\u70b9\u51fb\u201c\u66f4\u65b0\u914d\u7f6e\u201d\u6309\u94ae\uff0c\u5f39\u51fa\u66f4\u65b0\u914d\u7f6e\u5bf9\u8bdd\u6846","text":""},{"location":"user-guide/front/collector/collector-list/#_2","title":"\u5220\u9664\u91c7\u96c6\u5668","text":"<ul> <li>\u5728\u91c7\u96c6\u5668\u5217\u8868\u4e2d\u627e\u5230\u9700\u8981\u5220\u9664\u91c7\u96c6\u5668</li> <li>\u52fe\u9009\u91c7\u96c6\u5668\u524d\u8fb9\u7684\u590d\u9009\u6846</li> <li>\u70b9\u51fb\u9875\u9762\u9876\u90e8\u7684\u201c\u5220\u9664\u201d\u6309\u94ae</li> <li>\u5728\u5f39\u51fa\u7684\u786e\u8ba4\u5bf9\u8bdd\u6846\u4e2d\u70b9\u51fb \u201c\u786e\u5b9a\u201d \u5b8c\u6210\u5220\u9664 </li> </ul>"},{"location":"user-guide/front/collector/config/","title":"\u91c7\u96c6\u5668\u7ba1\u7406--\u914d\u7f6e\u7ba1\u7406","text":"<p>\u672c\u6587\u6863\u5c06\u6307\u5bfc\u60a8\u5982\u4f55\u4f7f\u7528\u914d\u7f6e\u7ba1\u7406\u529f\u80fd\uff0c\u5305\u62ec\u914d\u7f6e\u4fdd\u5b58\u529f\u80fd</p>"},{"location":"user-guide/front/collector/config/#-_1","title":"\u70b9\u51fb\u5de6\u4fa7\u5bfc\u822a\u680f\u201c\u91c7\u96c6\u5668\u7ba1\u7406-\u914d\u7f6e\u7ba1\u7406\u201d\uff0c\u8fdb\u5165\u914d\u7f6e\u7ba1\u7406\u9875\u9762","text":"<ul> <li>\u9009\u62e9\u914d\u7f6e \u914d\u7f6e\u9009\u62e9\u6846\uff1a\u9009\u62e9\u914d\u7f6e\u540e\u914d\u7f6e\u4fe1\u606f\u4f1a\u53cd\u663e\u5230\u9875\u9762\u4e0a  </li> <li> </li> <li> </li> <li>\u670d\u52a1\u5668\u8fde\u63a5\u5730\u5740\uff1a\u8bf7\u8f93\u5165\u670d\u52a1\u5668\u8fde\u63a5\u5730\u5740\uff08\u5fc5\u586b\uff09</li> <li>http\u670d\u52a1\u5668ip\uff1a\u8bf7\u8f93\u5165http\u670d\u52a1\u5668ip\uff08\u5fc5\u586b\uff09</li> <li>http\u670d\u52a1\u5668\u7aef\u53e3\uff1a\u8bf7\u8f93\u5165http\u670d\u52a1\u5668\u7aef\u53e3\uff08\u5fc5\u586b\uff09</li> <li> </li> <li>\u65e5\u5fd7\u7b49\u7ea7\uff1a\u8bf7\u9009\u62e9\u65e5\u5fd7\u7b49\u7ea7\uff08\u5fc5\u9009\uff09</li> <li>\u65e5\u5fd7\u4fdd\u5b58\u8def\u5f84\uff1a\u8bf7\u9009\u62e9\u65e5\u5fd7\u4fdd\u5b58\u8def\u5f84\uff08\u5fc5\u9009\uff09</li> <li>\u65e5\u5fd7\u81ea\u5b9a\u4e49\u8def\u5f84\uff1a\u8bf7\u586b\u5199\u65e5\u5fd7\u81ea\u5b9a\u4e49\u8def\u5f84\uff08\u586b\u5199\u540e\u6309\u81ea\u5b9a\u4e49\u8def\u5f84\u4fdd\u5b58\uff09</li> <li> </li> <li>ip\uff1a\u8bf7\u586b\u5199ip</li> <li>\u7aef\u53e3\uff1a\u8bf7\u586b\u5199\u7aef\u53e3</li> <li> </li> <li>\u662f\u5426\u540e\u53f0\u8fd0\u884c\uff1a\u8bf7\u9009\u62e9\u662f\u5426\u540e\u53f0\u8fd0\u884c </li> <li> </li> <li>cpu\u9650\u5236\uff1a\u8bf7\u586b\u5199cpu\u9650\u5236</li> <li>\u9650\u5236\u7b56\u7565\u540d\u79f0\uff1a\u8bf7\u586b\u5199\u9650\u5236\u7b56\u7565\u540d\u79f0</li> <li>\u72b6\u6001\uff1a\u8bf7\u9009\u62e9\u72b6\u6001</li> <li>\u542f\u52a8\u547d\u4ee4\uff1a\u8bf7\u586b\u5199\u542f\u52a8\u547d\u4ee4</li> <li>\u5185\u5b58\u9650\u5236\uff1a\u8bf7\u586b\u5199\u5185\u5b58\u9650\u5236</li> <li>\u8fdb\u7a0b\u540d\u5b57\uff1a\u8bf7\u586b\u5199\u8fdb\u7a0b\u540d\u5b57</li> <li>\u914d\u7f6e\u8def\u5f84\uff1a\u8bf7\u586b\u5199\u914d\u7f6e\u8def\u5f84</li> <li>\u914d\u7f6e\u7248\u672c\uff1a\u8bf7\u586b\u5199\u914d\u7f6e\u7248\u672c</li> <li>\u914d\u7f6e\u6a21\u5f0f\uff1a\u8bf7\u9009\u62e9\u914d\u7f6e\u6a21\u5f0f\uff08\u652f\u6301 YAML\u3001JSON\u3001\u6587\u672c\u6846\uff09   </li> </ul>"},{"location":"user-guide/front/collector/config/#_1","title":"\u914d\u7f6e\u4fe1\u606f\u586b\u5199","text":"\u586b\u5199\u4ee5\u4e0b\u4fe1\u606f\uff1a"},{"location":"user-guide/front/collector/config/#_2","title":"\u670d\u52a1\u5668\u5730\u5740","text":""},{"location":"user-guide/front/collector/config/#_3","title":"\u65e5\u5fd7\u914d\u7f6e","text":""},{"location":"user-guide/front/collector/config/#network","title":"network\u914d\u7f6e","text":""},{"location":"user-guide/front/collector/config/#network_1","title":"network\u914d\u7f6e","text":""},{"location":"user-guide/front/collector/config/#_4","title":"\u670d\u52a1\u5217\u8868\uff08\u53ef\u4ee5\u6dfb\u52a0\u591a\u4e2a\u670d\u52a1\uff09","text":""},{"location":"user-guide/front/collector/config/#_5","title":"\u914d\u7f6e\u4fe1\u606f\u586b\u5199\u5b8c\u6210\u540e\u70b9\u51fb\u9876\u90e8\u7684\u2018\u4fdd\u5b58\u2019\u6309\u94ae \u5b8c\u6210","text":""},{"location":"user-guide/front/collector/process-list/","title":"\u91c7\u96c6\u5668\u7ba1\u7406--\u8fdb\u7a0b\u7ba1\u7406\u5217\u8868","text":"<p>\u672c\u6587\u6863\u5c06\u6307\u5bfc\u60a8\u5982\u4f55\u4f7f\u7528\u8fdb\u7a0b\u7ba1\u7406\u5217\u8868\u529f\u80fd\uff0c\u5305\u62ec\u8fdb\u7a0b\u7684\u7b5b\u9009\u3001\u542f\u52a8\u3001\u505c\u6b62\u529f\u80fd</p>"},{"location":"user-guide/front/collector/process-list/#-_1","title":"\u70b9\u51fb\u5de6\u4fa7\u5bfc\u822a\u680f\u201c\u91c7\u96c6\u5668\u7ba1\u7406-\u8fdb\u7a0b\u7ba1\u7406\u5217\u8868\u201d\uff0c\u8fdb\u5165\u8fdb\u7a0b\u7ba1\u7406\u5217\u8868\u9875\u9762","text":"<ul> <li>\u67e5\u8be2\u8fdb\u7a0b \u7c7b\u578b\u9009\u62e9\u6846\uff1a\u9009\u62e9\u7c7b\u578b\u4ee5\u67e5\u627e\u7279\u5b9a\u7c7b\u578b\u7684\u8fdb\u7a0b \u7248\u672c\u9009\u62e9\u6846\uff1a\u9009\u62e9\u7248\u672c\u4ee5\u67e5\u627e\u8be5\u7248\u672c\u7684\u8fdb\u7a0b \u72b6\u6001\u9009\u62e9\u6846\uff1a\u9009\u62e9\u72b6\u6001\u4ee5\u67e5\u627e\u8be5\u72b6\u6001\u7684\u8fdb\u7a0b</li> <li>\u641c\u7d22\u6309\u94ae\uff1a\u70b9\u51fb\u8fdb\u884c\u641c\u7d22\u64cd\u4f5c</li> <li>\u91cd\u7f6e\u6309\u94ae\uff1a\u6e05\u7a7a\u641c\u7d22\u6761\u4ef6\uff0c\u663e\u793a\u6240\u6709\u8fdb\u7a0b</li> <li>\u652f\u6301\u5206\u9875\u663e\u793a\uff0c\u9ed8\u8ba4\u6bcf\u9875\u663e\u793a10\u6761\u8bb0\u5f55 </li> <li> </li> <li>\u5c55\u5f00\u91c7\u96c6\u5668</li> <li>\u52fe\u9009 \u91c7\u96c6\u5668\u4e0b\u9700\u8981\u542f\u52a8\u7684\u8fdb\u7a0b\u524d\u9762\u7684\u590d\u9009\u6846</li> <li>\u52fe\u9009\u540e\u70b9\u51fb\u9875\u9762\u9876\u90e8\u7684\u542f\u52a8\u6309\u94ae</li> <li>\u5b8c\u6210\u542f\u52a8 </li> </ul>"},{"location":"user-guide/front/collector/process-list/#_1","title":"\u6279\u91cf\u542f\u52a8\u8fdb\u7a0b","text":""},{"location":"user-guide/front/collector/process-list/#_2","title":"\u6279\u91cf\u505c\u6b62\u8fdb\u7a0b","text":"<ul> <li>\u5c55\u5f00\u91c7\u96c6\u5668</li> <li>\u52fe\u9009 \u91c7\u96c6\u5668\u4e0b\u9700\u8981\u505c\u6b62\u7684\u8fdb\u7a0b\u524d\u9762\u7684\u590d\u9009\u6846</li> <li>\u52fe\u9009\u540e\u70b9\u51fb\u9875\u9762\u9876\u90e8\u7684\u505c\u6b62\u6309\u94ae</li> <li>\u5b8c\u6210\u505c\u6b62 </li> <li> </li> <li>\u5c55\u5f00\u91c7\u96c6\u5668</li> <li>\u627e\u5230\u8981\u542f\u52a8\u7684\u8fdb\u7a0b</li> <li>\u70b9\u51fb\u8fdb\u7a0b\u540e\u8fb9\u7684\u4e09\u4e2a\u70b9\u56fe\u6807</li> <li>\u70b9\u51fb\u542f\u52a8</li> <li>\u5b8c\u6210\u542f\u52a8</li> <li> </li> <li>\u5c55\u5f00\u91c7\u96c6\u5668</li> <li>\u627e\u5230\u8981\u505c\u6b62\u7684\u8fdb\u7a0b</li> <li>\u70b9\u51fb\u8fdb\u7a0b\u540e\u8fb9\u7684\u4e09\u4e2a\u70b9\u56fe\u6807</li> <li>\u70b9\u51fb\u505c\u6b62</li> <li>\u5b8c\u6210\u505c\u6b62</li> </ul>"},{"location":"user-guide/front/collector/process-list/#_3","title":"\u5355\u4e2a\u8fdb\u7a0b\u542f\u52a8","text":""},{"location":"user-guide/front/collector/process-list/#_4","title":"\u5355\u4e2a\u8fdb\u7a0b\u505c\u6b62","text":""},{"location":"user-guide/front/monitor/host/","title":"\u57fa\u7840\u8bbe\u65bd\u76d1\u63a7-\u4e3b\u673a\u4f7f\u7528\u8bf4\u660e","text":"<p>\u672c\u6587\u6863\u5c06\u6307\u5bfc\u60a8\u5982\u4f55\u4f7f\u7528\u57fa\u7840\u8bbe\u65bd\u76d1\u63a7\u67e5\u770b\u4e3b\u673a\u76f8\u5173\u4fe1\u606f\uff0c\u5305\u62ec\u4e3b\u673a\u5217\u8868\u3001\u4e3b\u673a\u8be6\u60c5\u3001\u4e3b\u673a\u8fdb\u7a0b\u3001\u4e3b\u673a\u6307\u6807\u3001\u4e3b\u673a\u8fdb\u7a0b\u6811\u3001\u4e3b\u673aCGROUP\u56fe\u8868\u3001CPU\u62d3\u6251\u56fe\u7b49\u3002</p>"},{"location":"user-guide/front/monitor/host/#_1","title":"\u70b9\u51fb\u5de6\u4fa7\u5bfc\u822a\u680f\u201c\u4e3b\u673a\u201d","text":"<ol> <li>\u67e5\u8be2\u4e3b\u673a \u641c\u7d22\u8303\u56f4\uff1a\u53ef\u4ee5\u6309\u6761\u4ef6\u5bf9\u4e3b\u673a\u8fdb\u884c\u7b5b\u9009\u3002 \u503c\uff1a\u9009\u62e9\u641c\u7d22\u8303\u56f4\u5bf9\u5e94\u7684\u5177\u4f53\u7684\u67e5\u8be2\u6761\u4ef6\u3002</li> <li>\u652f\u6301\u5206\u9875\u663e\u793a\uff0c\u6bcf\u9875\u663e\u793a10\u6761\u8bb0\u5f55\u3002 </li> <li>\u4e3b\u673a\u5217\u8868\u5c55\u793a\u4fe1\u606f</li> <li>\u4e3b\u673a ID\uff1a\u552f\u4e00\u6807\u8bc6\u4e3b\u673a\u7684\u53f7\u7801\u3002</li> <li>\u540d\u79f0\uff1a\u4e3b\u673a\u540d\u79f0\u3002</li> <li>\u96c6\u7fa4\uff1a\u4e3b\u673a\u6240\u5c5e\u7684\u96c6\u7fa4\u4fe1\u606f\u3002</li> <li>\u64cd\u4f5c\u7cfb\u7edf\uff1a\u4e3b\u673a\u8fd0\u884c\u7684\u64cd\u4f5c\u7cfb\u7edf\u7248\u672c\u3002</li> <li>\u72b6\u6001\uff1a\u4e3b\u673a\u7684\u5728\u7ebf\u72b6\u6001\uff0c\u5982\u201c\u5728\u7ebf\u201d\u6216\u201c\u79bb\u7ebf\u201d\u3002</li> <li>\u7cfb\u7edf\uff1a\u4e3b\u673a\u67b6\u6784\u4fe1\u606f\uff0c\u5982\u201cLinux\u201d\u3002</li> <li>CPU \u4f7f\u7528\u7387\uff1a\u663e\u793a\u4e3b\u673a\u7684 CPU \u4f7f\u7528\u60c5\u51b5\u3002</li> <li>\u5185\u5b58\u4f7f\u7528\u7387\uff1a\u663e\u793a\u4e3b\u673a\u7684\u5f53\u524d\u5185\u5b58\u4f7f\u7528\u60c5\u51b5\u3002</li> <li>\u6807\u7b7e\uff1a\u5bf9\u4e3b\u673a\u6dfb\u52a0\u81ea\u5b9a\u4e49\u6807\u7b7e\u3002</li> <li>IP\u5730\u5740\uff1a\u4e3b\u673a\u7684 IP \u5730\u5740\u3002</li> <li>IPV6\u5730\u5740\uff1a\u4e3b\u673a\u7684 IPV6 \u5730\u5740\u3002</li> <li>\u521b\u5efa\u65f6\u95f4\uff1a\u4e3b\u673a\u7684\u521b\u5efa\u65f6\u95f4\u3002</li> <li>\u66f4\u65b0\u65f6\u95f4\uff1a\u4e3b\u673a\u7684\u66f4\u65b0\u65f6\u95f4\u3002</li> </ol>"},{"location":"user-guide/front/monitor/host/#_2","title":"\u4e3b\u673a\u8be6\u60c5","text":"<p>\u70b9\u51fb\u4e3b\u673a\u5217\u8868\u4e2d\u7684\u67d0\u4e00\u9879\uff0c\u53ef\u4ee5\u67e5\u770b\u4e3b\u673a\u8be6\u60c5\u3002 \u53ef\u5207\u6362\u9009\u9879\u5361\u67e5\u770b\u4e0d\u540c\u4fe1\u606f\u3002 </p> <ol> <li> <p>\u4e3b\u673a\u4fe1\u606f\u6982\u89c8 \u540d\u79f0\uff1a\u4e3b\u673a\u540d\uff0c\u5982 \u201cVM-24-17-ubuntu\u201d \u7cfb\u7edf\uff1a\u5982\uff1aLinux \u64cd\u4f5c\u7cfb\u7edf\uff1a\u5982\uff1aUbuntu 24.04 \u67b6\u6784\u7cfb\u7edf\uff1a\u5982\uff1ax86 IP \u5730\u5740\uff1aIPv4 \u548c IPv6 \u5730\u5740</p> </li> <li> <p>\u7cfb\u7edf\u4fe1\u606f\uff0c\u53ef\u70b9\u51fb\u53f3\u4fa7\u7bad\u5934\u5c55\u5f00\u67e5\u770b\u8be6\u7ec6\u4fe1\u606f\u3002</p> </li> <li>CPU\uff1a\u67e5\u770bCPU\u4f7f\u7528\u60c5\u51b5\u3002</li> <li>\u5185\u5b58\uff1a\u76d1\u63a7\u5185\u5b58\u72b6\u6001\u3002</li> <li>\u78c1\u76d8\uff1a\u4e86\u89e3\u78c1\u76d8\u5229\u7528\u7387\u3002</li> <li>\u7f51\u7edc\uff1a\u5c55\u793a\u7f51\u7edc\u8fde\u63a5\u4fe1\u606f\u3002</li> <li> <p>\u6587\u4ef6\u7cfb\u7edf\uff1a\u663e\u793a\u6587\u4ef6\u7cfb\u7edf\u914d\u7f6e\u3002</p> </li> <li> <p>CPU\u4fe1\u606f </p> </li> <li>cpu\u57fa\u672c\u4fe1\u606f \u578b\u53f7\uff1aCPU \u578b\u53f7 \u5904\u7406\u5668\uff1aCPU\u5904\u7406\u5668\u7c7b\u578b \u7cfb\u5217\uff1aCPU \u7cfb\u5217 \u578b\u53f7\uff1aCPU \u578b\u53f7 \u6b65\u8fdb\u7f16\u53f7\uff1aCPU \u6b65\u8fdb\u7f16\u53f7</li> <li>\u652f\u6301\u6307\u4ee4\u96c6 CPU\u652f\u6301\u7684\u6307\u4ee4\u96c6\u5982\u4e0b\uff1a <p>fpu, tsc, cx8, clfsh, mmx, aes, erms, f16c, fma3, bmi1, hle, bmi2, rtm, rdseed clflushopt, clwb, sse, sse2, sse3, ssse3, sse4_1, sse4_2, avx, avx2, avx512f, avx512cd avx512bw, avx512dq, avx512vl, avx512vnni, avx512_second_fma, pclmulqdq, cx16, popcnt movbe, rdrnd, ss, adx, lzcnt</p> </li> <li> <p>\u7f13\u5b58\u4fe1\u606f \u7f13\u5b58\u7ea7\u522b\uff1aCPU\u7f13\u5b58\u7ea7\u522b \u7f13\u5b58\u7c7b\u578b\uff1aCPU\u7f13\u5b58\u7c7b\u578b \u7f13\u5b58\u5927\u5c0f\uff1aCPU\u7f13\u5b58\u5927\u5c0f \u7f13\u5b58\u4e2a\u6570\uff1aCPU\u7f13\u5b58\u4e2a\u6570 \u7f13\u5b58\u7b49\u7ea7\uff1aCPU\u7f13\u5b58\u7b49\u7ea7 \u7f13\u5b58\u5171\u4eab\uff1aCPU\u7f13\u5b58\u662f\u5426\u652f\u6301\u591a\u6838\u5171\u4eab \u5206\u533a\u6570\u91cf\uff1aCPU\u7f13\u5b58\u5206\u533a\u6570\u91cf</p> </li> <li> <p>\u5185\u5b58\u4fe1\u606f  \u5c55\u793a\u5185\u5b58\u4fe1\u606f\u5982\u4e0b\uff1a \u603b\u5185\u5b58(M) \u5df2\u7528\u5185\u5b58(M) \u53ef\u7528\u5185\u5b58(M) \u4ea4\u6362\u5185\u5b58(M)</p> </li> <li> <p>\u78c1\u76d8\u4fe1\u606f \u5c55\u793acipit\u78c1\u76d8\u4fe1\u606f\uff0c\u5305\u62ec\uff1a</p> </li> <li>\u78c1\u76d8\u540d\u79f0</li> <li>\u8282\u70b9\u6570\u91cf</li> <li>\u5df2\u4f7f\u7528\u5bb9\u91cf(G)</li> </ol>"},{"location":"user-guide/front/monitor/host/#_3","title":"\u4e3b\u673a\u8fdb\u7a0b","text":"<p>\u70b9\u51fb\u4e3b\u673a\u8be6\u60c5\u9875\u7684\u201c\u8fdb\u7a0b\u201d\u9009\u9879\u5361\uff0c\u53ef\u4ee5\u67e5\u770b\u4e3b\u673a\u8fdb\u7a0b\u4fe1\u606f\u3002  1. \u8fdb\u7a0b\u5217\u8868 \u5c55\u793a\u4e3b\u673a\u8fdb\u7a0b\u5217\u8868\uff0c\u5305\u62ec\uff1a - \u8fdb\u7a0bID - \u8fdb\u7a0b\u540d\u79f0 - \u8fdb\u7a0b\u72b6\u6001 - \u8fdb\u7a0bCPU\u4f7f\u7528\u7387 - \u8fdb\u7a0b\u5185\u5b58\u4f7f\u7528\u7387</p> <ol> <li>\u652f\u6301\u5206\u9875\uff0c\u9ed8\u8ba410\u6761\u8bb0\u5f55/\u9875\u3002</li> <li>\u70b9\u51fb\u8fdb\u7a0b\u540d\uff0c\u53ef\u4ee5\u67e5\u770b\u8fdb\u7a0b\u8be6\u60c5\u3002 </li> </ol>"},{"location":"user-guide/front/monitor/host/#_4","title":"\u4e3b\u673a\u6307\u6807","text":"<ol> <li> <p>\u5728\u201c\u6307\u6807\u201d\u9009\u9879\u5361\u4e2d\uff0c\u7528\u6237\u53ef\u4ee5\u67e5\u770b\u4ee5\u4e0b\u7cfb\u7edf\u6027\u80fd\u6307\u6807\uff1a</p> </li> <li> <p>CPU \u4f7f\u7528\u7387\uff1a\u76d1\u63a7 CPU \u5728\u4e00\u6bb5\u65f6\u95f4\u5185\u7684\u4f7f\u7528\u7387\u3002</p> </li> <li>\u5185\u5b58\u4f7f\u7528\u7387\uff1a\u67e5\u770b\u5185\u5b58\u7684\u4f7f\u7528\u60c5\u51b5\u3002</li> <li>\u5185\u5b58\u53ef\u4f7f\u7528\u7387\uff1a\u663e\u793a\u53ef\u7528\u5185\u5b58\u7684\u6bd4\u4f8b\u3002</li> <li>\u78c1\u76d8\u4f7f\u7528\u91cf\uff1a\u76d1\u6d4b\u78c1\u76d8\u7a7a\u95f4\u7684\u4f7f\u7528\u3002</li> <li>\u78c1\u76d8\u8bfb\u53d6\u7e41\u5fd9\u5ea6\uff1a\u8bfb\u53d6\u64cd\u4f5c\u5bf9\u78c1\u76d8\u8d1f\u8f7d\u7684\u5f71\u54cd\u3002</li> <li>\u78c1\u76d8\u5199\u5165\u7e41\u5fd9\u5ea6\uff1a\u5199\u5165\u64cd\u4f5c\u5bf9\u78c1\u76d8\u8d1f\u8f7d\u7684\u5f71\u54cd\u3002</li> <li>\u7f51\u7edc\u6d41\u5165\u91cf\uff1a\u7f51\u7edc\u6570\u636e\u7684\u63a5\u6536\u91cf\u3002</li> <li> <p>\u7f51\u7edc\u6d41\u51fa\u91cf\uff1a\u7f51\u7edc\u6570\u636e\u7684\u53d1\u9001\u91cf\u3002 </p> </li> <li> <p>\u9009\u62e9\u65f6\u95f4\u8303\u56f4 \u70b9\u51fb\u53f3\u4e0a\u89d2\u7684\u65f6\u95f4\u9009\u62e9\u6846\uff0c\u53ef\u9009\u53d6\u5982\u201c\u6700\u8fd12\u5468\u201d\u7684\u6570\u636e\u6765\u67e5\u770b\u3002 \u652f\u6301\u9009\u62e9\u4e00\u6bb5\u65f6\u95f4\u8303\u56f4\uff0c\u5982\u6700\u8fd1\u4e00\u5c0f\u65f6\u3001\u6700\u8fd1\u4e00\u5929\u3001\u6700\u8fd1\u4e00\u5468\u7b49\u3002 </p> </li> <li>\u5b9e\u65f6\u5237\u65b0 \u53ef\u9009\u62e9\u5b9e\u65f6\u5237\u65b0\uff0c\u5b9e\u65f6\u83b7\u53d6\u6700\u65b0\u6570\u636e\u3002 </li> </ol>"},{"location":"user-guide/front/monitor/host/#_5","title":"\u4e3b\u673a\u8fdb\u7a0b\u6811","text":"<ol> <li>\u70b9\u51fb\u4e3b\u673a\u8be6\u60c5\u9875\u7684\u201c\u8fdb\u7a0b\u6811\u201d\u9009\u9879\u5361\uff0c\u53ef\u4ee5\u67e5\u770b\u4e3b\u673a\u8fdb\u7a0b\u6811\u3002 <p>\u8fdb\u7a0b\u6811\u529f\u80fd\u901a\u8fc7\u56fe\u5f62\u5316\u7684\u5c42\u6b21\u7ed3\u6784\u5c55\u793a\u4e3b\u673a\u4e0a\u6240\u6709\u5f53\u524d\u8fd0\u884c\u7684\u8fdb\u7a0b\u3002\u7528\u6237\u53ef\u4ee5\u6e05\u6670\u5730\u4e86\u89e3\u8fdb\u7a0b\u4e4b\u95f4\u7684\u7236\u5b50\u5173\u7cfb\u3002</p> </li> </ol> <p></p> <ol> <li> <p>\u67e5\u770b\u8fdb\u7a0b\u5173\u7cfb \u754c\u9762\u4e0a\u5c06\u663e\u793a\u4e00\u4e2a\u6811\u72b6\u56fe\uff0c\u6839\u8282\u70b9\u901a\u5e38\u662f\u201croot\u201d\uff0c\u4e0b\u4e00\u7ea7\u4e3a\u7cfb\u7edf\u7ea7\u8fdb\u7a0b\u5982\u201csystemd\u201d\u3002 \u6bcf\u4e2a\u77e9\u5f62\u5757\u4ee3\u8868\u4e00\u4e2a\u8fdb\u7a0b\uff0c\u663e\u793a\u5176\u540d\u79f0\u3002 </p> </li> <li> <p>\u641c\u7d22\u8fdb\u7a0b \u5728\u641c\u7d22\u6846\u4e2d\u8f93\u5165\u8fdb\u7a0b\u540d\u79f0\uff0c\u70b9\u51fb\u201c\u641c\u7d22\u201d\u6309\u94ae\u53ef\u5feb\u901f\u5b9a\u4f4d\u7279\u5b9a\u8fdb\u7a0b\u3002 </p> </li> <li> <p>\u8c03\u6574\u89c6\u56fe \u7528\u6237\u53ef\u4ee5\u901a\u8fc7\u9009\u62e9\u65f6\u95f4\u8303\u56f4\uff08\u5982\u201c\u6700\u8fd11\u5c0f\u65f6\u201d\uff09\u6765\u8c03\u8282\u663e\u793a\u7684\u8fdb\u7a0b\u6d3b\u52a8\u3002</p> </li> <li> <p>\u5237\u65b0\u6570\u636e \u70b9\u51fb\u53f3\u4e0a\u89d2\u7684\u5237\u65b0\u6309\u94ae\u4ee5\u66f4\u65b0\u8fdb\u7a0b\u6811\u89c6\u56fe\u3002</p> </li> <li> <p>\u8fdb\u7a0b\u8be6\u60c5 \u70b9\u51fb\u8fdb\u7a0b\uff0c\u53ef\u8df3\u8f6c\u5230\u8fdb\u7a0b\u8be6\u60c5\u3002</p> </li> </ol>"},{"location":"user-guide/front/monitor/host/#cgroup","title":"\u4e3b\u673aCGROUP\u56fe\u8868","text":"<ol> <li> <p>\u70b9\u51fb\u4e3b\u673a\u8be6\u60c5\u9875\u7684\u201cCGROUP\u201d\u9009\u9879\u5361\uff0c\u53ef\u4ee5\u67e5\u770b\u4e3b\u673aCGROUP\u56fe\u8868\u3002 </p> </li> <li> <p>\u67e5\u770b\u8282\u70b9\u4fe1\u606f\uff08hover\u67e5\u770b\u8be6\u7ec6\u4fe1\u606f\uff09 </p> </li> <li> <p>\u8c03\u6574\u89c6\u56fe \u7528\u6237\u53ef\u4ee5\u901a\u8fc7\u9009\u62e9\u65f6\u95f4\u8303\u56f4\uff08\u5982\u201c\u6700\u8fd11\u5c0f\u65f6\u201d\uff09\u6765\u8c03\u8282\u663e\u793a\u7684CGROUP\u56fe\u8868\u3002</p> </li> <li> <p>\u5237\u65b0\u6570\u636e \u70b9\u51fb\u53f3\u4e0a\u89d2\u7684\u5237\u65b0\u6309\u94ae\u4ee5\u66f4\u65b0CGROUP\u89c6\u56fe\u3002</p> </li> </ol>"},{"location":"user-guide/front/monitor/host/#cpu","title":"CPU\u62d3\u6251\u56fe","text":"<ol> <li> <p>\u70b9\u51fb\u4e3b\u673a\u8be6\u60c5\u9875\u7684\u201cCPU\u62d3\u6251\u56fe\u201d\u9009\u9879\u5361\uff0c\u53ef\u4ee5\u67e5\u770bCPU\u62d3\u6251\u56fe\u3002 </p> </li> <li> <p>\u62d3\u6251\u56fe\u7ed3\u6784</p> </li> <li> <p>\u673a\u5668\u603b\u89c8 Machine (total: 1.67GB)\uff1a\u6307\u793a\u6574\u4e2a\u673a\u5668\u4e0a\u7684\u603b\u5185\u5b58\u5bb9\u91cf\u3002</p> </li> <li>\u5305\uff08Package\uff09\u4fe1\u606f Package L#3\uff1a\u8868\u793a CPU \u7684\u4e00\u4e2a\u7269\u7406\u5305\uff0c\u5305\u62ec\u591a\u4e2a\u6838\u5fc3\u548c\u7f13\u5b58\u3002 NUMANode L#13 P#0 (1.67GB)\uff1a\u8868\u793a\u8be5\u5305\u5305\u542b\u4e00\u4e2a NUMA \u8282\u70b9\uff0c\u62e5\u6709 1.67GB \u7684\u5185\u5b58\u3002</li> <li>\u7f13\u5b58\u5c42\u7ea7 L3 \u7f13\u5b58 (36608KB)\uff1a\u4e09\u7ea7\u7f13\u5b58\uff0c\u901a\u5e38\u7528\u4e8e\u591a\u4e2a\u6838\u5fc3\u5171\u4eab\u7684\u5927\u5bb9\u91cf\u7f13\u5b58\u3002 L2 \u7f13\u5b58 (4096KB)\uff1a\u4e8c\u7ea7\u7f13\u5b58\uff0c\u6838\u5fc3\u4e4b\u95f4\u5171\u4eab\u6216\u72ec\u7acb\u5b58\u5728\uff0c\u8f83\u9ad8\u901f\u7684\u7f13\u5b58\u3002 L1 \u7f13\u5b58 (32KB)\uff1a\u4e00\u7ea7\u7f13\u5b58\uff0c\u901f\u5ea6\u6700\u5feb\uff0c\u4f4d\u4e8e\u6bcf\u4e2a\u6838\u5fc3\u5185\u90e8\u3002</li> <li>\u6838\u5fc3\uff08Core\uff09\u4fe1\u606f Core L#2\uff08\u6838\u5fc3 2\uff09\uff1a PU L#5\uff1a\u8868\u793a\u7269\u7406\u5904\u7406\u5668\u5355\u5143\uff08Processing Unit\uff09\u3002 P#0\uff1a\u5904\u7406\u5668\u7f16\u53f7\u3002 Core L#9\uff08\u6838\u5fc3 9\uff09\uff1a PU L#10\uff1a\u8868\u793a\u7269\u7406\u5904\u7406\u5668\u5355\u5143\uff08Processing Unit\uff09\u3002 P#1\uff1a\u5904\u7406\u5668\u7f16\u53f7\u3002</li> </ol>"},{"location":"user-guide/front/monitor/process/","title":"\u57fa\u7840\u8bbe\u65bd\u76d1\u63a7-\u8fdb\u7a0b\u4f7f\u7528\u8bf4\u660e","text":"<p>\u672c\u6587\u6863\u5c06\u6307\u5bfc\u60a8\u5982\u4f55\u4f7f\u7528\u57fa\u7840\u8bbe\u65bd\u76d1\u63a7\u67e5\u770b\u8fdb\u7a0b\u76f8\u5173\u4fe1\u606f\uff0c\u5305\u62ec\u8fdb\u7a0b\u5217\u8868\u3001\u8fdb\u7a0b\u8be6\u60c5\u3001\u8fdb\u7a0b\u6307\u6807\u3001\u4e3b\u673a\u6307\u6807\u7b49\u3002</p>"},{"location":"user-guide/front/monitor/process/#_1","title":"\u70b9\u51fb\u5de6\u4fa7\u5bfc\u822a\u680f\u201c\u8fdb\u7a0b\u83dc\u5355\u201d","text":"<ol> <li> <p>\u67e5\u8be2\u8fdb\u7a0b \u641c\u7d22\u8303\u56f4\uff1a\u53ef\u4ee5\u6309\u6761\u4ef6\u5bf9\u8fdb\u7a0b\u8fdb\u884c\u7b5b\u9009\u3002 \u503c\uff1a\u9009\u62e9\u641c\u7d22\u8303\u56f4\u5bf9\u5e94\u7684\u5177\u4f53\u7684\u67e5\u8be2\u6761\u4ef6\u3002</p> </li> <li> <p>\u8fdb\u7a0b\u5217\u8868\u5c55\u793a\u4fe1\u606f \u8fdb\u7a0b\u540d\uff1a\u8fdb\u7a0b\u7684\u540d\u79f0\u53ca\u63cf\u8ff0\u3002 \u8fdb\u7a0b\u72b6\u6001\uff1a\u5f53\u524d\u72b6\u6001\uff08\u5982Sleeping\u6216Unknown\uff09\u3002 PID\uff1a\u8fdb\u7a0b\u7684\u552f\u4e00\u6807\u8bc6\u7b26\u3002 \u7528\u6237\u540d\uff1a\u8fd0\u884c\u8fdb\u7a0b\u7684\u7528\u6237\u3002 \u4e3b\u673a\uff1a\u8fdb\u7a0b\u6240\u5728\u7684\u4e3b\u673a\u540d\u3002 IP\u5730\u5740\uff1a\u8fdb\u7a0b\u4f7f\u7528\u7684IP\u5730\u5740\uff08\u5982\u6709\uff09\u3002 CPU\u4f7f\u7528\u7387\uff1a\u5f53\u524dCPU\u8d44\u6e90\u4f7f\u7528\u60c5\u51b5\u3002 \u5185\u5b58\u4f7f\u7528\u7387\uff1a\u5f53\u524d\u5185\u5b58\u8d44\u6e90\u4f7f\u7528\u60c5\u51b5\u3002</p> </li> <li> <p>\u652f\u6301\u5206\u9875\u663e\u793a\uff0c\u6bcf\u9875\u663e\u793a10\u6761\u8bb0\u5f55\u3002</p> </li> </ol>"},{"location":"user-guide/front/monitor/process/#_2","title":"\u8fdb\u7a0b\u8be6\u60c5","text":"<p>\u70b9\u51fb\u8fdb\u7a0b\u5217\u8868\u4e2d\u7684\u67d0\u4e00\u9879\uff0c\u53ef\u4ee5\u67e5\u770b\u4e3b\u673a\u8be6\u60c5\u3002 \u53ef\u5207\u6362\u9009\u9879\u5361\u67e5\u770b\u4e0d\u540c\u4fe1\u606f\u3002  1. \u8fdb\u7a0b\u8be6\u60c5 \u8fdb\u7a0b\u540d\uff1a\u8fdb\u7a0b\u7684\u540d\u79f0\u53ca\u63cf\u8ff0\u3002 \u8fdb\u7a0b\u72b6\u6001\uff1a\u5f53\u524d\u72b6\u6001\uff08\u5982Sleeping\u6216Unknown\uff09\u3002 PID\uff1a\u8fdb\u7a0b\u7684\u552f\u4e00\u6807\u8bc6\u7b26\u3002 \u7528\u6237\u540d\uff1a\u8fd0\u884c\u8fdb\u7a0b\u7684\u7528\u6237\u3002 \u4e3b\u673a\uff1a\u8fdb\u7a0b\u6240\u5728\u7684\u4e3b\u673a\u540d\u3002 IP\u5730\u5740\uff1a\u8fdb\u7a0b\u4f7f\u7528\u7684IP\u5730\u5740\uff08\u5982\u6709\uff09\u3002 \u542f\u52a8\u65f6\u95f4\uff1a\u8fdb\u7a0b\u7684\u542f\u52a8\u65f6\u95f4\u3002 \u70b9\u51fb\u4e3b\u673a\u540d\uff0c\u53ef\u8df3\u8f6c\u4e3b\u673a\u8be6\u60c5\u9875\u9762\u3002</p> <ol> <li> <p>\u542f\u52a8\u8fdb\u7a0b\u547d\u4ee4 \u542f\u52a8\u8fdb\u7a0b\u7684\u547d\u4ee4\u3002 \u53ef\u590d\u5236\u5230\u526a\u8d34\u677f\u3002</p> </li> <li> <p>\u8fdb\u7a0b\u76ee\u5f55 \u8fdb\u7a0b\u7684\u5de5\u4f5c\u76ee\u5f55\u3002 \u53ef\u590d\u5236\u5230\u526a\u8d34\u677f\u3002</p> </li> <li> <p>\u8fdb\u7a0b\u7684\u6269\u5c55\u5c5e\u6027\u5c55\u793a \u8fdb\u7a0b\u540d (pname)\uff1a\u8fdb\u7a0b\u7684\u540d\u79f0\u3002 \u8fdb\u7a0bID (pid)\uff1a\u8fdb\u7a0b\u7684\u552f\u4e00\u6807\u8bc6\u7b26\u3002 \u7236\u8fdb\u7a0bID (ppid)\uff1a\u8fdb\u7a0b\u7684\u7236\u7ea7\u8fdb\u7a0b\u6807\u8bc6\u7b26\uff08\u70b9\u51fb\u8fdb\u7a0bid\u53ef\u67e5\u770b\u8fdb\u7a0b\u8be6\u60c5\uff09\u3002 \u7528\u6237\u540d (userName)\uff1a\u8fdb\u7a0b\u7684\u62e5\u6709\u7528\u6237\u3002 \u4e3b\u673a\u540d (host)\uff1a\u8fd0\u884c\u8fdb\u7a0b\u7684\u4e3b\u673a\u3002 CPU\u4f7f\u7528\u7387\uff1a\u5f53\u524dCPU\u8d44\u6e90\u7684\u4f7f\u7528\u60c5\u51b5\u3002 \u7269\u7406\u5185\u5b58\u4f7f\u7528\u7387\uff1a\u5f53\u524d\u7269\u7406\u5185\u5b58\u7684\u4f7f\u7528\u60c5\u51b5\u3002 \u865a\u62df\u5185\u5b58\u4f7f\u7528\u7387\uff1a\u5f53\u524d\u865a\u62df\u5185\u5b58\u7684\u4f7f\u7528\u60c5\u51b5\u3002</p> </li> </ol>"},{"location":"user-guide/front/monitor/process/#_3","title":"\u8fdb\u7a0b\u6307\u6807","text":"<p> 1. \u5728\u201c\u6307\u6807\u201d\u9009\u9879\u5361\u4e2d\uff0c\u7528\u6237\u53ef\u4ee5\u67e5\u770b\u4ee5\u4e0b\u7cfb\u7edf\u6027\u80fd\u6307\u6807\uff1a</p> <ul> <li>CPU\u4f7f\u7528\u7387\uff1a\u76d1\u63a7 CPU \u5728\u4e00\u6bb5\u65f6\u95f4\u5185\u7684\u4f7f\u7528\u7387\u3002</li> <li>\u5185\u5b58\u4f7f\u7528\u7387\uff1a\u67e5\u770b\u5185\u5b58\u7684\u4f7f\u7528\u60c5\u51b5\u3002</li> <li>IO\u8bfb\u53d6\u901f\u7387\uff1a\u67e5\u770b\u78c1\u76d8\u7684\u8bfb\u53d6\u901f\u7387\u3002</li> <li>IO\u5199\u5165\u901f\u7387\uff1a\u67e5\u770b\u78c1\u76d8\u7684\u5199\u5165\u901f\u7387\u3002</li> <li>GPU\u89e3\u7801\u901f\u7387\uff1a\u67e5\u770bGPU\u7684\u89e3\u7801\u901f\u7387\u3002</li> <li>GPU\u7f16\u7801\u901f\u7387\uff1a\u67e5\u770bGPU\u7684\u7f16\u7801\u901f\u7387\u3002</li> <li>GPU\u5185\u5b58\u4f7f\u7528\u7387\uff1a\u67e5\u770bGPU\u7684\u5185\u5b58\u4f7f\u7528\u7387\u3002</li> <li> <p>GPU\u6d41\u5904\u7406\u5668\u4f7f\u7528\u7387\uff1a\u67e5\u770bGPU\u7684\u6d41\u5904\u7406\u5668\u4f7f\u7528\u7387\u3002</p> </li> <li> <p>\u9009\u62e9\u65f6\u95f4\u8303\u56f4 \u70b9\u51fb\u53f3\u4e0a\u89d2\u7684\u65f6\u95f4\u9009\u62e9\u6846\uff0c\u53ef\u9009\u53d6\u5982\u201c\u6700\u8fd12\u5468\u201d\u7684\u6570\u636e\u6765\u67e5\u770b\u3002 \u652f\u6301\u9009\u62e9\u4e00\u6bb5\u65f6\u95f4\u8303\u56f4\uff0c\u5982\u6700\u8fd1\u4e00\u5c0f\u65f6\u3001\u6700\u8fd1\u4e00\u5929\u3001\u6700\u8fd1\u4e00\u5468\u7b49\u3002 </p> </li> <li>\u5b9e\u65f6\u5237\u65b0 \u53ef\u9009\u62e9\u5b9e\u65f6\u5237\u65b0\uff0c\u5b9e\u65f6\u83b7\u53d6\u6700\u65b0\u6570\u636e\u3002 </li> </ul>"},{"location":"user-guide/front/monitor/process/#_4","title":"\u4e3b\u673a\u6307\u6807","text":"<p> 1. \u5728\u201c\u4e3b\u673a\u201d\u9009\u9879\u5361\u4e2d\uff0c\u7528\u6237\u53ef\u4ee5\u67e5\u770b\u4ee5\u4e0b\u7cfb\u7edf\u6027\u80fd\u6307\u6807\uff1a \u663e\u793a\u8fdb\u7a0b\u6240\u5728\u4e3b\u673a\u540d - CPU \u4f7f\u7528\u7387\uff1a\u76d1\u63a7 CPU \u5728\u4e00\u6bb5\u65f6\u95f4\u5185\u7684\u4f7f\u7528\u7387\u3002 - \u5185\u5b58\u4f7f\u7528\u7387\uff1a\u67e5\u770b\u5185\u5b58\u7684\u4f7f\u7528\u60c5\u51b5\u3002 - \u5185\u5b58\u53ef\u4f7f\u7528\u7387\uff1a\u663e\u793a\u53ef\u7528\u5185\u5b58\u7684\u6bd4\u4f8b\u3002 - \u78c1\u76d8\u4f7f\u7528\u91cf\uff1a\u76d1\u6d4b\u78c1\u76d8\u7a7a\u95f4\u7684\u4f7f\u7528\u3002 - \u78c1\u76d8\u8bfb\u53d6\u7e41\u5fd9\u5ea6\uff1a\u8bfb\u53d6\u64cd\u4f5c\u5bf9\u78c1\u76d8\u8d1f\u8f7d\u7684\u5f71\u54cd\u3002 - \u78c1\u76d8\u5199\u5165\u7e41\u5fd9\u5ea6\uff1a\u5199\u5165\u64cd\u4f5c\u5bf9\u78c1\u76d8\u8d1f\u8f7d\u7684\u5f71\u54cd\u3002 - \u7f51\u7edc\u6d41\u5165\u91cf\uff1a\u7f51\u7edc\u6570\u636e\u7684\u63a5\u6536\u91cf\u3002 - \u7f51\u7edc\u6d41\u51fa\u91cf\uff1a\u7f51\u7edc\u6570\u636e\u7684\u53d1\u9001\u91cf\u3002</p> <ol> <li> <p>\u9009\u62e9\u65f6\u95f4\u8303\u56f4 \u70b9\u51fb\u53f3\u4e0a\u89d2\u7684\u65f6\u95f4\u9009\u62e9\u6846\uff0c\u53ef\u9009\u53d6\u5982\u201c\u6700\u8fd12\u5468\u201d\u7684\u6570\u636e\u6765\u67e5\u770b\u3002 \u652f\u6301\u9009\u62e9\u4e00\u6bb5\u65f6\u95f4\u8303\u56f4\uff0c\u5982\u6700\u8fd1\u4e00\u5c0f\u65f6\u3001\u6700\u8fd1\u4e00\u5929\u3001\u6700\u8fd1\u4e00\u5468\u7b49\u3002 </p> </li> <li> <p>\u5b9e\u65f6\u5237\u65b0 \u53ef\u9009\u62e9\u5b9e\u65f6\u5237\u65b0\uff0c\u5b9e\u65f6\u83b7\u53d6\u6700\u65b0\u6570\u636e\u3002 </p> </li> <li> <p>\u4e3b\u673a\u8be6\u60c5 \u70b9\u51fb\u4e3b\u673a\u540d\uff0c\u53ef\u67e5\u770b\u4e3b\u673a\u8be6\u60c5\u3002 </p> </li> </ol>"},{"location":"user-guide/front/setting/dep/","title":"\u7cfb\u7edf\u8bbe\u7f6e--\u90e8\u95e8\u7ba1\u7406","text":"<p>\u672c\u6587\u6863\u5c06\u6307\u5bfc\u60a8\u5982\u4f55\u4f7f\u7528\u90e8\u95e8\u7ba1\u7406\u529f\u80fd\uff0c\u5305\u62ec\u90e8\u95e8\u7684\u65b0\u589e\u3001\u4fee\u6539\u548c\u5220\u9664\u3002</p>"},{"location":"user-guide/front/setting/dep/#_1","title":"\u70b9\u51fb\u5de6\u4fa7\u5bfc\u822a\u680f\u201c\u90e8\u95e8\u7ba1\u7406\u201d\uff0c\u8fdb\u5165\u90e8\u95e8\u7ba1\u7406\u9875\u9762\u3002","text":"<ul> <li>\u67e5\u8be2\u90e8\u95e8 \u90e8\u95e8\u540d\u79f0\u641c\u7d22\u6846\uff1a\u8f93\u5165\u90e8\u95e8\u540d\u79f0\u4ee5\u67e5\u627e\u7279\u5b9a\u90e8\u95e8\u3002 \u72b6\u6001\u4e0b\u62c9\u6846\uff1a\u9009\u62e9\u90e8\u95e8\u72b6\u6001\u8fdb\u884c\u7b5b\u9009\u3002</li> <li>\u641c\u7d22\u6309\u94ae\uff1a\u70b9\u51fb\u8fdb\u884c\u641c\u7d22\u64cd\u4f5c\u3002</li> <li>\u91cd\u7f6e\u6309\u94ae\uff1a\u6e05\u7a7a\u641c\u7d22\u6761\u4ef6\uff0c\u663e\u793a\u6240\u6709\u90e8\u95e8\u3002</li> <li>\u652f\u6301\u5206\u9875\u663e\u793a\uff0c\u6bcf\u9875\u663e\u793a10\u6761\u8bb0\u5f55\u3002 </li> </ul>"},{"location":"user-guide/front/setting/dep/#_2","title":"\u70b9\u51fb\u201c\u65b0\u589e\u90e8\u95e8\u201d\u6309\u94ae\uff0c\u5f39\u51fa\u65b0\u589e\u90e8\u95e8\u5bf9\u8bdd\u6846\u3002","text":"<p>\u586b\u5199\u4ee5\u4e0b\u4fe1\u606f\uff1a - \u4e0a\u7ea7\u90e8\u95e8\uff1a\u9009\u62e9\u90e8\u95e8\u7684\u7236\u7ea7\uff0c\u82e5\u65e0\u7236\u7ea7\uff0c\u4e0d\u7528\u9009\u62e9\u3002 - \u90e8\u95e8\u540d\u79f0\uff08\u5fc5\u586b\uff09\uff1a\u8f93\u5165\u90e8\u95e8\u540d\u79f0\u3002 - \u90e8\u95e8\u8d1f\u8d23\u4eba\uff1a\u8f93\u5165\u90e8\u95e8\u8d1f\u8d23\u4eba\u7684\u59d3\u540d\u3002 - \u624b\u673a\u53f7\uff08\u5fc5\u586b\uff09\uff1a\u8f93\u5165\u8d1f\u8d23\u4eba\u7684\u8054\u7cfb\u7535\u8bdd\u3002 - \u90ae\u7bb1\uff1a\u8f93\u5165\u8d1f\u8d23\u4eba\u7684\u7535\u5b50\u90ae\u7bb1\u3002 - \u6392\u5e8f\uff1a\u8f93\u5165\u90e8\u95e8\u7684\u663e\u793a\u987a\u5e8f\u3002 - logo\uff1a\u4e0a\u4f20\u90e8\u95e8\u7684\u6807\u5fd7\u56fe\u7247\u3002 - \u72b6\u6001\uff1a\u9009\u62e9\u90e8\u95e8\u7684\u72b6\u6001\uff08\u542f\u7528/\u7981\u7528\uff09\u3002 - \u5907\u6ce8\uff1a\u8f93\u5165\u5173\u4e8e\u90e8\u95e8\u7684\u5907\u6ce8\u4fe1\u606f\u3002 - \u70b9\u51fb\u201c\u786e\u5b9a\u201d\u6309\u94ae\uff0c\u5b8c\u6210\u90e8\u95e8\u7684\u65b0\u589e\u3002 </p>"},{"location":"user-guide/front/setting/dep/#_3","title":"\u4fee\u6539\u90e8\u95e8","text":"<ul> <li>\u5728\u90e8\u95e8\u5217\u8868\u4e2d\u627e\u5230\u9700\u8981\u4fee\u6539\u7684\u90e8\u95e8\u3002</li> <li>\u70b9\u51fb\u90e8\u95e8\u9879\u540e\u9762\u7684\u4fee\u6539\u6309\u94ae\u3002</li> <li>\u53cd\u663e\u539f\u6709\u90e8\u95e8\u4fe1\u606f\uff0c\u6839\u636e\u9700\u8981\u4fee\u6539\u6240\u9700\u4fe1\u606f\u3002</li> <li>\u70b9\u51fb \u201c\u786e\u5b9a\u201d \u4fdd\u5b58\u4fee\u6539\uff1b\u70b9\u51fb \u201c\u53d6\u6d88\u201d \u53d6\u6d88\u4fee\u6539\u3002 </li> </ul>"},{"location":"user-guide/front/setting/dep/#_4","title":"\u5220\u9664\u90e8\u95e8","text":"<ul> <li>\u5728\u90e8\u95e8\u5217\u8868\u4e2d\u627e\u5230\u9700\u8981\u5220\u9664\u7684\u90e8\u95e8\u3002</li> <li>\u70b9\u51fb\u90e8\u95e8\u9879\u540e\u9762\u7684\u5220\u9664\u6309\u94ae\u3002</li> <li>\u5728\u5f39\u51fa\u7684\u786e\u8ba4\u5bf9\u8bdd\u6846\u4e2d\u70b9\u51fb \u201c\u786e\u5b9a\u201d \u5b8c\u6210\u5220\u9664\u3002 </li> </ul>"},{"location":"user-guide/front/setting/dep/#_5","title":"\u6ce8\u610f\u4e8b\u9879","text":"<ol> <li>\u65b0\u589e\u6216\u4fee\u6539\u90e8\u95e8\u65f6\uff0c\u201c\u90e8\u95e8\u540d\u79f0\u201d\u548c\u201c\u624b\u673a\u53f7\u201d\u662f\u5fc5\u586b\u9879\u3002</li> <li>\u8bf7\u786e\u4fdd\u90e8\u95e8\u4fe1\u606f\u7684\u51c6\u786e\u6027\uff0c\u7279\u522b\u662f\u8d1f\u8d23\u4eba\u7684\u8054\u7cfb\u4fe1\u606f\u3002 \u5982\u6709\u5176\u4ed6\u95ee\u9898\uff0c\u8bf7\u8054\u7cfb\u7cfb\u7edf\u7ba1\u7406\u5458\u3002</li> </ol>"},{"location":"user-guide/front/setting/menu/","title":"\u7cfb\u7edf\u8bbe\u7f6e--\u83dc\u5355\u7ba1\u7406","text":"<p>\u767b\u5f55\u89c2\u4e91\u667a\u80fd\u7ba1\u7406\u7cfb\u7edf\u540e\uff0c\u70b9\u51fb\u5de6\u4fa7\u5bfc\u822a\u680f\u201c\u7cfb\u7edf\u8bbe\u7f6e\u201d\uff0c\u8fdb\u5165\u7cfb\u7edf\u8bbe\u7f6e\u9875\u9762\u3002</p>"},{"location":"user-guide/front/setting/menu/#_1","title":"\u70b9\u51fb\u5de6\u4fa7\u5bfc\u822a\u680f\u201c\u83dc\u5355\u7ba1\u7406\u201d\uff0c\u8fdb\u5165\u83dc\u5355\u7ba1\u7406\u9875\u9762\u3002","text":"<ul> <li>\u67e5\u8be2\u83dc\u5355 \u83dc\u5355\u540d\u79f0\u641c\u7d22\u6846\uff1a\u8f93\u5165\u83dc\u5355\u540d\u79f0\u4ee5\u67e5\u627e\u7279\u5b9a\u83dc\u5355\u3002</li> <li>\u641c\u7d22\u6309\u94ae\uff1a\u70b9\u51fb\u8fdb\u884c\u641c\u7d22\u64cd\u4f5c\u3002</li> <li>\u91cd\u7f6e\u6309\u94ae\uff1a\u6e05\u7a7a\u641c\u7d22\u6761\u4ef6\uff0c\u663e\u793a\u6240\u6709\u83dc\u5355\u3002</li> <li>\u652f\u6301\u5206\u9875\u663e\u793a\uff0c\u6bcf\u9875\u663e\u793a10\u6761\u8bb0\u5f55\u3002 </li> </ul>"},{"location":"user-guide/front/setting/menu/#_2","title":"\u70b9\u51fb\u201c\u65b0\u589e\u83dc\u5355\u201d\u6309\u94ae\uff0c\u5f39\u51fa\u65b0\u589e\u83dc\u5355\u5bf9\u8bdd\u6846\u3002","text":"<p>\u586b\u5199\u4ee5\u4e0b\u4fe1\u606f\uff1a - \u4e0a\u7ea7\u83dc\u5355\uff1a\u9009\u62e9\u83dc\u5355\u7684\u7236\u7ea7\u3002\u82e5\u65e0\u7236\u7ea7\uff0c\u4e0d\u7528\u9009\u62e9\u3002 - \u83dc\u5355\u540d\u79f0\uff1a\u8f93\u5165\u83dc\u5355\u540d\u79f0\u3002 - \u8def\u7531\u540d\u79f0\uff1a\u8f93\u5165\u83dc\u5355\u7684\u8def\u7531\u540d\u79f0\u3002 - \u8def\u7531\u8def\u5f84\uff1a\u8f93\u5165\u83dc\u5355\u5bf9\u5e94\u7684\u8def\u7531\u8def\u5f84\u3002 - \u83dc\u5355\u6392\u5e8f\uff1a\u8f93\u5165\u83dc\u5355\u7684\u663e\u793a\u987a\u5e8f\u3002 - \u6743\u9650\u6807\u8bc6\uff1a\u8f93\u5165\u552f\u4e00\u6743\u9650\u6807\u8bc6\uff0c\u7528\u4e8e\u6743\u9650\u63a7\u5236\u3002 - \u663e\u793a/\u9690\u85cf\uff1a\u9009\u62e9\u83dc\u5355\u662f\u5426\u663e\u793a\u3002 - \u5907\u6ce8\uff1a\u8f93\u5165\u83dc\u5355\u7684\u5907\u6ce8\u4fe1\u606f\u3002 \u70b9\u51fb\u201c\u786e\u5b9a\u201d\u6309\u94ae\uff0c\u5b8c\u6210\u83dc\u5355\u7684\u65b0\u589e\u3002 </p>"},{"location":"user-guide/front/setting/menu/#_3","title":"\u4fee\u6539\u83dc\u5355","text":"<p>\u5728\u83dc\u5355\u5217\u8868\u4e2d\u627e\u5230\u9700\u8981\u4fee\u6539\u7684\u83dc\u5355\u3002 \u70b9\u51fb\u83dc\u5355\u9879\u540e\u9762\u7684\u4fee\u6539\u6309\u94ae\u3002 \u53cd\u663e\u539f\u6709\u83dc\u5355\u4fe1\u606f\uff0c\u6839\u636e\u9700\u8981\u4fee\u6539\u6240\u9700\u4fe1\u606f\u3002 \u70b9\u51fb \u201c\u786e\u5b9a\u201d \u4fdd\u5b58\u4fee\u6539\uff1b\u70b9\u51fb \u201c\u53d6\u6d88\u201d \u53d6\u6d88\u4fee\u6539\u3002 </p>"},{"location":"user-guide/front/setting/menu/#_4","title":"\u5220\u9664\u83dc\u5355","text":"<p>\u5728\u83dc\u5355\u5217\u8868\u4e2d\u627e\u5230\u9700\u8981\u5220\u9664\u7684\u83dc\u5355\u3002 \u70b9\u51fb\u83dc\u5355\u9879\u540e\u9762\u7684\u5220\u9664\u6309\u94ae\u3002 \u5728\u5f39\u51fa\u7684\u786e\u8ba4\u5bf9\u8bdd\u6846\u4e2d\u70b9\u51fb \u201c\u786e\u5b9a\u201d \u5b8c\u6210\u5220\u9664\u3002 </p>"},{"location":"user-guide/front/setting/menu/#_5","title":"\u6ce8\u610f\u4e8b\u9879","text":"<p>\u65b0\u589e\u6216\u4fee\u6539\u83dc\u5355\u65f6\uff0c\u83dc\u5355\u540d\u79f0\u548c\u8def\u7531\u8def\u5f84\u4e3a\u5fc5\u586b\u9879\u3002 \u8bf7\u786e\u4fdd\u6743\u9650\u6807\u8bc6\u7684\u552f\u4e00\u6027\u4ee5\u907f\u514d\u6743\u9650\u51b2\u7a81\u3002 \u5982\u6709\u5176\u4ed6\u95ee\u9898\uff0c\u8bf7\u8054\u7cfb\u7cfb\u7edf\u7ba1\u7406\u5458\u3002</p>"},{"location":"user-guide/front/setting/role/","title":"\u7cfb\u7edf\u8bbe\u7f6e--\u89d2\u8272\u7ba1\u7406\u4f7f\u7528\u8bf4\u660e","text":"<p>\u672c\u6587\u6863\u5c06\u6307\u5bfc\u60a8\u5982\u4f55\u4f7f\u7528\u89d2\u8272\u7ba1\u7406\u529f\u80fd\uff0c\u5305\u62ec\u89d2\u8272\u7684\u65b0\u589e\u3001\u4fee\u6539\u548c\u5220\u9664\uff0c\u4ee5\u53ca\u89d2\u8272\u6743\u9650\u5206\u914d\u3002</p>"},{"location":"user-guide/front/setting/role/#_1","title":"\u70b9\u51fb\u5de6\u4fa7\u5bfc\u822a\u680f\u201c\u89d2\u8272\u7ba1\u7406\u201d\uff0c\u8fdb\u5165\u89d2\u8272\u7ba1\u7406\u9875\u9762\u3002","text":"<ul> <li>\u67e5\u8be2\u89d2\u8272 \u89d2\u8272\u540d\u79f0\u641c\u7d22\u6846\uff1a\u8f93\u5165\u89d2\u8272\u540d\u79f0\u4ee5\u67e5\u627e\u7279\u5b9a\u89d2\u8272\u3002 \u89d2\u8272\u6807\u8bc6\u641c\u7d22\u6846\uff1a\u8f93\u5165\u89d2\u8272\u6807\u8bc6\u4ee5\u67e5\u627e\u7279\u5b9a\u89d2\u8272\u3002 \u89d2\u8272\u72b6\u6001\u641c\u7d22\u6846\uff1a\u8f93\u5165\u89d2\u8272\u72b6\u6001\u4ee5\u67e5\u627e\u7279\u5b9a\u89d2\u8272\u3002</li> <li>\u641c\u7d22\u6309\u94ae\uff1a\u70b9\u51fb\u8fdb\u884c\u641c\u7d22\u64cd\u4f5c\u3002</li> <li>\u91cd\u7f6e\u6309\u94ae\uff1a\u6e05\u7a7a\u641c\u7d22\u6761\u4ef6\uff0c\u663e\u793a\u6240\u6709\u89d2\u8272\u3002</li> <li>\u652f\u6301\u5206\u9875\u663e\u793a\uff0c\u6bcf\u9875\u663e\u793a10\u6761\u8bb0\u5f55\u3002 </li> </ul>"},{"location":"user-guide/front/setting/role/#_2","title":"\u70b9\u51fb\u201c\u65b0\u589e\u201d\u6309\u94ae\uff0c\u5f39\u51fa\u65b0\u589e\u89d2\u8272\u5bf9\u8bdd\u6846\u3002","text":"<p>\u586b\u5199\u4ee5\u4e0b\u4fe1\u606f\uff1a - \u89d2\u8272\u540d\u79f0\uff1a\u8f93\u5165\u89d2\u8272\u7684\u540d\u79f0\uff08\u5fc5\u586b\uff09\u3002 - \u89d2\u8272\u6807\u8bc6\uff1a\u8f93\u5165\u89d2\u8272\u7684\u6807\u8bc6\u7b26\uff08\u5fc5\u586b\uff09\u3002 - \u72b6\u6001\uff1a\u9009\u62e9\u89d2\u8272\u7684\u542f\u7528\u72b6\u6001\u3002 - \u5907\u6ce8\uff1a\u8f93\u5165\u5173\u4e8e\u89d2\u8272\u7684\u5907\u6ce8\u4fe1\u606f\u3002</p> <p></p>"},{"location":"user-guide/front/setting/role/#_3","title":"\u4fee\u6539\u89d2\u8272\u4fe1\u606f","text":"<p>\u5728\u89d2\u8272\u5217\u8868\u4e2d\u627e\u5230\u9700\u8981\u4fee\u6539\u7684\u89d2\u8272\u3002 \u70b9\u51fb\u89d2\u8272\u9879\u540e\u9762\u7684\u4fee\u6539\u6309\u94ae\u3002 \u53cd\u663e\u539f\u6709\u89d2\u8272\u4fe1\u606f\uff0c\u6839\u636e\u9700\u8981\u4fee\u6539\u6240\u9700\u4fe1\u606f\u3002 \u70b9\u51fb \u201c\u786e\u5b9a\u201d \u4fdd\u5b58\u4fee\u6539\uff1b\u70b9\u51fb \u201c\u53d6\u6d88\u201d \u53d6\u6d88\u4fee\u6539\u3002 </p>"},{"location":"user-guide/front/setting/role/#_4","title":"\u5220\u9664\u89d2\u8272\u4fe1\u606f","text":"<p>\u5728\u89d2\u8272\u5217\u8868\u4e2d\u627e\u5230\u9700\u8981\u5220\u9664\u7684\u89d2\u8272\u3002 \u70b9\u51fb\u89d2\u8272\u9879\u540e\u9762\u7684\u5220\u9664\u6309\u94ae\u3002 \u5728\u5f39\u51fa\u7684\u786e\u8ba4\u5bf9\u8bdd\u6846\u4e2d\u70b9\u51fb \u201c\u786e\u5b9a\u201d \u5b8c\u6210\u5220\u9664\u3002 </p>"},{"location":"user-guide/front/setting/role/#_5","title":"\u5206\u914d\u83dc\u5355","text":"<p>\u5728\u89d2\u8272\u5217\u8868\u4e2d\u627e\u5230\u9700\u8981\u5206\u914d\u83dc\u5355\u7684\u89d2\u8272\u3002 \u70b9\u51fb\u89d2\u8272\u9879\u540e\u9762\u7684\u5206\u914d\u83dc\u5355\u6309\u94ae\u3002 \u5728\u5f39\u51fa\u7684\u83dc\u5355\u6811\u4e2d\u52fe\u9009\u9700\u8981\u5206\u914d\u7684\u83dc\u5355\uff0c\u70b9\u51fb \u201c\u786e\u5b9a\u201d \u5b8c\u6210\u83dc\u5355\u5206\u914d\u3002 \u652f\u6301\u5168\u9009\u548c\u53cd\u9009\u83dc\u5355\u3002 \u652f\u6301\u83dc\u5355\u641c\u7d22\u529f\u80fd\u3002 </p>"},{"location":"user-guide/front/setting/user/","title":"\u7cfb\u7edf\u8bbe\u7f6e--\u7528\u6237\u7ba1\u7406","text":"<p>\u672c\u6587\u6863\u5c06\u6307\u5bfc\u60a8\u5982\u4f55\u4f7f\u7528\u7528\u6237\u7ba1\u7406\u529f\u80fd\uff0c\u5305\u62ec\u89d2\u8272\u7684\u65b0\u589e\u3001\u4fee\u6539\u548c\u5220\u9664,\u4ee5\u53ca\u89d2\u8272\u5206\u914d\u6743\u9650\u3002</p>"},{"location":"user-guide/front/setting/user/#_1","title":"\u70b9\u51fb\u5de6\u4fa7\u5bfc\u822a\u680f\u201c\u7528\u6237\u7ba1\u7406\u201d\uff0c\u8fdb\u5165\u7528\u6237\u7ba1\u7406\u9875\u9762\u3002","text":"<ul> <li>\u67e5\u8be2\u7528\u6237 \u7528\u6237\u540d\u79f0\u641c\u7d22\u6846\uff1a\u8f93\u5165\u7528\u6237\u540d\u79f0\u4ee5\u67e5\u627e\u7279\u5b9a\u7528\u6237\u3002 \u624b\u673a\u53f7\u7801\u641c\u7d22\u6846\uff1a\u8f93\u5165\u624b\u673a\u53f7\u7801\u4ee5\u67e5\u627e\u7279\u5b9a\u7528\u6237\u3002 \u72b6\u6001\u641c\u7d22\u6846\uff1a\u9009\u62e9\u72b6\u6001\u4ee5\u67e5\u627e\u7279\u5b9a\u72b6\u6001\u7528\u6237\u3002</li> <li>\u641c\u7d22\u6309\u94ae\uff1a\u70b9\u51fb\u8fdb\u884c\u641c\u7d22\u64cd\u4f5c\u3002</li> <li>\u91cd\u7f6e\u6309\u94ae\uff1a\u6e05\u7a7a\u641c\u7d22\u6761\u4ef6\uff0c\u663e\u793a\u6240\u6709\u7528\u6237\u3002</li> <li>\u652f\u6301\u5206\u9875\u663e\u793a\uff0c\u6bcf\u9875\u663e\u793a10\u6761\u8bb0\u5f55\u3002 </li> </ul>"},{"location":"user-guide/front/setting/user/#_2","title":"\u70b9\u51fb\u201c\u65b0\u589e\u7528\u6237\u201d\u6309\u94ae\uff0c\u5f39\u51fa\u65b0\u589e\u7528\u6237\u5bf9\u8bdd\u6846\u3002","text":"<p>\u586b\u5199\u4ee5\u4e0b\u4fe1\u606f\uff1a - \u7528\u6237\u6635\u79f0\uff1a\u8bf7\u8f93\u5165\u7528\u6237\u7684\u6635\u79f0\uff08\u5fc5\u586b\uff09\u3002 - \u7528\u6237\u540d\uff1a\u8bf7\u8f93\u5165\u7528\u6237\u7684\u767b\u5f55\u540d\uff08\u5fc5\u586b\uff09\u3002 - \u6027\u522b\uff1a\u4ece\u4e0b\u62c9\u83dc\u5355\u4e2d\u9009\u62e9\u6027\u522b\uff08\u5fc5\u586b\uff09\u3002 - \u624b\u673a\u53f7\uff1a\u8f93\u5165\u7528\u6237\u7684\u8054\u7cfb\u7535\u8bdd\u53f7\u7801\uff08\u5fc5\u586b\uff09\u3002 - \u90ae\u7bb1\uff1a\u8f93\u5165\u7528\u6237\u7684\u7535\u5b50\u90ae\u7bb1\u5730\u5740\uff08\u5fc5\u586b\uff09\u3002 - \u5934\u50cf\uff1a\u70b9\u51fb\u201c+\u201d\u53f7\u6309\u94ae\u4e0a\u4f20\u7528\u6237\u5934\u50cf\u56fe\u7247\u3002 - \u5f52\u5c5e\u90e8\u95e8\uff1a\u4ece\u4e0b\u62c9\u83dc\u5355\u4e2d\u9009\u62e9\u7528\u6237\u6240\u5728\u7684\u90e8\u95e8\u3002 - \u72b6\u6001\uff1a\u9ed8\u8ba4\u662f\u201c\u5df2\u542f\u7528\u201d\uff0c\u53ef\u4ee5\u6253\u5f00\u6216\u5173\u95ed\u7528\u6237\u72b6\u6001\u3002 - \u5907\u6ce8\uff1a\u8f93\u5165\u4efb\u4f55\u5173\u4e8e\u7528\u6237\u7684\u5176\u4ed6\u5907\u6ce8\u4fe1\u606f\u3002 - \u70b9\u51fb\u201c\u786e\u5b9a\u201d\u6309\u94ae\uff0c\u5b8c\u6210\u7528\u6237\u7684\u65b0\u589e\u3002 </p>"},{"location":"user-guide/front/setting/user/#_3","title":"\u4fee\u6539\u7528\u6237","text":"<p>\u5728\u7528\u6237\u5217\u8868\u4e2d\u627e\u5230\u9700\u8981\u4fee\u6539\u7684\u7528\u6237\u3002 \u70b9\u51fb\u7528\u6237\u9879\u540e\u9762\u7684\u4fee\u6539\u6309\u94ae\u3002 \u53cd\u663e\u539f\u6709\u7528\u6237\u4fe1\u606f\uff0c\u6839\u636e\u9700\u8981\u4fee\u6539\u6240\u9700\u4fe1\u606f\u3002 \u70b9\u51fb \u201c\u786e\u5b9a\u201d \u4fdd\u5b58\u4fee\u6539\uff1b\u70b9\u51fb \u201c\u53d6\u6d88\u201d \u53d6\u6d88\u4fee\u6539\u3002 </p>"},{"location":"user-guide/front/setting/user/#_4","title":"\u5220\u9664\u7528\u6237","text":"<p>\u5728\u7528\u6237\u5217\u8868\u4e2d\u627e\u5230\u9700\u8981\u5220\u9664\u7684\u7528\u6237\u3002 \u70b9\u51fb\u7528\u6237\u9879\u540e\u9762\u7684\u5220\u9664\u6309\u94ae\u3002 \u5728\u5f39\u51fa\u7684\u786e\u8ba4\u5bf9\u8bdd\u6846\u4e2d\u70b9\u51fb \u201c\u786e\u5b9a\u201d \u5b8c\u6210\u5220\u9664\u3002 </p>"},{"location":"user-guide/front/setting/user/#_5","title":"\u5206\u914d\u89d2\u8272","text":"<p>\u5728\u7528\u6237\u5217\u8868\u4e2d\u627e\u5230\u9700\u8981\u5206\u914d\u89d2\u8272\u7684\u7528\u6237\u3002 \u70b9\u51fb\u7528\u6237\u9879\u540e\u9762\u7684\u5206\u914d\u89d2\u8272\u6309\u94ae\u3002 \u5728\u5f39\u51fa\u7684\u89d2\u8272\u5217\u8868\u4e2d\u52fe\u9009\u9700\u8981\u5206\u914d\u7684\u89d2\u8272\uff0c\u70b9\u51fb \u201c\u786e\u5b9a\u201d \u5b8c\u6210\u89d2\u8272\u5206\u914d\u3002 </p>"},{"location":"user-guide/front/setting/user/#_6","title":"\u6839\u636e\u90e8\u95e8\u67e5\u8be2\u7528\u6237","text":"<p>\u5728\u90e8\u95e8\u5217\u8868\u4e2d\u627e\u5230\u9700\u8981\u67e5\u8be2\u7684\u90e8\u95e8\u3002 \u70b9\u51fb\u90e8\u95e8\u9879\u540e\u9762\u7684\u67e5\u8be2\u7528\u6237\u6309\u94ae\u3002 \u7cfb\u7edf\u5c06\u663e\u793a\u8be5\u90e8\u95e8\u4e0b\u6240\u6709\u7528\u6237\u3002 \u9ed8\u8ba4\u67e5\u8be2\u6240\u6709\u90e8\u95e8\u4e0b\u7684\u7528\u6237\u3002 </p>"},{"location":"user-guide/front/setting/user/#_7","title":"\u6ce8\u610f\u4e8b\u9879","text":"<p>\u65b0\u589e\u6216\u4fee\u6539\u7528\u6237\u65f6\uff0c\u6ce8\u610f\u586b\u5199\u5fc5\u586b\u9879\u3002 \u5982\u6709\u5176\u4ed6\u95ee\u9898\uff0c\u8bf7\u8054\u7cfb\u7cfb\u7edf\u7ba1\u7406\u5458\u3002</p>"},{"location":"user-guide/monitor/loggie-monitor/","title":"Loggie\u7684\u76d1\u63a7\u4e0e\u62a5\u8b66","text":"<p>Loggie\u7684monitor eventbus\u88ab\u8bbe\u8ba1\u4e3a\u53d1\u5e03\u548c\u8ba2\u9605\u6a21\u5f0f\uff0c\u5404\u4e2a\u7ec4\u4ef6\u53d1\u9001metrics\u5230\u6307\u5b9a\u7684topic\u4e2d\uff0c\u7531\u72ec\u7acb\u7684listener\u6765\u6d88\u8d39\u5904\u7406\u3002  </p> <p>\u6bd4\u5982<code>file source</code>\u4f1a\u5c06\u91c7\u96c6\u65e5\u5fd7\u7684\u4e00\u4e9b\u6307\u6807\u6570\u636e\uff0c\u53d1\u9001\u81f3<code>filesource topic</code>\uff0c\u7531<code>filesource listener</code>\u6765\u6d88\u8d39\uff0c<code>filesource listener</code>\u4f1a\u5c06\u6570\u636e\u805a\u5408\u8ba1\u7b97\u4e4b\u540e\uff0c\u6253\u5370\u81f3\u65e5\u5fd7\uff0c\u66b4\u9732\u51faPrometheus\u6307\u6807\u3002</p> <p>\u7ec4\u4ef6\u548ctopic\u4ee5\u53calistener\u4e4b\u95f4\u662f\u677e\u8026\u5408\u5173\u7cfb\uff0c\u6bd4\u5982<code>file source</code>\u8fd8\u4f1a\u5b9a\u65f6\u5c06\u5168\u91cf\u5339\u914d\u7684\u65e5\u5fd7\u6587\u4ef6\u6307\u6807\u53d1\u9001\u81f3<code>filewatcher topic</code>\uff0c<code>filewatcher listener</code>\u4f1a\u5904\u7406\u548c\u66b4\u9732\u6307\u6807\u3002  </p>"},{"location":"user-guide/monitor/loggie-monitor/#monitor","title":"Monitor\u914d\u7f6e","text":"<p>monitor eventbus\u914d\u7f6e\u5728\u5168\u5c40\u7684\u7cfb\u7edf\u914d\u7f6e\u4e2d\uff0c\u793a\u4f8b\u5982\u4e0b\uff1a</p> <p>Config</p> <pre><code>loggie:\n  monitor:\n    logger:\n      period: 30s\n      enabled: true\n    listeners:\n      filesource: ~\n      filewatcher: ~\n      reload: ~\n      queue: ~\n      sink: ~\n  http:\n    enabled: true\n    port: 9196\n</code></pre> <p>\u5176\u4e2d<code>logger</code>\u63a7\u5236\u6240\u6709\u7684metrics\u6307\u6807\u7684\u65e5\u5fd7\u6253\u5370\uff0c\u4f1a\u5728<code>period</code>\u65f6\u95f4\u95f4\u9694\u5c06\u914d\u7f6elisteners\u4ea7\u751f\u7684metrics\u805a\u5408\u6253\u5370\u5728Loggie\u65e5\u5fd7\u4e2d\uff0c\u4fbf\u4e8e\u56de\u6eaf\u548c\u6392\u67e5\u95ee\u9898\u3002  </p> <p><code>listeners</code>\u5219\u7528\u4e8e\u914d\u7f6e\u76f8\u5173\u7684listener\u662f\u5426\u5f00\u542f\u3002  </p> <p>Prometheus\u683c\u5f0fmetrics\u9ed8\u8ba4\u901a\u8fc7<code>http.port</code>\u7aef\u53e3\u66b4\u9732\u5728<code>/metrics</code>\u3002\u53ef\u4ee5\u901a\u8fc7<code>curl &lt;podIp&gt;:9196/metrics</code>\u6765\u67e5\u770b\u5f53\u524d\u7684metrics\u6307\u6807\u3002  </p>"},{"location":"user-guide/monitor/loggie-monitor/#_1","title":"\u65e5\u5fd7\u91c7\u96c6\u6838\u5fc3\u6307\u6807","text":"<p>\u76ee\u524d\u6709\u4ee5\u4e0b\u7684listener\uff1a</p> <ul> <li>filesource: \u5f53\u524d\u65e5\u5fd7\u91c7\u96c6\u7684\u6307\u6807\u6570\u636e\uff0c\u6bd4\u5982\u5f53\u524d\u6709\u54ea\u4e9b\u6587\u4ef6\u5728\u91c7\u96c6\u4e2d\uff0c\u91c7\u96c6\u72b6\u6001\u5982\u4f55</li> <li>filewatcher: \u5b9a\u65f6\u7684\u5168\u91cf\u904d\u5386\uff08\u9ed8\u8ba45min)\u914d\u7f6epath\u5339\u914d\u7684\u6240\u6709\u6587\u4ef6\uff0c\u76d1\u63a7\u5168\u5c40\u91c7\u96c6\u72b6\u6001\uff0c\u5224\u65ad\u662f\u5426\u6709\u672a\u53ca\u65f6\u91c7\u96c6\u7684\u6587\u4ef6\u7b49</li> <li>reload: reload\u6b21\u6570</li> <li>queue: \u961f\u5217\u72b6\u6001</li> <li>sink: \u53d1\u9001\u7684\u6307\u6807\uff0c\u6bd4\u5982\u53d1\u751f\u6210\u529f\u6216\u8005\u5931\u8d25\u7684\u4e2a\u6570\u7b49</li> </ul>"},{"location":"user-guide/monitor/loggie-monitor/#prometheusgrafana","title":"\u90e8\u7f72Prometheus\u548cGrafana","text":"<p>\u53ef\u4ee5\u4f7f\u7528\u73af\u5883\u5df2\u6709\u7684Prometheus\u6216\u8005Grafana\uff0c\u5982\u679c\u9700\u8981\u65b0\u90e8\u7f72\uff0c\u53ef\u53c2\u8003\uff1ahttps://github.com/prometheus-community/helm-charts/tree/main/charts/kube-prometheus-stack\u3002</p> <p>\u4f7f\u7528Helm\u90e8\u7f72: <pre><code>helm repo add prometheus-community https://prometheus-community.github.io/helm-charts\nhelm repo update\nhelm install prometheus prometheus-community/kube-prometheus-stack -nprometheus --create-namespace\n</code></pre></p> <p>Note</p> <p>\u7531\u4e8e\u4f17\u6240\u5468\u77e5\u7684\u539f\u56e0\uff0c\u4f60\u7684\u73af\u5883\u91cc\u53ef\u80fd\u65e0\u6cd5\u4e0b\u8f7d\u5176\u4e2d\u7684\u67d0\u4e9b<code>k8s.gcr.io</code>\u955c\u50cf\uff0c\u53ef\u4ee5\u8003\u8651\u4e0b\u8f7dchart\u5305\u66ff\u6362\u540e\u518d\u91cd\u65b0\u90e8\u7f72\u3002  </p> <p>\u786e\u8ba4Pod\u6b63\u5e38running\u540e\uff0c\u53ef\u4ee5\u6839\u636e\u5b9e\u9645\u73af\u5883\u8bbf\u95eegrafana\u3002\u901a\u8fc7\u4ee3\u7406\u8bbf\u95eegrafana\u7684\u65b9\u5f0f\u53ef\u53c2\u8003\uff1a  </p> <pre><code>kubectl -nprometheus port-forward --address 0.0.0.0 service/prometheus-grafana 8181:80\n</code></pre> <p>Grafana\u7528\u6237\u540d\u548c\u5bc6\u7801\u53ef\u5728prometheus-grafana sercret\u4e2d\uff0c\u901a\u8fc7<code>base64 -d</code>\u6765\u67e5\u770b\u3002</p>"},{"location":"user-guide/monitor/loggie-monitor/#loggie-prometheus","title":"\u589e\u52a0Loggie Prometheus\u76d1\u63a7","text":"<p>\u5728\u90e8\u7f72\u4e86Loggie\u7684Kubernetes\u96c6\u7fa4\u4e2d\uff0c\u9700\u8981\u521b\u5efa\u5982\u4e0b\u7684ServiceMonitor\u6765\u8ba9Prometheus\u91c7\u96c6Loggie Agent\u6307\u6807\u3002  </p> <pre><code>apiVersion: monitoring.coreos.com/v1\nkind: ServiceMonitor\nmetadata:\n  labels:\n    app: loggie\n    release: prometheus\n  name: loggie-agent\n  namespace: prometheus\nspec:\n  namespaceSelector:\n    matchNames:\n    - loggie\n  endpoints:\n  - port: monitor\n  selector:\n    matchLabels:\n      app: loggie\n      instance: loggie\n</code></pre> <p>\u540c\u65f6\uff0c\u6211\u4eec\u9700\u8981\u5728Grafana\u4e2d\u6dfb\u52a0install\u5de5\u7a0b\u4e2d\u7684json\u6765\u5c55\u793aLoggie\u7684\u76d1\u63a7\u63a7\u5236\u53f0\u3002  </p> <p>Note</p> <p>Kubernetes\u7248\u672c\u548cGrafana\u7248\u672c\u4e0d\u540c\uff0c\u53ef\u80fd\u5bfc\u81f4\u56fe\u8868\u5c55\u793a\u4e0d\u517c\u5bb9\uff0c\u9700\u8981\u6839\u636e\u60c5\u51b5\u8fdb\u884c\u4fee\u6539\u3002  </p> <p>\u5bfc\u5165\u7684Grafana\u56fe\u8868\u76ee\u524d\u5305\u542b\u76d1\u63a7\u5927\u76d8\u548c\u8282\u70b9Agent\u7684\u76d1\u63a7\u56fe\u8868\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p> </p>"},{"location":"user-guide/monitor/service-log-alarm/","title":"\u4e1a\u52a1\u65e5\u5fd7\u62a5\u8b66","text":"<p>\u9664\u4e86Loggie\u672c\u8eab\u7684\u62a5\u8b66\uff0c\u4e1a\u52a1\u65e5\u5fd7\u672c\u8eab\u7684\u76d1\u63a7\u62a5\u8b66\u4e5f\u662f\u4e00\u4e2a\u5e38\u7528\u7684\u529f\u80fd\uff0c\u6bd4\u5982\u5728\u65e5\u5fd7\u4e2d\u5305\u542b\u4e86ERROR\u65e5\u5fd7\uff0c\u53ef\u4ee5\u53d1\u9001\u62a5\u8b66\uff0c\u8fd9\u79cd\u62a5\u8b66\u4f1a\u66f4\u8d34\u8fd1\u4e1a\u52a1\u672c\u8eab\uff0c\u662f\u57fa\u4e8emetrics\u62a5\u8b66\u7684\u4e00\u79cd\u5f88\u597d\u7684\u8865\u5145\u3002  </p>"},{"location":"user-guide/monitor/service-log-alarm/#_2","title":"\u4f7f\u7528\u65b9\u5f0f","text":"<p>\u6709\u4ee5\u4e0b\u4e24\u79cd\u65b9\u5f0f\u53ef\u4ee5\u9009\u62e9\uff1a</p> <ul> <li>\u91c7\u96c6\u94fe\u8def\u68c0\u6d4b\u62a5\u8b66\uff1aLoggie\u53ef\u4ee5\u5728Agent\u91c7\u96c6\u65e5\u5fd7\u7684\u65f6\u5019\uff0c\u6216\u8005\u5728\u4e2d\u8f6c\u673a\u8f6c\u53d1\u7684\u65f6\u5019\uff0c\u68c0\u6d4b\u5230\u5339\u914d\u7684\u5f02\u5e38\u65e5\u5fd7\uff0c\u7136\u540e\u53d1\u9001\u62a5\u8b66</li> <li>\u72ec\u7acb\u94fe\u8def\u68c0\u6d4b\u62a5\u8b66\uff1a\u5355\u72ec\u90e8\u7f72Loggie\uff0c\u4f7f\u7528Elasticsearch source\u6216\u8005\u5176\u4ed6\u7684source\u67e5\u8be2\u65e5\u5fd7\uff0c\u7136\u540e\u5339\u914d\u68c0\u6d4b\u53d1\u9001\u62a5\u8b66</li> </ul>"},{"location":"user-guide/monitor/service-log-alarm/#_3","title":"\u91c7\u96c6\u94fe\u8def\u68c0\u6d4b","text":""},{"location":"user-guide/monitor/service-log-alarm/#_4","title":"\u539f\u7406","text":"<p>\u91c7\u96c6\u94fe\u8def\u4e0d\u9700\u8981\u72ec\u7acb\u90e8\u7f72Loggie\uff0c\u4f46\u662f\u7531\u4e8e\u5728\u91c7\u96c6\u7684\u6570\u636e\u94fe\u8def\u4e0a\u8fdb\u884c\u5339\u914d\uff0c\u7406\u8bba\u4e0a\u4f1a\u5bf9\u4f20\u8f93\u6027\u80fd\u9020\u6210\u4e00\u5b9a\u5f71\u54cd\uff0c\u4f46\u80dc\u5728\u65b9\u4fbf\u7b80\u5355\u3002  </p> <p><code>logAlert interceptor</code>\u7528\u4e8e\u5728\u65e5\u5fd7\u4f20\u8f93\u7684\u65f6\u5019\u68c0\u6d4b\u5f02\u5e38\u65e5\u5fd7\uff0c\u5f02\u5e38\u65e5\u5fd7\u4f1a\u88ab\u5c01\u88c5\u6210\u62a5\u8b66\u7684\u4e8b\u4ef6\u53d1\u9001\u81f3monitor eventbus\u7684<code>logAlert</code> topic\uff0c\u7531<code>logAlert listener</code>\u6765\u6d88\u8d39\u3002\u76ee\u524d<code>logAlert listener</code>\u652f\u6301\u53d1\u9001\u81f3Prometheus AlertManager\u3002\u6709\u53d1\u9001\u81f3\u5176\u4ed6\u62a5\u8b66\u6e20\u9053\u7684\u9700\u6c42\uff0c\u6b22\u8fce\u63d0Issues\u6216\u8005PR\u3002  </p>"},{"location":"user-guide/monitor/service-log-alarm/#_5","title":"\u914d\u7f6e\u793a\u4f8b","text":"<p>\u914d\u7f6e\u65b0\u589e<code>logAlert listener</code>\uff1a</p> <p>Config</p> <pre><code>loggie:\n  monitor:\n    logger:\n      period: 30s\n      enabled: true\n    listeners:\n      logAlert:\n        alertManagerAddress: [\"http://127.0.0.1:9093\"]\n        bufferSize: 100\n        batchTimeout: 10s\n        batchSize: 10\n      filesource: ~\n      filewatcher: ~\n      reload: ~\n      queue: ~\n      sink: ~\n  http:\n    enabled: true\n    port: 9196\n</code></pre> <p>\u589e\u52a0<code>logAlert interceptor</code>\uff0c\u540c\u65f6\u5728ClusterLogConfig/LogConfig\u4e2d\u5f15\u7528\uff1a</p> <p>Config</p> <pre><code>apiVersion: loggie.io/v1beta1\nkind: Interceptor\nmetadata:\n  name: logalert\nspec:\n  interceptors: |\n    - type: logAlert\n      matcher:\n        contains: [\"err\"]\n</code></pre> <p>\u53ef\u4ee5\u914d\u7f6ealertManager\u7684webhook\u53d1\u9001\u81f3\u5176\u4ed6\u670d\u52a1\u6765\u63a5\u6536\u62a5\u8b66\u3002  </p> <p>Config</p> <pre><code>receivers:\n- name: webhook\n  webhook_configs:\n    - url: http://127.0.0.1:8787/webhook\n      send_resolved: true\n</code></pre> <p>\u53d1\u9001\u6210\u529f\u540e\u6211\u4eec\u5728alertManager\u91cc\u53ef\u4ee5\u67e5\u770b\u5230\u7c7b\u4f3c\u7684\u65e5\u5fd7\uff1a <pre><code>ts=2021-12-22T13:33:08.639Z caller=log.go:124 level=debug component=dispatcher msg=\"Received alert\" alert=[6b723d0][active]\nts=2021-12-22T13:33:38.640Z caller=log.go:124 level=debug component=dispatcher aggrGroup={}:{} msg=flushing alerts=[[6b723d0][active]]\nts=2021-12-22T13:33:38.642Z caller=log.go:124 level=debug component=dispatcher receiver=webhook integration=webhook[0] msg=\"Notify success\" attempts=1\n</code></pre></p> <p>\u540c\u65f6webhook\u63a5\u6536\u5230\u7c7b\u4f3c\u7684\u62a5\u8b66\uff1a</p> <p>Example</p> <pre><code>{\n\"receiver\": \"webhook\",\n\"status\": \"firing\",\n\"alerts\": [\n    {\n        \"status\": \"firing\",\n        \"labels\": {\n            \"host\": \"fuyideMacBook-Pro.local\",\n            \"source\": \"a\"\n        },\n        \"annotations\": {\n            \"message\": \"10.244.0.1 - - [13/Dec/2021:12:40:48 +0000] error \\\"GET / HTTP/1.1\\\" 404 683\",\n            \"reason\": \"contained error\"\n        },\n        \"startsAt\": \"2021-12-22T21:33:08.638086+08:00\",\n        \"endsAt\": \"0001-01-01T00:00:00Z\",\n        \"generatorURL\": \"\",\n        \"fingerprint\": \"6b723d0e395b14dc\"\n    }\n],\n\"groupLabels\": {},\n\"commonLabels\": {\n    \"host\": \"node1\",\n    \"source\": \"a\"\n},\n\"commonAnnotations\": {\n    \"message\": \"10.244.0.1 - - [13/Dec/2021:12:40:48 +0000] error \\\"GET / HTTP/1.1\\\" 404 683\",\n    \"reason\": \"contained error\"\n},\n\"externalURL\": \"http://xxxxxx:9093\",\n\"version\": \"4\",\n\"groupKey\": \"{}:{}\",\n\"truncatedAlerts\": 0\n}\n</code></pre>"},{"location":"user-guide/monitor/service-log-alarm/#_6","title":"\u72ec\u7acb\u94fe\u8def\u68c0\u6d4b","text":"<p>Info</p> <p>\u9a6c\u4e0a\u653e\u51fa\uff0c\u656c\u8bf7\u671f\u5f85</p>"},{"location":"user-guide/troubleshot/log-collection/","title":"\u65e5\u5fd7\u91c7\u96c6\u5feb\u901f\u6392\u969c\u6307\u5357","text":"<p>\u4e3a\u4ec0\u4e48\u6211\u7684\u65e5\u5fd7\u6ca1\u6709\u91c7\u96c6\uff1f</p> <p>\u65e5\u5fd7\u91c7\u96c6\u4e2d\uff0c\u6700\u4e3a\u5173\u952e\u6838\u5fc3\u7684\u95ee\u9898\u662f\uff0c\u65e5\u5fd7\u6709\u6ca1\u6709\u88ab\u91c7\u96c6\u5230\uff0c\u4e3a\u4ec0\u4e48\u6211\u914d\u7f6e\u7684\u65e5\u5fd7\u6ca1\u6709\u53d1\u9001\u8fc7\u53bb\uff1f \u4e0b\u9762\u63d0\u4f9b\u4e86\u6838\u5fc3\u7684\u6392\u67e5\u601d\u8def\u548c\u624b\u6bb5\u4f9b\u53c2\u8003\u3002 \u53e6\u5916\uff0c\u6700\u91cd\u8981\u7684\u662f\uff0c\u5728\u73af\u5883\u91cc\u914d\u7f6eLoggie\u7684Prometheus\u76d1\u63a7\u548cGrafana\u56fe\u8868\uff0c\u53ef\u4ee5\u5feb\u901f\u53d1\u73b0\u95ee\u9898\u3002</p>"},{"location":"user-guide/troubleshot/log-collection/#_2","title":"\u65e5\u5fd7\u91c7\u96c6\u6838\u5fc3\u673a\u5236","text":"<p>\u4e86\u89e3\u5b9e\u73b0\u673a\u5236\u662f\u6392\u969c\u7684\u57fa\u7840\uff1a</p> <ol> <li>\u4e0b\u53d1\u91c7\u96c6\u4efb\u52a1\uff1a\u521b\u5efa\u65e5\u5fd7\u91c7\u96c6\u4efb\u52a1LogConfig CR\u81f3Kubernetes</li> <li>\u63a5\u6536\u65e5\u5fd7\u914d\u7f6e\uff1a\u8282\u70b9\u7684Agent Loggie\u76d1\u542c\u5230K8s\u76f8\u5e94\u4e8b\u4ef6\uff0c\u5c06LogConfig\u8f6c\u6362\u6210Pipelines\u914d\u7f6e\u6587\u4ef6</li> <li>\u91c7\u96c6\u65e5\u5fd7\u6587\u4ef6\uff1aLoggie\u4f1a\u81ea\u52a8Reload\u7136\u540e\u8bfb\u53d6\u914d\u7f6e\u6587\u4ef6\uff0c\u7136\u540e\u6839\u636e\u914d\u7f6e\u53d1\u9001\u76f8\u5e94\u7684\u65e5\u5fd7\u6570\u636e\u5230\u4e0b\u6e38\u670d\u52a1</li> </ol> <p>\uff08\u9488\u5bf9\u975eKubernetes\u7684\u4e3b\u673a\u573a\u666f\uff0c\u53ea\u662f\u5c11\u4e86LogConfig CRD\u914d\u7f6e\u4e0b\u53d1\u7684\u6b65\u9aa4\uff0c\u5176\u4f59\u7c7b\u4f3c\uff09</p>"},{"location":"user-guide/troubleshot/log-collection/#_3","title":"\u6392\u67e5\u6b65\u9aa4","text":"<p>\u6392\u67e5\u95ee\u9898\u5173\u952e\u5148\u8981\u786e\u5b9a\u662f\u54ea\u4e00\u6b65\u51fa\u73b0\u4e86\u95ee\u9898\u3002</p>"},{"location":"user-guide/troubleshot/log-collection/#_4","title":"\u65e5\u5fd7\u91c7\u96c6\u4efb\u52a1\u6392\u67e5","text":"<p>\u67e5\u770b\u6211\u4eec\u8981\u6392\u67e5\u7684\u65e5\u5fd7\u91c7\u96c6\u4efb\u52a1LogConfig/ClusterLogConfig\u7684Events\u4e8b\u4ef6\uff1a</p> <pre><code>kubectl -n ${namespace} describe lgc ${name}\n</code></pre> <p>\u5982\u679c\u6ca1\u6709events\uff0c\u5219\u53ef\u80fd\u4e3a\uff1a</p> <ul> <li> Pod Label\u672a\u5339\u914d\uff1a   logConfig\u4e2d<code>labelSelector</code>\u6307\u5b9a\u7684label\u672a\u548c\u6211\u4eec\u671f\u671b\u7684Pod\u5339\u914d\u3002\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u67e5\u770b   <pre><code>kubectl -n ${namespace} get po -owide -l ${labels}\n</code></pre>   \u6bd4\u5982<code>kubectl -n ns1 get po -owide -l app=tomcat,service=web</code>   \u6765\u5224\u65ad\u4e00\u4e0b\u662f\u5426\u6709\u5339\u914d\u7684Pod\u3002</li> </ul> <p>\u5982\u679c\u6ca1\u6709\u7c7b\u4f3csync success\u7684events\uff0c\u53ef\u6839\u636eevents\u540c\u65f6\u7ed3\u5408Loggie\u65e5\u5fd7\u6392\u67e5\u95ee\u9898\uff1a</p> <ul> <li> \u914d\u7f6e\u95ee\u9898\u6216\u8005Loggie\u5f02\u5e38\uff1a \u901a\u8fc7\u4e0b\u9762\u547d\u4ee4\u67e5\u770b <pre><code>kubectl -n ${loggie-namespace} logs -f ${loggie-pod-name} \u2014-tail=${N}\n</code></pre> \u6bd4\u5982<code>kubectl -nloggie logs -f loggie-5x6vf --tail=100</code>\u3002 \u67e5\u770b\u5bf9\u5e94\u8282\u70b9\u7684Loggie\u65e5\u5fd7\uff0c\u6839\u636e\u65e5\u5fd7\u60c5\u51b5\u8fdb\u884c\u5904\u7406\u3002  </li> </ul> <p>\u5e38\u89c1\u7684\u5f02\u5e38\u6709\uff1a</p> <ul> <li>\u627e\u4e0d\u5230\u65e5\u5fd7\u8def\u5f84\uff1a\u586b\u5199\u7684path\u6ca1\u6709\u4f7f\u7528volume\u6302\u8f7d\uff0c\u53ef\u4ee5\u4ed4\u7ec6\u68c0\u67e5\u4e00\u4e0bpath\u548cvolumeMount\u7684\u8def\u5f84\uff0cpath\u662f\u5426\u5305\u542b\u5728volumeMount\u5185\u90e8\u3002  </li> <li>\u65e5\u5fd7path\u672a\u5339\u914d\u5230\u5177\u4f53\u7684\u65e5\u5fd7\u6587\u4ef6\uff1apath\u9700\u8981\u586b\u5199glob\u8868\u8fbe\u5f0f\uff0c\u4f8b\u5982<code>/var/log/*.log</code>\u3002\u6700\u5feb\u901f\u7684\u505a\u6cd5\u662f\uff0c\u5728\u9700\u8981\u91c7\u96c6\u7684\u4e1a\u52a1\u7684Pod\u91cc\uff0c\u6267\u884c<code>ls &lt;path&gt;</code>\uff0c\u56e0\u4e3als\u4e5f\u662f\u4f7f\u7528\u7684glob\u8868\u8fbe\u5f0f\u53bb\u5339\u914d\u65e5\u5fd7\u6587\u4ef6\u3002\u53e6\u5916\u4e5f\u9700\u989d\u5916\u6ce8\u610f\u662f\u5426\u914d\u7f6e\u4e86<code>ignoreOlder</code>/<code>excludeFiles</code>\u7b49\u53c2\u6570\uff0c\u5ffd\u7565\u6216\u8005\u6392\u9664\u4e86\u6211\u4eec\u5e0c\u671b\u91c7\u96c6\u7684\u65e5\u5fd7\u6587\u4ef6\u3002</li> </ul>"},{"location":"user-guide/troubleshot/log-collection/#agent","title":"\u8282\u70b9\u65e5\u5fd7Agent\u6392\u67e5","text":""},{"location":"user-guide/troubleshot/log-collection/#1-logconfigpodagent","title":"1.  \u627e\u5230logConfig\u5339\u914d\u7684pod\u6240\u5728\u8282\u70b9\u7684\u65e5\u5fd7Agent","text":"<p>\u6839\u636e\u5728logConfig\u7684labelSelector\u627e\u5230\u4e00\u4e2a\u5339\u914d\u7684\u4e1a\u52a1pod\uff1a <pre><code>kubectl -n ${namespace} get po -owide -l ${labels}\n</code></pre> \u627e\u5230\u4efb\u610f\u4e00\u4e2a\u6240\u5728\u7684Node\u8282\u70b9<code>${node-name}</code>\uff0c\u7136\u540e\u901a\u8fc7\uff1a <pre><code>kubectl -n ${loggie-namespace} get po -owide |grep ${node-name}\n</code></pre> \u627e\u5230\u8be5\u8282\u70b9\u6240\u5728\u7684Loggie\u3002</p>"},{"location":"user-guide/troubleshot/log-collection/#2-loggie","title":"2.  \u67e5\u770b\u5bf9\u5e94\u8282\u70b9\u7684Loggie\u65e5\u5fd7","text":"<p>\u68c0\u67e5\u662f\u5426\u6709\u5f02\u5e38\uff0c\u5982\u679c\u6709\u5f02\u5e38\uff0c\u5219\u9700\u6839\u636e\u5f02\u5e38\u65e5\u5fd7\u518d\u505a\u5206\u6790\u5224\u65ad <pre><code>kubectl -n ${loggie-namespace} logs -f ${loggie-pod-name} \u2014-tail=${N}\n</code></pre></p>"},{"location":"user-guide/troubleshot/log-collection/#3-loggie","title":"3.  \u67e5\u770b\u8282\u70b9Loggie\u6e32\u67d3\u751f\u6210\u7684\u914d\u7f6e","text":"<p>\u8fdb\u5165\u5230\u5bb9\u5668\u4e2d\uff1a <pre><code>kubectl -n ${loggie-namespace} exec -it ${loggie-pod-name} bash\n</code></pre> \u67e5\u770b\u6e32\u67d3\u751f\u6210\u7684Pipeline\u914d\u7f6e\uff1a <pre><code>ls /opt/loggie/pipeline/\n</code></pre> \u5f53\u7136\uff0c\u4f60\u4e5f\u53ef\u4ee5\u9009\u62e9\u901a\u8fc7\u8c03\u7528Loggie\u63a5\u53e3\u6765\u67e5\u770b\u6e32\u67d3\u751f\u6210\u7684Pipeline\u914d\u7f6e\uff1a <pre><code>curl ${loggie-pod-ip}:9196/api/v1/reload/config\n</code></pre></p>"},{"location":"user-guide/troubleshot/log-collection/#4","title":"4.  \u67e5\u770b\u65e5\u5fd7\u91c7\u96c6\u6301\u4e45\u5316\u72b6\u6001","text":"<p>Loggie\u4f1a\u8bb0\u5f55\u6bcf\u4e2a\u65e5\u5fd7\u6587\u4ef6\u7684\u91c7\u96c6\u72b6\u6001\uff0c\u8fd9\u6837\u5373\u4f7fLoggie\u91cd\u542f\u540e\uff0c\u4e5f\u53ef\u4ee5\u7ee7\u7eed\u4fdd\u6301\u4e0a\u4e00\u6b21\u7684\u91c7\u96c6\u8fdb\u5ea6\uff0c\u907f\u514d\u91cd\u65b0\u91c7\u96c6\u65e5\u5fd7\u6587\u4ef6\u3002 \u53ef\u4ee5\u901a\u8fc7\u8c03\u7528\u63a5\u53e3\u6765\u67e5\u770b\uff1a <pre><code>curl ${loggie-pod-ip}:9196/api/v1/source/file/registry?format=text | grep XXX\n</code></pre> \u4e00\u822c\u8fd4\u56de\u7684\u7c7b\u4f3c\uff1a <pre><code>  {\n    \"id\": 85,\n    \"pipelineName\": \"default/tomcat\",\n    \"sourceName\": \"tomcat-7d64c4f6c9-cm8jm/tomcat/common\",\n    \"filename\": \"/var/lib/kubelet/pods/9397b8be-8927-44ba-8b94-73e5a4459377/volumes/kubernetes.io~empty-dir/log/catalina.2022-06-02.log\",\n    \"jobUid\": \"3670030-65025\",\n    \"offset\": 4960,\n    \"collectTime\": \"2022-06-06 12:44:12.861\",\n    \"version\": \"0.0.1\"\n  },\n</code></pre> \u5176\u4e2d\u7684<code>filename</code>\u4e3aLoggie\u8f6c\u6362\u540e\u7684\u5b9e\u9645\u8282\u70b9\u4e0a\u7684\u65e5\u5fd7\u8def\u5f84\uff0c<code>jobUid</code>\u7ec4\u6210\u4e3a\u6587\u4ef6\u7684<code>inode-deviceId</code>\uff0c<code>offset</code>\u4e3asink\u53d1\u9001\u6210\u529f\u63a5\u6536\u5230ack\u540e\u7684offset\u3002 \u53e6\u5916\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u5728Loggie\u5bb9\u5668\u4e2d\u6267\u884c\uff1a <pre><code>stat ${filename}\n</code></pre> \u67e5\u770b\u6587\u4ef6\u7684size/inode\u7b49\u4fe1\u606f\uff0c\u4f8b\u5982\uff1a  </p> <p>stat</p> <pre><code>  File: /var/lib/kubelet/pods/9397b8be-8927-44ba-8b94-73e5a4459377/volumes/kubernetes.io~empty-dir/log/catalina.2022-06-02.log\n  Size: 4960        Blocks: 16         IO Block: 4096   regular file\nDevice: fe01h/65025d    Inode: 3670030     Links: 1\nAccess: (0640/-rw-r-----)  Uid: (    0/    root)   Gid: (    0/    root)\nAccess: 2022-06-06 12:44:12.859236003 +0000\nModify: 2022-06-02 08:54:33.177240007 +0000\nChange: 2022-06-02 08:54:33.177240007 +0000\n</code></pre> <p>\u53ef\u901a\u8fc7\u6bd4\u8f83size\u548coffset\u6765\u5224\u65ad\u91c7\u96c6\u8fdb\u5ea6\u3002\u5982\u679csize=offset\uff0c\u5219\u8bf4\u660e\u5df2\u7ecf\u6587\u4ef6\u5df2\u7ecf\u5168\u90e8\u91c7\u96c6\u5e76\u53d1\u9001\u6210\u529f\u3002</p>"},{"location":"user-guide/troubleshot/problems/","title":"\u95ee\u9898\u6848\u4f8b","text":""},{"location":"user-guide/troubleshot/problems/#netcgolookupip-segmentation-violation","title":"net.cgoLookupIP \u5bfc\u81f4segmentation violation","text":"<p>\u73b0\u8c61</p> <p>\u53ef\u80fd\u5728\u4f7f\u7528\u4e86\u6bd4\u5982unix sock source\u7684\u65f6\u5019\uff0cLoggie\u542f\u52a8\u540ecrash\uff0c\u5e76\u6709\u5982\u4e0b\u7684\u65e5\u5fd7\uff1a</p> <pre><code>fatal error: unexpected signal during runtime execution\n[signal SIGSEGV: segmentation violation code=0x1 addr=0x47 pc=0x7f59b4528360]\n\nruntime stack:\nruntime.throw({0x213b1a1, 0x7f59b423b640})\n    /usr/local/go/src/runtime/panic.go:1198 +0x71\nruntime.sigpanic()\n    /usr/local/go/src/runtime/signal_unix.go:719 +0x396\n\ngoroutine 86 [syscall]:\nruntime.cgocall(0x1a39d30, 0xc000510d90)\n    /usr/local/go/src/runtime/cgocall.go:156 +0x5c fp=0xc000510d68 sp=0xc000510d30 pc=0x40565c\nnet._C2func_getaddrinfo(0xc00030bc40, 0x0, 0xc000724fc0, 0xc0005bd990)\n    _cgo_gotypes.go:91 +0x56 fp=0xc000510d90 sp=0xc000510d68 pc=0x5c7bb6\nnet.cgoLookupIPCNAME.func1({0xc00030bc40, 0xc0004d29c0, 0x4}, 0xc00030bb80, 0xc000510e50)\n    /usr/local/go/src/net/cgo_unix.go:163 +0x9f fp=0xc000510de8 sp=0xc000510d90 pc=0x5c98ff\nnet.cgoLookupIPCNAME({0x20f751c, 0x3}, {0xc00030bb80, 0xc00022b5e0})\n    /usr/local/go/src/net/cgo_unix.go:163 +0x16d fp=0xc000510f38 sp=0xc000510de8 pc=0x5c914d\nnet.cgoIPLookup(0x358aed0, {0x20f751c, 0xc00030bbc0}, {0xc00030bb80, 0xc000510fb8})\n    /usr/local/go/src/net/cgo_unix.go:220 +0x3b fp=0xc000510fa8 sp=0xc000510f38 pc=0x5c99bb\nnet.cgoLookupIP\u00b7dwrap\u00b725()\n    /usr/local/go/src/net/cgo_unix.go:230 +0x36 fp=0xc000510fe0 sp=0xc000510fa8 pc=0x5c9e36\nruntime.goexit()\n    /usr/local/go/src/runtime/asm_amd64.s:1581 +0x1 fp=0xc000510fe8 sp=0xc000510fe0 pc=0x46ae81\ncreated by net.cgoLookupIP\n    /usr/local/go/src/net/cgo_unix.go:230 +0x125\n</code></pre> <p>\u539f\u56e0</p> <p>\u5177\u4f53\u539f\u56e0\u8bf7\u53c2\u8003\uff1ago net\u3002</p> <pre><code>Name Resolution\n\nThe method for resolving domain names, whether indirectly with functions like Dial\nor directly with functions like LookupHost and LookupAddr, varies by operating system.\n\nOn Unix systems, the resolver has two options for resolving names.\nIt can use a pure Go resolver that sends DNS requests directly to the servers\nlisted in /etc/resolv.conf, or it can use a cgo-based resolver that calls C\nlibrary routines such as getaddrinfo and getnameinfo.\n\nBy default the pure Go resolver is used, because a blocked DNS request consumes\nonly a goroutine, while a blocked C call consumes an operating system thread.\nWhen cgo is available, the cgo-based resolver is used instead under a variety of\nconditions: on systems that do not let programs make direct DNS requests (OS X),\nwhen the LOCALDOMAIN environment variable is present (even if empty),\nwhen the RES_OPTIONS or HOSTALIASES environment variable is non-empty,\nwhen the ASR_CONFIG environment variable is non-empty (OpenBSD only),\nwhen /etc/resolv.conf or /etc/nsswitch.conf specify the use of features that the\nGo resolver does not implement, and when the name being looked up ends in .local\nor is an mDNS name.\n\nThe resolver decision can be overridden by setting the netdns value of the\nGODEBUG environment variable (see package runtime) to go or cgo, as in:\n\n    export GODEBUG=netdns=go    # force pure Go resolver\n    export GODEBUG=netdns=cgo   # force cgo resolver\n\nThe decision can also be forced while building the Go source tree\nby setting the netgo or netcgo build tag.\n</code></pre> <p>\u89e3\u51b3\u529e\u6cd5</p> <p>\u5728Loggie \u90e8\u7f72\u811a\u672c\u91cc\u589e\u52a0\u73af\u5883\u53d8\u91cf\uff1a</p> <pre><code>  env:\n    - name: GODEBUG\n      value: netdns=go\n</code></pre>"},{"location":"user-guide/use-in-kubernetes/collect-container-logs/","title":"\u4f7f\u7528Loggie\u91c7\u96c6\u5bb9\u5668\u65e5\u5fd7","text":"<p>\u9605\u8bfb\u672c\u6587\u4e4b\u524d\uff0c\u5efa\u8bae\u5148\u53c2\u8003Kubernetes\u4e0b\u65e5\u5fd7\u91c7\u96c6\u95ee\u9898\u3002 </p>"},{"location":"user-guide/use-in-kubernetes/collect-container-logs/#loggie_1","title":"Loggie\u5982\u4f55\u91c7\u96c6\u5bb9\u5668\u65e5\u5fd7\uff1f","text":"<p>\u7531\u4e8eKubernetes\u826f\u597d\u7684\u53ef\u6269\u5c55\u6027\uff0cKubernetes\u8bbe\u8ba1\u4e86\u4e00\u79cd\u81ea\u5b9a\u4e49\u8d44\u6e90CRD\u7684\u6982\u5ff5\uff0c\u7528\u6237\u53ef\u4ee5\u81ea\u5df1\u5b9a\u4e49CRD\u8868\u793a\u81ea\u5df1\u7684\u671f\u671b\u72b6\u6001\uff0c\u5e76\u501f\u52a9\u4e00\u4e9bframework\u5f00\u53d1Controller\uff0c\u4f7f\u7528Controller\u5c06\u6211\u4eec\u7684\u671f\u671b\u53d8\u6210\u73b0\u5b9e\u3002  </p> <p>\u57fa\u4e8e\u8fd9\u4e2a\u601d\u8def\uff0c\u4e00\u4e2a\u670d\u52a1\u9700\u8981\u91c7\u96c6\u54ea\u4e9b\u65e5\u5fd7\uff0c\u9700\u8981\u4ec0\u4e48\u6837\u7684\u65e5\u5fd7\u914d\u7f6e\uff0c\u662f\u7528\u6237\u7684\u671f\u671b\uff0c\u800c\u8fd9\u5c31\u9700\u8981\u6211\u4eec\u5f00\u53d1\u4e00\u4e2a\u65e5\u5fd7\u91c7\u96c6\u7684Controller\u53bb\u5b9e\u73b0\u3002  </p> <p>\u6240\u4ee5\uff0c\u7528\u6237\u53ea\u9700\u8981\u5728\u6211\u4eec\u5b9a\u4e49\u7684CRD LogConfig\u4e2d\uff0c\u586b\u5199\u9700\u8981\u91c7\u96c6\u54ea\u4e9bPods\u7684\u65e5\u5fd7\uff0c\u5728Pod\u4e2d\u7684\u65e5\u5fd7\u8def\u5f84\u662f\u4ec0\u4e48\u3002  </p> <p>\u6838\u5fc3\u67b6\u6784\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p></p> <p>Loggie\u4f1a\u611f\u77e5\u5230Pod\u548cCRD\u7684\u4e8b\u4ef6\uff0c\u8fdb\u884c\u914d\u7f6e\u7684\u52a8\u6001\u66f4\u65b0\u3002\u540c\u65f6\uff0cLoggie\u53ef\u4ee5\u6839\u636e\u65e5\u5fd7\u6587\u4ef6\u8def\u5f84\u6302\u8f7d\u7684Volume\uff0c\u627e\u5230\u76f8\u5e94\u5728\u8282\u70b9\u7684\u6587\u4ef6\u8fdb\u884c\u91c7\u96c6\u3002\u53e6\u5916\u8fd8\u53ef\u4ee5\u6839\u636e\u914d\u7f6e\uff0c\u81ea\u52a8\u5c06Pod\u4e0a\u7684Env/Annotation/Label\u52a0\u5165\u5230\u65e5\u5fd7\u91cc\u4f5c\u4e3a\u5143\u4fe1\u606f\u3002  </p> <p>\u540c\u65f6\u76f8\u6bd4\u7c97\u66b4\u7684\u6240\u6709\u8282\u70b9\u6302\u8f7d\u76f8\u540c\u8def\u5f84\u8fdb\u884c\u901a\u914d\u91c7\u96c6\u7684\u65b9\u5f0f\uff0c\u4e5f\u89e3\u51b3\u4e86\u6ca1\u6cd5\u9488\u5bf9\u5355\u4e2a\u670d\u52a1\u7cbe\u7ec6\u5316\u914d\u7f6e\u3001\u91c7\u96c6\u65e0\u5173\u65e5\u5fd7\u7684\u95ee\u9898\u3002  </p> <p>\u5f53\u7136\u5e26\u6765\u7684\u597d\u5904\u4e0d\u4ec5\u4ec5\u8fd9\u4e9b\uff0cLoggie\u5728\u52a8\u6001\u914d\u7f6e\u4e0b\u53d1\u3001\u76d1\u63a7\u6307\u6807\u7b49\u65b9\u9762\u90fd\u53ef\u4ee5\u57fa\u4e8eKubernetes\u8fdb\u884c\u76f8\u5e94\u7684\u9002\u914d\u548c\u652f\u6301\u3002  </p>"},{"location":"user-guide/use-in-kubernetes/collect-container-logs/#crd","title":"CRD\u4f7f\u7528\u8bf4\u660e","text":"<p>Loggie\u76ee\u524d\u6709\u4ee5\u4e0b\u51e0\u79cdCRD\uff1a</p> <ul> <li>LogConfig\uff1anamespace\u7ea7\u522bCRD\uff0c\u7528\u4e8e\u91c7\u96c6Pod\u5bb9\u5668\u65e5\u5fd7\uff0c\u5176\u4e2d\u4e3b\u8981\u586b\u5199\u91c7\u96c6\u7684source\u914d\u7f6e\uff0c\u4ee5\u53ca\u5173\u8054\u7684sink\u548cinterceptor\u3002</li> <li>ClusterLogConfig\uff1acluster\u7ea7\u522bCRD\uff0c\u8868\u793a\u96c6\u7fa4\u7ea7\u522b\u7684\u91c7\u96c6Pod\u5bb9\u5668\u65e5\u5fd7\uff0c\u91c7\u96c6Node\u8282\u70b9\u4e0a\u7684\u65e5\u5fd7\uff0c\u4ee5\u53ca\u4e3a\u67d0\u4e2aLoggie\u96c6\u7fa4\u4e0b\u53d1\u901a\u7528\u7684pipeline\u914d\u7f6e\u3002</li> <li>Sink\uff1a\u8868\u793a\u4e00\u4e2asink\u540e\u7aef\uff0c\u9700\u8981\u5728ClusterLogConfig/LogConfig\u4e2d\u88ab\u5173\u8054\u3002</li> <li>Interceptor\uff1a\u8868\u793a\u4e00\u4e2ainterceptors\u7ec4\uff0c\u9700\u8981\u5728ClusterLogConfig/LogConfig\u4e2d\u88ab\u5173\u8054\u3002</li> </ul> <p>\u4f7f\u7528CRD\u7684\u6d41\u7a0b\u67b6\u6784\u5982\u4e0b\u6240\u793a\uff1a</p> <p></p>"},{"location":"user-guide/use-in-kubernetes/collect-container-logs/#_1","title":"\u51c6\u5907\u5de5\u4f5c","text":""},{"location":"user-guide/use-in-kubernetes/collect-container-logs/#_2","title":"\u90e8\u7f72\u67b6\u6784","text":"<p>\u6574\u4f53\u7684\u90e8\u7f72\u67b6\u6784\u662f\u4ec0\u4e48\uff1f</p> <ol> <li>Loggie Agent\u76f4\u63a5\u53d1\u9001\u7ed9\u540e\u7aef\u6bd4\u5982Elasticsearch\u8fd8\u662f\u5176\u4ed6\u5b58\u50a8\u7b49  </li> <li>Loggie Agent\u53d1\u9001\u81f3Loggie Aggregator\u4e2d\u8f6c\u5904\u7406\uff0c\u518d\u8f6c\u53d1\u81f3\u5176\u4ed6\u540e\u7aef\u5b58\u50a8  </li> <li>Loggie Agent\u53d1\u9001\u81f3Kafka\uff0cLoggie Aggregator\u6d88\u8d39Kafka\u518d\u53d1\u9001\u81f3\u540e\u7aef  ...</li> </ol> <p>\u672c\u6587\u4ec5\u5173\u6ce8\u91c7\u96c6\u7aef\uff0c\u5982\u679c\u9700\u8981\u4f7f\u7528\u90e8\u7f72Loggie Aggregator\uff0c\u8bf7\u53c2\u8003Loggie\u4e2d\u8f6c\u673a\u3002</p> <p>\u5728\u91c7\u96c6\u5bb9\u5668\u65e5\u5fd7\u4e4b\u524d\uff0c\u8bf7\u786e\u4fdd\u5df2\u7ecf\u5728Kubernetes\u4e2d\u90e8\u7f72\u4e86Loggie DaemonSet\u3002\u5982\u4f55\u5728Kubernetes\u4e2d\u90e8\u7f72Loggie\uff1f </p> <p>Info</p> <p>\u6211\u4eec\u63a8\u8350\u4f7f\u7528DaemonSet\u7684\u65b9\u5f0f\u91c7\u96c6\u5bb9\u5668\u65e5\u5fd7\uff0c\u540e\u7eedLoggie\u8ba1\u5212\u652f\u6301\u81ea\u52a8\u6ce8\u5165Loggie Sidecar\u7684\u65b9\u5f0f\u91c7\u96c6\u65e5\u5fd7\u3002RoadMap</p>"},{"location":"user-guide/use-in-kubernetes/collect-container-logs/#_3","title":"\u4f7f\u7528\u65b9\u5f0f","text":"<p>\u4e1a\u52a1Pod\u4f7f\u7528\u4ec0\u4e48\u65b9\u5f0f\u6302\u8f7d\u65e5\u5fd7\uff1f  \u5efa\u8bae\u5982\u679c\u5bf9\u65e5\u5fd7\u53ef\u80fd\u6027\u7684\u4e22\u5931\u4e0d\u654f\u611f\uff0c\u6bd4\u5982\u8fd0\u7ef4\u7c7b\u7684\u65e5\u5fd7\uff0c\u53ef\u4ee5\u4f7f\u7528emptyDir\u3002\u5982\u679c\u65e5\u5fd7\u6bd4\u8f83\u91cd\u8981\uff0c\u4e0d\u5141\u8bb8\u4e22\u5931\uff0c\u8bf7\u4f7f\u7528hostPath\uff0c\u5e76\u5728volumeMount\u914d\u7f6esubPathExpr\u5b9e\u73b0\u8def\u5f84\u9694\u79bb\u3002</p> <p>Example</p> tomcat-emptydir.ymltomcat-hostpath.yml <pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  labels:\n    app: tomcat\n  name: tomcat\n  namespace: default\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: tomcat\n  template:\n    metadata:\n      labels:\n        app: tomcat\n    spec:\n      containers:\n      - name: tomcat\n        image: tomcat\n        volumeMounts:\n        - mountPath: /usr/local/tomcat/logs\n          name: log\n      volumes:\n      - emptyDir: {}\n        name: log        \n</code></pre> <pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  labels:\n    app: tomcat\n  name: tomcat\n  namespace: default\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: tomcat\n  template:\n    metadata:\n      labels:\n        app: tomcat\n    spec:\n      containers:\n      - env:\n        - name: POD_NAME\n          valueFrom:\n            fieldRef:\n              apiVersion: v1\n              fieldPath: metadata.name\n        - name: NAMESPACE\n          valueFrom:\n            fieldRef:\n              apiVersion: v1\n              fieldPath: metadata.namespace\n        image: tomcat\n        name: tomcat\n        volumeMounts:\n        - mountPath: /log\n          name: datalog\n          subPathExpr: $(NAMESPACE)/$(POD_NAME)\n      volumes:\n      - hostPath:\n          path: /data/log\n          type: \"\"\n        name: datalog\n</code></pre> <p>Caution</p> <p>\u8bf7\u786e\u4fddPod\u6302\u8f7d\u7684\u65e5\u5fd7\u8def\u5f84\u4e0d\u4f1a\u88ab\u591a\u4e2aPod\u5171\u4eab\u3002\u6bd4\u5982\u4e00\u4e2aDeployment\u4e0b\u7684\u4e24\u4e2aPod\uff0c\u4f7f\u7528\u672a\u914d\u7f6esubPathExpr\u7684hostPath\u6302\u8f7d\u65e5\u5fd7\u76ee\u5f55\uff0c\u5982\u679c\u4e24\u4e2aPod\u8c03\u5ea6\u5728\u76f8\u540c\u7684\u8282\u70b9\uff0c\u4f1a\u6253\u5370\u5230\u76f8\u540c\u7684\u65e5\u5fd7\u76ee\u5f55\u548c\u6587\u4ef6\u4e2d\uff0c\u6b64\u65f6\u53ef\u80fd\u5f15\u8d77\u91c7\u96c6\u5f02\u5e38\u3002</p> <p>\u6211\u4eec\u9996\u5148\u521b\u5efa\u4ee5\u4e0a\u793a\u4f8b\u7684tomcat Deployment\u4f5c\u4e3a\u6211\u4eec\u88ab\u91c7\u96c6\u65e5\u5fd7\u7684\u5bf9\u8c61\u3002 <pre><code>kubectl apply -f tomcat-emptydir.yml\n</code></pre></p> <p>\u63a5\u4e0b\u6765\u5c06\u6f14\u793a\u91c7\u96c6\u4e0a\u9762\u793a\u4f8b\u7684tomcat\u65e5\u5fd7\uff0c\u5e76\u53d1\u9001\u81f3Elasticsearch\u3002 \u5982\u679c\u4f60\u5e0c\u671b\u91c7\u96c6\u5176\u4ed6\u7684\u5bb9\u5668\u65e5\u5fd7\uff0c\u6216\u8005\u53d1\u9001\u81f3\u5176\u4ed6\u7684\u540e\u7aef\uff0c\u53ea\u9700\u8981\u4fee\u6539\u5176\u4e2d\u7684\u914d\u7f6e\u5373\u53ef\u3002  </p>"},{"location":"user-guide/use-in-kubernetes/collect-container-logs/#elasticsearchkibana","title":"\u90e8\u7f72Elasticsearch\u548cKibana\uff08\u53ef\u9009\uff09","text":"<p>\u7531\u4e8e\u672c\u6587\u6f14\u793a\u53d1\u9001\u81f3Elasticsearch\uff0c\u6240\u4ee5\u8fd9\u91cc\u6211\u4eec\u90e8\u7f72\u4e00\u4e0bElasticsearch\u548cKibana\u3002 \u5982\u679c\u4f60\u7684\u73af\u5883\u4e2d\u5df2\u7ecf\u6709Elasticsearch\u548cKibana\uff0c\u8fd9\u4e00\u6b65\u53ef\u4ee5\u5ffd\u7565\u3002 \u5982\u679c\u5e0c\u671b\u81ea\u5df1\u642d\u5efa\u4e00\u5957Elasticsearch\u548cKibana\u8bd5\u7528\uff0c\u8fd9\u91cc\u5efa\u8bae\uff1a</p> <ul> <li>\u4f7f\u7528Helm\u90e8\u7f72Elasticsearch</li> <li>\u4f7f\u7528Helm\u90e8\u7f72Kibana</li> </ul> <p>\u5982\u679c\u672c\u5730\u6ca1\u6709helm\u5ba2\u6237\u7aef\uff0c\u9700\u8981\u4e0b\u8f7dhelm\u3002  </p> <p>\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4: <pre><code>helm repo add elastic https://helm.elastic.co\nhelm install elasticsearch elastic/elasticsearch --set replicas=1\nhelm install kibana elastic/kibana\n</code></pre></p> <p>\u901a\u8fc7\uff1a</p> <pre><code>kubectl port-forward service/kibana-kibana 5601:http\n</code></pre> <p>\u53ef\u4ee5\u76f4\u63a5\u5728\u6d4f\u89c8\u5668\u8f93\u5165localhost:5601\uff0c\u8bbf\u95eeKibana\u9875\u9762\u3002</p>"},{"location":"user-guide/use-in-kubernetes/collect-container-logs/#_4","title":"\u91c7\u96c6\u5bb9\u5668\u65e5\u5fd7","text":""},{"location":"user-guide/use-in-kubernetes/collect-container-logs/#sink","title":"\u521b\u5efasink","text":"<p>\u4e3a\u4e86\u8868\u660e\u6211\u4eec\u5373\u5c06\u91c7\u96c6\u65e5\u5fd7\u53d1\u9001\u5230\u7684Elasticsearch\uff0c\u9700\u8981\u914d\u7f6e\u5bf9\u5e94\u7684Sink\u3002 \u8fd9\u91cc\u6709\u4e24\u79cd\u65b9\u5f0f\uff1a  </p> <ol> <li> <p>\u5982\u679c\u6574\u4e2a\u96c6\u7fa4\u53ea\u4f1a\u6709\u4e00\u4e2a\u5b58\u50a8\u540e\u7aef\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u5168\u5c40\u7684\u914d\u7f6e\u6587\u4ef6configMap\u91cc\uff0c\u914d\u7f6edefaults\u53c2\u6570\uff0c\u5177\u4f53\u53ef\u53c2\u8003\u3002</p> </li> <li> <p>\u4f7f\u7528Sink CRD\uff0c\u5e76\u5728logConfig\u4e2d\u5f15\u7528\u3002\u8fd9\u79cd\u65b9\u5f0f\u53ef\u4ee5\u6269\u5c55\u4e3a\u591a\u4e2a\u540e\u7aef\uff0c\u4e0d\u540c\u7684logConfig\u53ef\u4ee5\u914d\u7f6e\u4f7f\u7528\u4e0d\u540c\u7684\u540e\u7aef\u5b58\u50a8\uff0c\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u5efa\u8bae\u4f7f\u7528\u8be5\u65b9\u5f0f\u3002  </p> </li> </ol> <p>\u521b\u5efa\u4e00\u4e2aSink\u5982\u4e0b\uff0cSink\u4e3a\u96c6\u7fa4\u7ea7\u522bCRD\u3002\u53ef\u4ee5\u5728spec.sink\u4e2d\u4fee\u6539\u4e3a\u5176\u4ed6\u914d\u7f6e\u3002  </p> <p>Example</p> <pre><code>cat &lt;&lt; EOF | kubectl apply -f -\napiVersion: loggie.io/v1beta1\nkind: Sink\nmetadata:\n  name: default\nspec:\n  sink: |\n    type: elasticsearch\n    index: \"loggie\"\n    hosts: [\"elasticsearch-master.default.svc:9200\"]\nEOF\n</code></pre> <p>\u53ef\u4ee5\u901a\u8fc7<code>kubectl get sink default</code>\u67e5\u770b\u662f\u5426\u521b\u5efa\u6210\u529f\u3002</p>"},{"location":"user-guide/use-in-kubernetes/collect-container-logs/#interceptor","title":"\u521b\u5efainterceptor(\u53ef\u9009)","text":"<p>\u548cSink\u4e00\u6837\uff0c\u914d\u7f6einterceptor\u6709\u4e24\u79cd\u65b9\u5f0f\uff1a  </p> <ol> <li> <p>\u5728\u5168\u5c40\u914d\u7f6e\u6587\u4ef6configMap\u4e2d\uff0c\u914d\u7f6edefaults\u53c2\u6570\u3002\u6b64\u65f6\u610f\u5473\u7740\u6240\u6709\u7684Loggie Agent\u90fd\u4f7f\u7528\u8be5default interceptors\u914d\u7f6e\u3002   </p> </li> <li> <p>\u4f7f\u7528Interceptor CRD\uff0c\u5e76\u5728logConfig\u4e2d\u88ab\u5f15\u7528\u3002\u8fd9\u79cd\u65b9\u5f0f\u4f1a\u66f4\u52a0\u7075\u6d3b\uff0c\u9002\u5408\u6709\u4e00\u5b9a\u8fd0\u7ef4\u548c\u529f\u80fd\u9700\u6c42\u7684\u573a\u666f\u3002  </p> </li> </ol> <p>Loggie\u76ee\u524d\u9ed8\u8ba4\u5185\u7f6e\u4e86<code>metric</code>\uff08\u76d1\u63a7\u6307\u6807\u53d1\u9001\uff09\u3001 <code>maxbytes</code>\uff08\u6700\u5927event\u5b57\u8282\u6570\u9650\u5236\uff09\u3001 <code>retry</code>\uff08\u91cd\u8bd5\uff09\u4e09\u4e2ainterceptors\u3002\u5373\u4f7f\u6211\u4eec\u6ca1\u6709\u4f7f\u7528\u4ee5\u4e0a\u4e24\u79cd\u65b9\u5f0f\u914d\u7f6e\uff0c\u4ecd\u7136\u4f1a\u81ea\u52a8\u4f7f\u7528\u8fd93\u4e2a\u9ed8\u8ba4interceptor\uff0c\u6240\u4ee5interceptor\u5176\u5b9e\u662f\u53ef\u9009\u9879\u3002    </p> <p>Caution</p> <ul> <li>\u5728\u5168\u5c40\u7684defaults\u4e2d\uff0c\u914d\u7f6einterceptors\uff0c\u4f1a\u8986\u76d6\u6389\u73b0\u6709\u7684\u5185\u7f6einterceptors\uff0c\u6240\u4ee5\u5982\u679c\u4f7f\u7528\u5168\u5c40defaults\u914d\u7f6einterceptors\uff0c\u8bf7\u628a\u5185\u7f6e\u7684interceptors\u90fd\u52a0\u4e0a\uff0c\u9664\u975e\u4f60\u786e\u5b9a\u4e0d\u9700\u8981\u3002  </li> <li>\u4f7f\u7528interceptor CRD\u914d\u7f6e\u7684logConfig\uff0c\u4e0d\u4f1a\u8986\u76d6\u9ed8\u8ba4\u548c\u5185\u7f6e\u7684interceptors\uff0c\u4f1a\u901a\u8fc7\u65b0\u589e\u7684\u65b9\u5f0f\u52a0\u5165\u6574\u4e2apipeline interceptors chain\u3002  </li> </ul> <p>\u521b\u5efa\u4e00\u4e2ainterceptor\u793a\u4f8b\u5982\u4e0b\uff1a  </p> <p>Example</p> <pre><code>cat &lt;&lt; EOF | kubectl apply -f -\napiVersion: loggie.io/v1beta1\nkind: Interceptor\nmetadata:\n  name: default\nspec:\n  interceptors: |\n    - type: rateLimit\n      qps: 90000\nEOF\n</code></pre> <p>\u8fd9\u91cc\u6211\u4eec\u521b\u5efa\u4e86\u4e00\u4e2a<code>rateLimit</code> interceptor\uff0c\u53ef\u7528\u4e8e\u91c7\u96c6\u53d1\u9001\u65e5\u5fd7\u7684\u9650\u6d41\u3002 \u53ef\u4ee5\u901a\u8fc7<code>kubectl get interceptor default</code>\u6216\u8005<code>kubectl get icp default</code>\u67e5\u770b\u662f\u5426\u521b\u5efa\u6210\u529f\u3002  </p>"},{"location":"user-guide/use-in-kubernetes/collect-container-logs/#logconfig","title":"\u521b\u5efalogConfig","text":"<p>\u521b\u5efa\u5b8csink\u548cinterceptor\u540e\uff0c\u6700\u91cd\u8981\u7684\u4fbf\u662f\u521b\u5efalogConfig\uff0c\u8868\u660e\u6211\u4eec\u5e0c\u671b\u91c7\u96c6\u54ea\u4e9bPod\u7684\u65e5\u5fd7\uff0c\u4ee5\u53ca\u91c7\u96c6Pod\u7684\u54ea\u4e9b\u65e5\u5fd7\u3002  </p> <p>logConfig\u91ccspec.selector\u90e8\u5206\u8868\u793a\u65e5\u5fd7\u914d\u7f6e\u7684\u4e0b\u53d1\u8303\u56f4\uff0c\u5bf9\u91c7\u96c6Pod\u65e5\u5fd7\u6765\u8bf4\uff0c\u9700\u8981\u914d\u7f6e<code>type: pod</code>\uff0c\u5e76\u4e14\u4f7f\u7528<code>labelSelector</code>\u9009\u62e9\u6307\u5b9a\u7684Pods\uff0c\u5373\u91c7\u96c6\u8fd9\u4e9bPods\u7684\u65e5\u5fd7\u3002 \u793a\u4f8b\u5982\u4e0b\uff1a <pre><code>spec:\n  selector:\n    type: pod\n    labelSelector:\n      app: tomcat\n</code></pre></p> <p>\u53e6\u5916\uff0c\u6211\u4eec\u9700\u8981\u5728pipeline.sources\u4e2d\u914d\u7f6efile source\uff0c\u5373\u91c7\u96c6Pods\u7684\u54ea\u4e9b\u65e5\u5fd7\u3002 <pre><code>  pipeline:\n    sources: |\n      - type: file\n        name: mylog\n        paths:\n          - stdout\n          - /var/log/*.log\n</code></pre> \u9700\u8981\u6ce8\u610f\u7684\u662f\uff1a  </p> <ul> <li>path\u91cc\u586b<code>stdout</code>\uff0c\u8868\u793a\u91c7\u96c6\u5bb9\u5668\u7684\u6807\u51c6\u8f93\u51fa\u8def\u5f84\u3002</li> <li>path\u91cc\u586b\u5199\u7684\u65e5\u5fd7\u6587\u4ef6\uff0c\u662f\u5bb9\u5668\u91cc\u7684\u8def\u5f84\u3002\uff08\u6700\u7ec8\u751f\u6210\u914d\u7f6e\u7684\u65f6\u5019\uff0cLoggie\u4f1a\u81ea\u52a8\u66f4\u65b0\u6210\u8282\u70b9\u4e0a\u7684\u8def\u5f84\uff0c\u65e0\u9700\u7528\u6237\u5173\u5fc3\uff09  </li> <li>path\u8bf7\u4f7f\u7528glob\u8868\u8fbe\u5f0f\u586b\u5199\u3002  </li> <li>\u5f53<code>type: pod</code>\u65f6\uff0cpipeline.name\u4f1a\u88abloggie\u81ea\u52a8\u6309\u7167<code>${namespace}-${logConfigName}</code>\u7684\u683c\u5f0f\u751f\u6210\uff0c\u6240\u4ee5\u8fd9\u91cc\u65e0\u9700\u586b\u5199\u3002  </li> <li>\u6700\u7ec8\u751f\u6210\u7684source.name\u4f1a\u6309\u7167<code>${podName}-${containerName}-${sourceName}</code>\u683c\u5f0f\u751f\u6210\u3002  </li> </ul> <p>\u6700\u540e\uff0c\u6211\u4eec\u4f7f\u7528sinkRef\u548cinterceptorRef\u5f15\u7528\u4e0a\u9762\u521b\u5efa\u7684sink\u548cinterceptor\u3002 \u6700\u7ec8\u521b\u5efa\u4e00\u4e2alogConfig\u793a\u4f8b\u5982\u4e0b\uff1a  </p> <p>Example</p> <pre><code>cat &lt;&lt; EOF | kubectl apply -f -\napiVersion: loggie.io/v1beta1\nkind: LogConfig\nmetadata:\n  name: tomcat\n  namespace: default\nspec:\n  selector:\n    type: pod\n    labelSelector:\n      app: tomcat\n  pipeline:\n    sources: |\n      - type: file\n        name: common\n        paths:\n          - stdout\n          - /usr/local/tomcat/logs/*.log\n    sinkRef: default\n    interceptorRef: default\nEOF\n</code></pre> <p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7<code>kubectl get logconfig tomcat</code>\u6216\u8005<code>kubectl get lgc tomcat</code>\u6765\u67e5\u770b\u662f\u5426\u521b\u5efa\u6210\u529f\u3002 \u540c\u65f6\u53ef\u4ee5\u901a\u8fc7<code>kubectl describe lgc tomcat</code>\u67e5\u770blogConfig\u7684events\uff0c\u7528\u4e8e\u6392\u67e5\u72b6\u6001\u3002 \u5982\u679c\u6709\u4ee5\u4e0b\u7c7b\u4f3c\u7684events\uff0c\u8bf4\u660e\u914d\u7f6e\u5df2\u7ecf\u4e0b\u53d1\u6210\u529f\u3002 <pre><code>Events:\n  Type    Reason       Age   From                       Message\n  ----    ------       ----  ----                       -------\n  Normal  syncSuccess  55s   loggie/kind-control-plane  Sync type pod [tomcat-684c698b66-hvztn] success\n</code></pre></p> <p>\u6211\u4eec\u8fd8\u53ef\u4ee5\u901a\u8fc7<code>kubectl -nloggie logs -f ${loggie-name}</code>\u6765\u67e5\u770b\u6307\u5b9a\u8282\u70b9Loggie\u7684\u65e5\u5fd7\u6765\u5224\u65ad\u65e5\u5fd7\u91c7\u96c6\u60c5\u51b5\u3002  </p> <p>\u53d1\u9001\u6210\u529f\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u5728Kibana\u4e0a\u67e5\u8be2\u5230\u91c7\u96c6\u5230\u7684\u65e5\u5fd7\u3002  </p>"},{"location":"user-guide/use-in-kubernetes/collect-container-logs/#_5","title":"\u81ea\u52a8\u89e3\u6790\u5bb9\u5668\u6807\u51c6\u8f93\u51fa\u539f\u59cb\u65e5\u5fd7","text":"<p>\u6b63\u5e38\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u91c7\u96c6\u5230\u7684\u6807\u51c6\u8f93\u51fa\u5e76\u4e0d\u662f\u6253\u5370\u7684\u65e5\u5fd7\u5185\u5bb9\uff0c\u800c\u662f\u88ab\u5bb9\u5668\u8fd0\u884c\u65f6\u589e\u52a0\u4e86\u4e00\u5c42\u5c01\u88c5\u3002  </p> <p>\u4f8b\u5982docker\u7684\u6807\u51c6\u8f93\u51fa\u4e3ajson\u5f62\u5f0f\uff1a <pre><code>{\"log\":\"I0610 08:29:07.698664 Waiting for caches to sync\\n\", \"stream\":\"stderr\", \"time:\"2021-06-10T08:29:07.698731204Z\"}\n</code></pre> \u4e1a\u52a1\u6253\u5370\u7684\u539f\u59cb\u65e5\u5fd7\u5185\u5bb9\u5b58\u50a8\u5728log\u5b57\u6bb5\u91cc\u3002</p> <p>containerd\u7684\u6807\u51c6\u8f93\u51fa\u5f62\u5f0f\u7c7b\u4f3c\u5982\u4e0b\uff1a <pre><code>2021-12-01T03:13:58.298476921Z stderr F INFO [main] Starting service [Catalina]\n</code></pre> \u524d\u9762<code>2021-12-01T03:13:58.298476921Z stderr F</code>\u4e3a\u8fd0\u884c\u65f6\u589e\u52a0\u7684\u524d\u7f00\u5185\u5bb9\uff0c\u540e\u9762\u5219\u4e3a\u539f\u59cb\u7684\u65e5\u5fd7\u3002</p> <p>\u7279\u522b\u662f\u5982\u679c\u6211\u4eec\u914d\u7f6e\u4e86\u65e5\u5fd7\u91c7\u96c6\u591a\u884c\u914d\u7f6e\uff0c\u56e0\u4e3a\u91c7\u96c6\u5230\u7684\u65e5\u5fd7\u5185\u5bb9\u548c\u4e1a\u52a1\u8f93\u51fa\u7684\u65e5\u5fd7\u4e0d\u4e00\u81f4\uff0c\u4f1a\u5bfc\u81f4\u91c7\u96c6\u6807\u51c6\u8f93\u51fa\u65e5\u5fd7\u5339\u914d\u591a\u884c\u6709\u95ee\u9898\u3002</p> <p>\u6240\u4ee5\uff0cLoggie\u63d0\u4f9b\u4e86\u4e00\u952e\u5f00\u5173\u914d\u7f6e\uff0c\u5728\u7cfb\u7edf\u914d\u7f6e\u4e2d\uff0c\u5c06<code>parseStdout</code>\u53c2\u6570\u8bbe\u7f6e\u4e3atrue\u5373\u53ef\u3002</p> <p>parseStdout</p> <pre><code>config:\n  loggie:\n    discovery:\n      enabled: true\n      kubernetes:\n        parseStdout: true\n</code></pre> <p>Loggie\u4f1a\u5728\u6e32\u67d3LogConfig\u7684\u65f6\u5019\u81ea\u52a8\u589e\u52a0source codec\u89e3\u6790\u51fa\u539f\u59cb\u7684\u4e1a\u52a1\u65e5\u5fd7\u3002</p> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff1a</p> <ul> <li> <p>\u4ec5\u5f53LogConfig\u914d\u7f6e\u91cc\u7684paths\u5355\u72ec\u4e3a<code>stdout</code>\u65f6\u6709\u6548\uff1a   \u3010\u6709\u6548\u3011     <pre><code>        sources: |\n          - type: file\n            name: common\n            paths:\n              - stdout\n</code></pre>   \u3010\u65e0\u6548\u3011   <pre><code>        sources: |\n          - type: file\n            name: common\n            paths:\n              - stdout\n              - /usr/local/tomcat/logs/*.log\n</code></pre>   \u4e0a\u9762\u9700\u8981\u6539\u6210\u4e24\u4e2asource\uff1a   \u3010\u6709\u6548\u3011   <pre><code>        sources: |\n          - type: file\n            name: stdout\n            paths:\n              - stdout\n          - type: file\n            name: tomcat\n            paths:\n              - /usr/local/tomcat/logs/*.log\n</code></pre></p> </li> <li> <p>\u76ee\u524d\u53ea\u4f1a\u4fdd\u7559\u539f\u59cb\u7684\u65e5\u5fd7\u5185\u5bb9\u5230<code>body</code>\u4e2d\uff0c\u5176\u4f59\u8fd0\u884c\u65f6\u9644\u52a0\u7684\u5b57\u6bb5\u4f1a\u88ab\u4e22\u5f03\u3002</p> </li> <li>\u81ea\u52a8\u89e3\u6790stdout\u5b9e\u9645\u4e0a\u662f\u5728LogConfig\u6e32\u67d3\u6210Pipeline\u914d\u7f6e\u65f6\u81ea\u52a8\u589e\u52a0source codec\u6765\u5b9e\u73b0\u3002</li> </ul>"},{"location":"user-guide/use-in-kubernetes/collect-container-logs/#volume","title":"\u65e0\u9700\u6302\u8f7dvolume\u7684\u5bb9\u5668\u65e5\u5fd7\u91c7\u96c6","text":"<p>\u867d\u7136\u6211\u4eec\u5efa\u8bae\u4f7f\u7528\u6302\u8f7dvolume(emptyDir/hostPath+subPathExpr)\u7684\u65b9\u5f0f\u5c06\u65e5\u5fd7\u6587\u4ef6\u6302\u51fa\u7ed9Loggie\u91c7\u96c6\uff0c\u4f46\u4ecd\u7136\u5b58\u5728\u5f88\u591a\u60c5\u51b5\u6211\u4eec\u6ca1\u529e\u6cd5\u5c06\u4e1a\u52a1\u7684Pod\u7edf\u4e00\u6302\u8f7d\u51fa\u65e5\u5fd7\u8def\u5f84\u3002 \u6bd4\u5982\u4e00\u4e9b\u57fa\u7840\u7ec4\u4ef6\u65e0\u6cd5\u914d\u7f6e\u72ec\u7acb\u7684\u65e5\u5fd7volume\uff0c\u6216\u8005\u4e1a\u52a1\u5355\u7eaf\u7684\u4e0d\u613f\u610f\u6539\u90e8\u7f72\u914d\u7f6e\u3002</p> <p>Loggie\u63d0\u4f9b\u4e86\u65e0\u9700\u6302\u8f7d\u5373\u53ef\u91c7\u96c6\u5bb9\u5668\u65e5\u5fd7\u7684\u80fd\u529b\uff0c\u53ef\u81ea\u52a8\u8bc6\u522b\u5e76\u91c7\u96c6\u5bb9\u5668root filesystem\u91cc\u7684\u65e5\u5fd7\u6587\u4ef6\u3002</p> <p>\u4f60\u53ea\u9700\u8981\u5c06\u90e8\u7f72\u7684helm chart\u4e2dvalues.yml\u91cc\u7684\u914d\u7f6e<code>rootFsCollectionEnabled</code>\u8bbe\u7f6e\u4e3atrue\uff0c \u540c\u65f6\u586b\u4e0a\u5b9e\u9645\u73af\u5883\u7684\u5bb9\u5668\u8fd0\u884c\u65f6\uff08docker/containerd\uff09\uff0c\u5982\u4e0b\u6240\u793a\uff1a</p> <p>rootFsCollectionEnabled</p> <pre><code>config:\n  loggie:\n    discovery:\n      enabled: true\n      kubernetes:\n        containerRuntime: containerd\n        rootFsCollectionEnabled: false\n</code></pre> <p>\u4fee\u6539\u5b8c\u6210\u540e\uff0c\u91cd\u65b0helm upgrade\u5373\u53ef\u3002 helm\u6a21\u7248\u4f1a\u81ea\u52a8\u6e32\u67d3\u589e\u52a0\u989d\u5916\u7684\u4e00\u4e9b\u6302\u8f7d\u8def\u5f84\u548c\u914d\u7f6e\uff0c\u5982\u679c\u4f60\u4ece\u4f4e\u7248\u672c\u5347\u7ea7\uff0c\u9700\u8981\u989d\u5916\u4fee\u6539\u90e8\u7f72\u7684Daemonset yaml\u3002 \u5177\u4f53\u539f\u7406\u8bf7\u53c2\u8003issues #208\u3002</p>"},{"location":"user-guide/use-in-kubernetes/collect-node-logs/","title":"\u4f7f\u7528Loggie\u91c7\u96c6Node\u8282\u70b9\u65e5\u5fd7","text":"<p>\u5728Kubernetes\u96c6\u7fa4\u4e2d\uff0c\u9664\u4e86\u91c7\u96c6Pod\u91cc\u7684\u65e5\u5fd7\uff0c\u8fd8\u53ef\u80fd\u6709\u91c7\u96c6Node\u8282\u70b9\u4e0a\u7684\u4e00\u4e9b\u8bf8\u5982kubelet\u65e5\u5fd7\u3001\u7cfb\u7edf\u65e5\u5fd7\u7b49\u9700\u6c42\u3002  </p>"},{"location":"user-guide/use-in-kubernetes/collect-node-logs/#_1","title":"\u914d\u7f6e\u8bf4\u660e","text":"<p>\u548c\u91c7\u96c6\u5bb9\u5668\u4e0d\u540c\u7684\u662f\uff0c\u8282\u70b9\u65e5\u5fd7\u91c7\u96c6\u9700\u4f7f\u7528\u96c6\u7fa4\u7ea7\u522b\u7684ClusterLogConfig\uff0cselector\u4f7f\u7528<code>type: node</code>\uff0c\u5e76\u4e14\u586b\u5199<code>nodeSelector</code>\u7528\u4e8e\u9009\u62e9\u4e0b\u53d1\u914d\u7f6e\u5230\u54ea\u4e9b\u8282\u70b9\uff0c\u540c\u65f6\u9700\u786e\u4fddNode\u4e0a\u5305\u542b\u8fd9\u4e9blabels\u3002  </p> <p>\u793a\u4f8b\u5982\u4e0b\uff1a  </p> <p>Example</p> <pre><code>apiVersion: loggie.io/v1beta1\nkind: ClusterLogConfig\nmetadata:\n  name: varlog\nspec:\n  selector:\n    type: node\n    nodeSelector:\n      nodepool: demo\n  pipeline:\n    sources: |\n      - type: file\n        name: varlog\n        paths:\n          - /var/log/*.log\n    sinkRef: default\n    interceptorRef: default\n</code></pre> <p>\u53e6\u5916\u5e94\u6ce8\u610f\u7684\u662f\uff0c\u5982\u679c\u9700\u8981\u91c7\u96c6Node\u8282\u70b9\u4e0a\u67d0\u8def\u5f84\u7684\u65e5\u5fd7\uff0c\u9700\u8981Loggie\u540c\u6837\u6302\u8f7d\u76f8\u540c\u7684\u8def\u5f84\uff0c\u5426\u5219\u7531\u4e8e\u5bb9\u5668\u9694\u79bb\u6027Loggie\u65e0\u6cd5\u83b7\u53d6\u5230\u8282\u70b9\u7684\u65e5\u5fd7\u3002 \u6bd4\u5982\u91c7\u96c6Node\u4e0a<code>/var/log/</code>\u8def\u5f84\u4e0b\u7684\u65e5\u5fd7\uff0c\u9700\u8981Loggie Agent\u589e\u52a0\u6302\u8f7d\u8be5\u8def\u5f84\u3002  </p>"},{"location":"user-guide/use-in-kubernetes/general-usage/","title":"Kubernetes\u4e0b\u7684\u65e5\u5fd7\u91c7\u96c6","text":"<p>Cite</p> <p>\u76f8\u6bd4\u4f20\u7edf\u7684\u4e3b\u673a\u65e5\u5fd7\u91c7\u96c6\uff0c\u5728Kubernetes\u96c6\u7fa4\u4e2d\uff0c\u91c7\u96c6\u5bb9\u5668\u65e5\u5fd7\u6709\u4e00\u4e9b\u5dee\u5f02\uff0c\u4f7f\u7528\u65b9\u5f0f\u4e0a\u4e5f\u6709\u6240\u533a\u522b\u3002 \u8fd9\u91cc\u6211\u4eec\u7f57\u5217\u4e86\u4e00\u4e9b\u5e38\u89c4\u7684\u90e8\u7f72\u548c\u4f7f\u7528\u65b9\u5f0f\u4ee5\u4f9b\u53c2\u8003\u3002</p>"},{"location":"user-guide/use-in-kubernetes/general-usage/#1","title":"1. \u4ece\u4e3b\u673a\u5230\u5bb9\u5668","text":"<p>\u5728\u4f20\u7edf\u7684\u4f7f\u7528\u865a\u62df\u673a/\u4e91\u4e3b\u673a/\u7269\u7406\u673a\u7684\u65f6\u4ee3\uff0c\u4e1a\u52a1\u8fdb\u7a0b\u90e8\u7f72\u5728\u56fa\u5b9a\u7684\u8282\u70b9\u4e0a\uff0c\u4e1a\u52a1\u65e5\u5fd7\u76f4\u63a5\u8f93\u51fa\u5230\u5bbf\u4e3b\u673a\u4e0a\uff0c\u8fd0\u7ef4\u53ea\u9700\u8981\u624b\u52a8\u6216\u8005\u4f7f\u7528\u81ea\u52a8\u5316\u5de5\u5177\u628a\u65e5\u5fd7\u91c7\u96c6Agent\u90e8\u7f72\u5728\u8282\u70b9\u4e0a\uff0c\u52a0\u4e00\u4e0bAgent\u7684\u914d\u7f6e\uff0c\u5c31\u53ef\u4ee5\u5f00\u59cb\u91c7\u96c6\u65e5\u5fd7\u4e86\u3002  </p> <p>\u800c\u5728Kubernetes\u73af\u5883\u4e2d\uff0c\u60c5\u51b5\u5c31\u6ca1\u8fd9\u4e48\u7b80\u5355\u4e86\uff1a</p> <ul> <li>\u52a8\u6001\u8fc1\u79fb\uff1a\u5728Kubernetes\u96c6\u7fa4\u4e2d\u7ecf\u5e38\u5b58\u5728Pod\u4e3b\u52a8\u6216\u8005\u88ab\u52a8\u7684\u8fc1\u79fb\uff0c\u9891\u7e41\u7684\u9500\u6bc1\u3001\u521b\u5efa\uff0c\u6211\u4eec\u65e0\u6cd5\u548c\u4f20\u7edf\u7684\u65b9\u5f0f\u4e00\u6837\u4eba\u4e3a\u7684\u7ed9\u6bcf\u4e2a\u670d\u52a1\u4e0b\u53d1\u65e5\u5fd7\u91c7\u96c6\u914d\u7f6e\u3002</li> <li>\u65e5\u5fd7\u5b58\u50a8\u65b9\u5f0f\u591a\u6837\u6027\uff1a\u5bb9\u5668\u7684\u65e5\u5fd7\u5b58\u50a8\u65b9\u5f0f\u6709\u5f88\u591a\u4e0d\u540c\u7684\u7c7b\u578b\uff0c\u4f8b\u5982stdout\u3001hostPath\u3001emptyDir\u3001pv\u7b49\u3002</li> <li>Kubernetes\u5143\u4fe1\u606f\uff1a\u7531\u4e8e\u65e5\u5fd7\u6570\u636e\u91c7\u96c6\u540e\u4f1a\u88ab\u96c6\u4e2d\u5b58\u50a8\uff0c\u6240\u4ee5\u67e5\u8be2\u65e5\u5fd7\u65f6\uff0c\u9700\u8981\u6839\u636enamespace\u3001pod\u3001container\u3001node\uff0c\u751a\u81f3\u5305\u62ec\u5bb9\u5668\u7684\u73af\u5883\u53d8\u91cf\u3001label\u7b49\u7ef4\u5ea6\u6765\u68c0\u7d22\u3001\u8fc7\u6ee4\uff0c\u6b64\u65f6\u8981\u6c42Agent\u611f\u77e5\u5e76\u9ed8\u8ba4\u5728\u65e5\u5fd7\u91cc\u6ce8\u5165\u8fd9\u4e9b\u5143\u4fe1\u606f\u3002  </li> </ul> <p>\u4ee5\u4e0a\u90fd\u662f\u6709\u522b\u4e8e\u4f20\u7edf\u65e5\u5fd7\u91c7\u96c6\u914d\u7f6e\u65b9\u5f0f\u7684\u9700\u6c42\u548c\u75db\u70b9\uff0c\u7a76\u5176\u539f\u56e0\uff0c\u8fd8\u662f\u56e0\u4e3a\u4f20\u7edf\u7684\u65b9\u5f0f\u8131\u79bb\u4e86Kubernetes\uff0c\u65e0\u6cd5\u611f\u77e5Kubernetes\uff0c\u65e0\u6cd5\u548cKubernetes\u96c6\u6210\u3002  </p>"},{"location":"user-guide/use-in-kubernetes/general-usage/#2-kubernetes","title":"2. \u5728Kubernetes\u4e0b\u7684\u65e5\u5fd7\u5f62\u6001","text":"<p>\u4e3a\u4e86\u91c7\u96c6\u5bb9\u5668\u65e5\u5fd7\uff0c\u6211\u4eec\u5148\u6765\u770b\u4e00\u4e0b\u5e02\u9762\u4e0a\u4e00\u822c\u90fd\u6709\u54ea\u4e9b\u89e3\u51b3\u65b9\u6848\u3002  </p>"},{"location":"user-guide/use-in-kubernetes/general-usage/#21","title":"2.1 \u91c7\u96c6\u7684\u65e5\u5fd7\u7c7b\u578b","text":"<p>\u9996\u5148\uff0c\u9700\u8981\u63d0\u53ca\u7684\u662f\uff0c\u5728\u4e91\u539f\u751f\u768412\u8981\u7d20\u91cc\uff0c\u63a8\u8350\u4e1a\u52a1\u5bb9\u5668\u5c06\u65e5\u5fd7\u8f93\u51fa\u5230stdout\u4e2d\uff0c\u800c\u4e0d\u662f\u91c7\u7528\u6253\u5370\u65e5\u5fd7\u6587\u4ef6\u7684\u65b9\u5f0f\u3002\u5f53\u7136\uff0c\u5b9e\u9645\u60c5\u51b5\u662f\uff0c\u6211\u4eec\u5f88\u96be\u8fd9\u4e48\u505a\uff0c\u539f\u56e0\u5927\u6982\u6709\uff1a  </p> <ul> <li>\u9700\u8981\u4e1a\u52a1\u65b9\u4fee\u6539\u65e5\u5fd7\u914d\u7f6e\uff0c\u6bd4\u8f83\u96be\u4ee5\u63a8\u5e7f</li> <li>\u6709\u4e9b\u590d\u6742\u7684\u4e1a\u52a1\u5bf9\u65e5\u5fd7\u6587\u4ef6\u6709\u5206\u7c7b\uff0c\u6bd4\u5982\u5ba1\u8ba1\u65e5\u5fd7\u3001\u8bbf\u95ee\u65e5\u5fd7\u7b49\uff0c\u4e00\u822c\u4f1a\u8f93\u51fa\u4e3a\u72ec\u7acb\u7684\u65e5\u5fd7\u6587\u4ef6\uff0c\u65e5\u5fd7\u91c7\u96c6\u9700\u6839\u636e\u4e0d\u540c\u7684\u6587\u4ef6\u5206\u7c7b\u8fdb\u884c\u4e0d\u540c\u7684\u5904\u7406</li> </ul> <p>\u6240\u4ee5\u6b63\u5e38\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u9700\u8981\u540c\u65f6\u91c7\u96c6\uff1a</p> <ul> <li>\u6807\u51c6\u8f93\u51fastdout</li> <li>\u65e5\u5fd7\u6587\u4ef6</li> </ul>"},{"location":"user-guide/use-in-kubernetes/general-usage/#22-agent","title":"2.2 Agent\u90e8\u7f72\u65b9\u5f0f","text":"<p>\u91c7\u96c6\u5bb9\u5668\u65e5\u5fd7\uff0cAgent\u6709\u4e24\u79cd\u90e8\u7f72\u65b9\u5f0f\uff1a</p> <ol> <li>DaemonSet\uff1a\u6bcf\u4e2a\u8282\u70b9\u90e8\u7f72\u4e00\u4e2aAgent</li> <li>Sidecar\uff1a\u6bcf\u4e2aPod\u589e\u52a0\u4e00\u4e2aSidecar\u5bb9\u5668\uff0c\u8fd0\u884c\u65e5\u5fd7Agent</li> </ol> <p>\u4e24\u79cd\u90e8\u7f72\u65b9\u5f0f\u7684\u4f18\u52a3\u90fd\u663e\u800c\u6613\u89c1\uff1a</p> <ul> <li>\u8d44\u6e90\u5360\u7528\uff1aDaemonSet\u6bcf\u4e2a\u8282\u70b9\u4e0a\u4e00\u4e2a\uff0c\u800cSidecar\u6bcf\u4e2aPod\u91cc\u4e00\u4e2a\uff0c\u5bb9\u5668\u5316\u5f62\u6001\u4e0b\uff0c\u5f80\u5f80\u4e00\u4e2aNode\u4e0a\u53ef\u80fd\u4f1a\u8dd1\u5f88\u591a\u7684Pod\uff0c\u6b64\u65f6DaemonSet\u7684\u65b9\u5f0f\u8fdc\u5c0f\u4e8eSidecar\uff0c\u800c\u4e14\u8282\u70b9\u4e0aPod\u4e2a\u6570\u8d8a\u591a\u8d8a\u660e\u663e</li> <li>\u4fb5\u5165\u6027\uff1aSidecar\u7684\u65b9\u5f0f\uff0cAgent\u9700\u8981\u6ce8\u5165\u5230\u4e1a\u52a1Pod\u4e2d\uff0c\u4e0d\u7ba1\u662f\u5426\u6709\u5e73\u53f0\u5c01\u88c5\u8fd9\u4e00\u8fc7\u7a0b\uff0c\u8fd8\u662f\u91c7\u7528Kubernetes webhook\u7684\u65b9\u5f0f\u9ed8\u8ba4\u6ce8\u5165\uff0c\u4ecd\u7136\u6539\u53d8\u4e86\u539f\u672c\u7684\u90e8\u7f72\u65b9\u5f0f</li> <li>\u7a33\u5b9a\u6027\uff1a\u65e5\u5fd7\u91c7\u96c6\u5728\u5927\u90e8\u5206\u7684\u60c5\u51b5\u4e0b\uff0c\u9700\u8981\u4fdd\u969c\u7684\u662f\u7a33\u5b9a\u6027\uff0c\u6700\u91cd\u8981\u7684\u662f\u4e0d\u80fd\u5f71\u54cd\u4e1a\u52a1\uff0c\u5982\u679c\u91c7\u7528Sidecar\u7684\u65b9\u5f0f\uff0c\u5728Agent\u53d1\u751f\u5f02\u5e38\u6216\u8005oom\u7b49\u60c5\u51b5\uff0c\u5f88\u5bb9\u6613\u5bf9\u4e1a\u52a1\u5bb9\u5668\u9020\u6210\u5f71\u54cd\u3002\u53e6\u5916\uff0cAgent\u6bd4\u8f83\u591a\u7684\u65f6\u5019\uff0c\u5728\u8fde\u63a5\u6570\u7b49\u65b9\u9762\u4f1a\u5bf9\u4e0b\u6e38\u670d\u52a1\u6bd4\u5982Kafka\u9020\u6210\u4e00\u5b9a\u7684\u9690\u60a3\u3002  </li> <li>\u9694\u79bb\u6027\uff1aDaemonSet\u60c5\u51b5\u4e0b\uff0c\u8282\u70b9\u6240\u6709\u7684\u65e5\u5fd7\u90fd\u5171\u7528\u540c\u4e00\u4e2aAgent\uff0c\u800cSidecar\u65b9\u5f0f\uff0c\u53ea\u4f1a\u91c7\u96c6\u540c\u4e00\u4e2aPod\u5185\u7684\u4e1a\u52a1\u65e5\u5fd7\uff0c\u6b64\u65f6Sidecar\u7684\u9694\u79bb\u6027\u7406\u8bba\u4e0a\u4f1a\u597d\u4e00\u4e9b</li> <li>\u6027\u80fd\uff1aSidecar\u7531\u4e8e\u53ea\u4f1a\u91c7\u96c6\u8be5Pod\u91cc\u7684\u65e5\u5fd7\uff0c\u538b\u529b\u76f8\u5bf9\u8f83\u5c0f\uff0c\u6781\u7aef\u60c5\u51b5\u4e0b\uff0c\u8fbe\u5230Agent\u7684\u6027\u80fd\u74f6\u9888\u6bd4DaemonSet\u65b9\u5f0f\u6982\u7387\u4e5f\u4f1a\u5c0f\u5f88\u591a</li> </ul> <p>Tip</p> <p>\u6b63\u5e38\u60c5\u51b5\u4e0b\uff0c\u4f18\u5148\u4f7f\u7528DaemonSet\u7684\u65b9\u5f0f\u91c7\u96c6\u65e5\u5fd7\uff0c\u5982\u679c\u5355\u4e2aPod\u65e5\u5fd7\u91cf\u7279\u522b\u5927\uff0c\u8d85\u8fc7\u4e00\u822cAgent\u53d1\u9001\u541e\u5410\u91cf\uff0c\u53ef\u4ee5\u5355\u72ec\u5bf9\u8be5Pod\u4f7f\u7528Sidecar\u7684\u65b9\u5f0f\u91c7\u96c6\u65e5\u5fd7\u3002  </p>"},{"location":"user-guide/use-in-kubernetes/general-usage/#23","title":"2.3 \u91c7\u96c6\u65b9\u5f0f","text":""},{"location":"user-guide/use-in-kubernetes/general-usage/#daemonset-stdout","title":"DaemonSet + Stdout","text":"<p>\u5982\u679c\u4f7f\u7528\u5bb9\u5668\u8fd0\u884c\u65f6\u7684\u662fdocker\uff0c\u6b63\u5e38\u60c5\u51b5\u4e0b\u6211\u4eec\u53ef\u4ee5\u5728\u8282\u70b9\u7684docker\u8def\u5f84\u4e2d\u627e\u5230\u5bb9\u5668\u7684stdout\u7684\u65e5\u5fd7\uff0c\u9ed8\u8ba4\u4e3a<code>/var/lib/docker/containers/{containerId}/{containerId}-json.log</code>\u3002  </p> <p>\u5728Kubernetes 1.14\u7248\u672c\u4e4b\u524d\uff0ckubelet\u4f1a\u5728<code>/var/log/pods/&lt;podUID&gt;/&lt;containerName&gt;/&lt;num&gt;.log</code>\u5efa\u7acb\u4e00\u4e2a\u8f6f\u94fe\u63a5\u5230stdout\u6587\u4ef6\u4e2d\u3002  </p> <p>\u7c7b\u4f3c\u5982\u4e0b\u6240\u793a\uff1a <pre><code>root@master0:/var/log/pods# tree .\n|-- 6687e53201c01e3fad31e7d72fbb92a6\n|   `-- kube-apiserver\n|       |-- 865.log -&gt; /var/lib/docker/containers/3a35ae0a1d0b26455fbd9b267cd9d6ac3fbd3f0b12ee03b4b22b80dc5a1cde03/3a35ae0a1d0b26455fbd9b267cd9d6ac3fbd3f0b12ee03b4b22b80dc5a1cde03-json.log\n|       `-- 866.log -&gt; /var/lib/docker/containers/15a6924f14fcbf15dd37d1c185c5b95154fa2c5f3de9513204b1066bbe474662/15a6924f14fcbf15dd37d1c185c5b95154fa2c5f3de9513204b1066bbe474662-json.log\n|-- a1083c6d-3b12-11ea-9af1-fa163e28f309\n|   `-- kube-proxy\n|       |-- 3.log -&gt; /var/lib/docker/containers/4b63b5a90a8f9ca6b6f20b49b5ab2564f92df21a5590f46de2a46b031e55c80e/4b63b5a90a8f9ca6b6f20b49b5ab2564f92df21a5590f46de2a46b031e55c80e-json.log\n|       `-- 4.log -&gt; /var/lib/docker/containers/fc7c315d33935887ca3479a38cfca4cca66fad782b8a120c548ad0b9f0ff7207/fc7c315d33935887ca3479a38cfca4cca66fad782b8a120c548ad0b9f0ff7207-json.log\n</code></pre></p> <p>\u5728Kubernetes 1.14\u7248\u672c\u4e4b\u540e\uff0c\u6539\u6210\u4e86<code>/var/log/pods/&lt;namespace&gt;_&lt;pod_name&gt;_&lt;pod_id&gt;/&lt;container_name&gt;/&lt;num&gt;.log</code>\u7684\u5f62\u5f0f\u3002  </p> <pre><code>root@master-0:/var/log/pods# tree .\n|-- kube-system_kube-apiserver-kind-control-plane_bd1c21fe1f0ef615e0b5e41299f1be61\n|   `-- kube-apiserver\n|       `-- 0.log\n|-- kube-system_kube-proxy-gcrfq_f07260b8-6055-4c19-9491-4a825579528f\n|   `-- kube-proxy\n|       `-- 0.log\n`-- loggie_loggie-csd4g_f1cc32e9-1002-4e64-bd58-fc6094394e06\n    `-- loggie\n        `-- 0.log\n</code></pre> <p>\u6240\u4ee5\uff0c\u5bf9\u4e8eAgent\u91c7\u96c6\u6807\u51c6\u8f93\u51fa\u65e5\u5fd7\u6765\u8bf4\uff0c\u4e5f\u5c31\u662f\u91c7\u96c6\u8282\u70b9\u4e0a\u7684\u8fd9\u4e9b\u65e5\u5fd7\u6587\u4ef6\u3002  </p> <p>\u4e00\u79cd\u7b80\u5355\u7c97\u66b4\u7684\u91c7\u96c6\u65b9\u5f0f\u662f\uff0c\u4f7f\u7528DaemonSet\u90e8\u7f72\u65e5\u5fd7Agent\uff0c\u6302\u8f7d<code>/var/log/pods</code>\u76ee\u5f55\uff0cAgent\u7684\u914d\u7f6e\u6587\u4ef6\u4f7f\u7528\u7c7b\u4f3c<code>/var/log/pod/*/*.log</code>\u53bb\u901a\u914d\u65e5\u5fd7\u6587\u4ef6\uff0c\u91c7\u96c6\u8282\u70b9\u4e0a\u6240\u6709\u7684\u5bb9\u5668\u6807\u51c6\u8f93\u51fa\u3002  </p> <p></p> <p>\u4f46\u662f\u8fd9\u6837\u7684\u5c40\u9650\u5728\u4e8e\uff1a</p> <ul> <li>\u65e0\u6cd5\u6ce8\u5165\u66f4\u591a\u5143\u4fe1\u606f\u6bd4\u5982\u4e00\u4e9bpod\u7684label/env\u7b49\uff0c\u7279\u522b\u662f\u5728k8s1.14\u7248\u672c\u4e4b\u524d\uff0c\u751a\u81f3\u65e0\u6cd5\u5728\u91c7\u96c6\u7684path\u91cc\u83b7\u53d6\u5230namespace/pod\u7b49\u4fe1\u606f</li> <li>\u5f88\u96be\u9488\u5bf9\u5355\u4e2a\u670d\u52a1\u914d\u7f6e\u7279\u6b8a\u7684\u914d\u7f6e\uff0c\u6bd4\u5982\u67d0\u4e2a\u6587\u4ef6\u9700\u8981\u4f7f\u7528\u7279\u6b8a\u7684\u591a\u884c\u65e5\u5fd7\u91c7\u96c6\uff0c\u9700\u8981\u914d\u7f6e\u9002\u5408\u670d\u52a1\u81ea\u8eab\u7684\u65e5\u5fd7\u683c\u5f0f\u5207\u5206\u7b49</li> <li>\u4f1a\u91c7\u96c6\u5f88\u591a\u4e0d\u5fc5\u8981\u7684\u5bb9\u5668\u65e5\u5fd7\uff0c\u9020\u6210\u91c7\u96c6\u3001\u4f20\u8f93\u3001\u5b58\u50a8\u538b\u529b</li> </ul> <p>\u5f53\u7136\u73b0\u5728\u7684\u4e00\u4e9b\u65e5\u5fd7Agent\u6bd4\u5982Filebeat/Fluentd\u90fd\u9488\u5bf9\u6027\u7684\u505a\u4e86\u652f\u6301\uff0c\u6bd4\u5982\u53ef\u4ee5\u5c06namespace/pod\u7b49\u4fe1\u606f\u6ce8\u5165\u65e5\u5fd7\u4e2d\uff0c\u4f46\u4ecd\u7136\u6ca1\u6709\u89e3\u51b3\u5927\u90e8\u5206\u7684\u95ee\u9898\u3002  </p> <p>\u6240\u4ee5\uff0c\u8fd9\u79cd\u65b9\u5f0f\u53ea\u9002\u5408\u7b80\u5355\u7684\u4e1a\u52a1\u573a\u666f\uff0c\u540e\u7eed\u4e5f\u96be\u4ee5\u6ee1\u8db3\u5176\u4ed6\u66f4\u591a\u7684\u65e5\u5fd7\u9700\u6c42\u3002  </p>"},{"location":"user-guide/use-in-kubernetes/general-usage/#daemonset","title":"DaemonSet + \u65e5\u5fd7\u6587\u4ef6","text":"<p>\u5982\u679cPod\u91cc\u4e0d\u4ec5\u4ec5\u662f\u8f93\u51fastdout\uff0c\u8fd8\u5305\u62ec\u65e5\u5fd7\u6587\u4ef6\uff0c\u5c31\u9700\u8981\u8003\u8651\u5230\u6302\u8f7d\u65e5\u5fd7\u6587\u4ef6\u5230\u8282\u70b9\u4e0a\uff0c\u540c\u65f6\u91c7\u7528DaemonSet\u90e8\u7f72\u7684Agent\u4e5f\u9700\u8981\u6302\u8f7d\u76f8\u540c\u7684\u76ee\u5f55\uff0c\u5426\u5219\u91c7\u7528\u5bb9\u5668\u5316\u90e8\u7f72\u7684Agent\u65e0\u6cd5\u67e5\u770b\u5230\u76f8\u5e94\u7684\u6587\u4ef6\uff0c\u66f4\u65e0\u6cd5\u91c7\u96c6\u3002  </p> <p>\u4e1a\u52a1Pod\u6302\u8f7d\u65e5\u5fd7\u8def\u5f84\u7684\u65b9\u5f0f\u6709\u4ee5\u4e0b\u51e0\u79cd\uff1a</p> <p>(1) emtpyDir</p> <p>emtpyDir\u7684\u751f\u547d\u5468\u671f\u8ddf\u968fPod\uff0cPod\u9500\u6bc1\u540e\u5176\u4e2d\u5b58\u50a8\u7684\u65e5\u5fd7\u4e5f\u4f1a\u6d88\u5931\u3002  </p> <ul> <li>\u4f18\u70b9\uff1a\u4f7f\u7528\u7b80\u5355\uff0c\u4e0d\u540cPod\u90fd\u4f7f\u7528\u81ea\u5df1\u7684emtpyDir\uff0c\u6709\u4e00\u5b9a\u7684\u9694\u79bb\u6027\u3002  </li> <li>\u7f3a\u70b9\uff1a\u65e5\u5fd7\u5982\u679c\u91c7\u96c6\u4e0d\u53ca\u65f6\uff0c\u5728Pod\u6d88\u8017\u540e\uff0c\u5b58\u5728\u4e22\u5931\u7684\u53ef\u80fd\u6027\u3002  </li> </ul> <p>\u4f7f\u7528emptyDir\u6302\u8f7d\u7684\u65e5\u5fd7\u6587\u4ef6\uff0c\u4e00\u822c\u5728\u8282\u70b9\u7684\u8def\u5f84\u5982\u4e0b\uff1a <pre><code>/var/lib/kubelet/pods/${pod.UID}/volumes/kubernetes.io~empty-dir/${volumeName}\n</code></pre></p> <p>(2) hostPath</p> <p>\u751f\u547d\u5468\u671f\u548cPod\u65e0\u5173\uff0cPod\u8fc1\u79fb\u6216\u8005\u9500\u6bc1\uff0c\u65e5\u5fd7\u6587\u4ef6\u8fd8\u4fdd\u7559\u5728\u73b0\u6709\u78c1\u76d8\u4e0a\u3002    </p> <ul> <li>\u4f18\u70b9\uff1a\u751f\u547d\u5468\u671f\u548cPod\u65e0\u5173\uff0c\u5373\u4f7fPod\u9500\u6bc1\uff0c\u65e5\u5fd7\u6587\u4ef6\u4f9d\u7136\u5728\u8282\u70b9\u78c1\u76d8\u4e0a\uff0c\u5047\u8bbeAgent\u6ca1\u6709\u91c7\u96c6\u65e5\u5fd7\uff0c\u4ecd\u7136\u53ef\u4ee5\u627e\u5230\u65e5\u5fd7\u6587\u4ef6</li> <li>\u7f3a\u70b9\uff1a\u9ed8\u8ba4\u65e0\u9694\u79bb\u6027\uff0c\u9700\u8981\u63a7\u5236\u6302\u8f7d\u7684\u65e5\u5fd7\u8def\u5f84\uff1b\u53e6\u5916\uff0cPod\u8fc1\u79fb\u8282\u70b9\u540e\uff0c\u6b8b\u7559\u7684\u65e5\u5fd7\u6587\u4ef6\u957f\u671f\u79ef\u7d2f\u5bb9\u6613\u5360\u636e\u78c1\u76d8\uff0c\u540c\u65f6\u65e5\u5fd7\u5360\u636e\u7684\u78c1\u76d8\u65e0\u6cd5\u63a7\u5236\u4f7f\u7528\u7684\u914d\u989d</li> </ul> <p>\u4e3a\u4e86\u89e3\u51b3\u9694\u79bb\u6027\uff0c\u907f\u514d\u591a\u4e2aPod\u6253\u5370\u65e5\u5fd7\u5230\u76f8\u540c\u7684\u8def\u5f84\u548c\u6587\u4ef6\u4e2d\uff0c\u6211\u4eec\u9700\u8981\u4f7f\u7528 subPathExpr \u5b57\u6bb5\u4ece Downward API \u73af\u5883\u53d8\u91cf\u6784\u9020 subPath \u76ee\u5f55\u540d\u3002  \u8be5 VolumeSubpathEnvExpansion \u529f\u80fd\u4ece Kubernetes1.15 \u5f00\u59cb\u9ed8\u8ba4\u5f00\u542f\uff0c\u57281.17 GA\u3002\u53ef\u53c2\u8003 feature-gates \u548c using-subpath-expanded-environment\u3002</p> <p>\u4f7f\u7528subPathExpr\u7684\u793a\u4f8b\u5982\u4e0b\u6240\u793a\uff1a <pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  labels:\n    app: nginx\n  name: nginx\n  namespace: default\nspec:\n  selector:\n    matchLabels:\n      app: nginx\n  template:\n    metadata:\n      labels:\n        app: nginx\n    spec:\n      containers:\n      - env:\n        - name: POD_NAME\n          valueFrom:\n            fieldRef:\n              apiVersion: v1\n              fieldPath: metadata.name\n        - name: NAMESPACE\n          valueFrom:\n            fieldRef:\n              apiVersion: v1\n              fieldPath: metadata.namespace\n        image: nginx\n        name: nginx\n        resources: {}\n        volumeMounts:\n        - mountPath: /data/log\n          name: datalog\n          subPathExpr: $(NAMESPACE)/$(POD_NAME)\n      volumes:\n      - hostPath:\n          path: /data/log\n          type: \"\"\n        name: datalog\n</code></pre></p> <p>\u5728\u521b\u5efa\u5b8c\u4e4b\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u6240\u5728\u8282\u70b9\u7684<code>/data/log</code>\u4e0b\u53d1\u73b0\u7c7b\u4f3c\u7684\u76ee\u5f55\u7ed3\u6784\uff1a <pre><code>.\n`-- default\n    |-- nginx-888dc6778-krfqr\n    `-- nginx-888dc6778-sw8vd\n</code></pre> \u6bcf\u4e2aPod\u7684\u5b58\u653e\u7684\u65e5\u5fd7\u6587\u4ef6\u5373\u5728\u8282\u70b9\u7684<code>/data/log/$(NAMESPACE)/$(POD_NAME)</code>\u8def\u5f84\u4e0b\u3002</p> <p>(3) Pv Pv\u7684\u8bbf\u95ee\u6a21\u5f0f\u5305\u62ec\uff1a</p> <ul> <li>ReadWriteOnce\uff08RWO\uff09\uff1a\u8bfb\u5199\u6743\u9650\uff0c\u5e76\u4e14\u53ea\u80fd\u88ab\u5355\u4e2aNode\u6302\u8f7d\u3002</li> <li>ReadOnlyMany\uff08ROX\uff09\uff1a\u53ea\u8bfb\u6743\u9650\uff0c\u5141\u8bb8\u88ab\u591a\u4e2aNode\u6302\u8f7d\u3002</li> <li>ReadWriteMany\uff08RWX\uff09\uff1a\u8bfb\u5199\u6743\u9650\uff0c\u5141\u8bb8\u88ab\u591a\u4e2aNode\u6302\u8f7d\u3002</li> </ul> <p>\u5bf9\u4e8e\u5927\u90e8\u5206\u7684\u4e1a\u52a1\u6765\u8bf4\uff0c\u90fd\u662fDeployment\u65e0\u72b6\u6001\u90e8\u7f72\uff0c\u9700\u8981\u6302\u8f7d\u540c\u4e00\u4e2aPv\u5171\u4eab\uff1b\u5bf9\u4e8e\u4e00\u4e9b\u4e2d\u95f4\u4ef6\u7b49\u6709\u72b6\u6001\u670d\u52a1\uff0c\u4e00\u822c\u4f1a\u4f7f\u7528StatefulSet\u90e8\u7f72\uff0c\u6bcf\u4e2aPod\u4f1a\u4f7f\u7528\u72ec\u7acb\u7684Pv\u3002</p> <ul> <li>\u4f18\u70b9\uff1a\u5b58\u50a8\u65e5\u5fd7\u4e0d\u5bb9\u6613\u4e22\u5931\uff1b</li> <li>\u7f3a\u70b9\uff1a\u6709\u4e00\u5b9a\u7684\u4f7f\u7528\u548c\u8fd0\u7ef4\u590d\u6742\u5ea6\uff1b\u591a\u4e2aPod\u5171\u4eab\u540c\u4e00\u4e2aPv\u65f6\u5b58\u5728\u9694\u79bb\u6027\u95ee\u9898\uff1b\u5f88\u591a\u7684\u65e5\u5fd7Agent\u5bf9\u91c7\u96c6\u4e91\u76d8\u4e0a\u7684\u65e5\u5fd7\u6587\u4ef6\u652f\u6301\u4e0d\u591f\u6210\u719f\uff0c\u53ef\u80fd\u5b58\u5728\u4e00\u4e9b\u9690\u60a3\uff1b</li> </ul> <p>\u867d\u7136\u540c\u6837\u53ef\u4ee5\u5728Node\u4e0a\u627e\u5230\u4f7f\u7528Pv\u6302\u8f7d\u7684\u5bf9\u5e94\u65e5\u5fd7\u6587\u4ef6\uff0c\u4f46\u662fPv\u6839\u636e\u4e0d\u540c\u7684\u5e95\u5c42\u5b9e\u73b0\uff0c\u5728Node\u4e0a\u7684\u8def\u5f84\u4f1a\u6709\u4e00\u5b9a\u7684\u533a\u522b\u3002  </p> <p>\u76ee\u524d\u5e02\u9762\u4e0a\u5927\u90e8\u5206\u65e5\u5fd7Agent\u5747\u5bf9\u8fd9\u4e9b\u6302\u8f7d\u65b9\u5f0f\u6ca1\u6709\u611f\u77e5\uff0c\u6240\u4ee5\u4f60\u80fd\u505a\u7684\u548c\u4e0a\u9762\u4f7f\u7528stdout\u7684\u65b9\u5f0f\u7c7b\u4f3c\uff0c\u4e5f\u5c31\u662f\u7b80\u5355\u7c97\u66b4\u7684\u8ba9Agent\u5c06\u8def\u5f84\u90fd\u6302\u8f7d\uff0c\u4f7f\u7528\u901a\u914d\u7684\u65b9\u5f0f\u91c7\u96c6\u6240\u6709\u7684\u65e5\u5fd7\uff0c\u4f7f\u7528\u4e0a\u7684\u5c40\u9650\u548cstdout\u7684\u65b9\u5f0f\u540c\u6837\u4e00\u81f4\u3002  </p> <p></p> <p>\u53e6\u5916\uff0c\u9274\u4e8e\u4e00\u4e9bAgent\u5bf9\u91c7\u96c6docker stdout\u6709\u4e00\u5b9a\u7684\u652f\u6301\uff0c\u6240\u4ee5\u8fd8\u5b58\u5728\u4e00\u4e9b\u4f7f\u7528\u4e0a\u53d8\u79cd\uff0c\u6bd4\u5982\u5229\u7528webhook\u6ce8\u5165\u4e00\u4e2asidecar\uff0c\u8bfb\u53d6Pod\u91cc\u7684\u65e5\u5fd7\u6587\u4ef6\uff0c\u8f6c\u6362\u6210sidecar\u7684stdout\uff0c\u7136\u540e\u91c7\u96c6sidecar\u7684stdout\u65e5\u5fd7\uff0c\u8fd9\u91cc\u4e0d\u518d\u8be6\u8ff0\u3002  </p> <p>\uff084\uff09\u4e0d\u6302\u8f7d</p> <p>\u5f88\u591a\u60c5\u51b5\u4e0b\uff0c\u7528\u6237\u90fd\u758f\u4e8e\u6302\u8f7d\u65e5\u5fd7\u8def\u5f84volume\uff0c\u6216\u8005\u5bf9\u63a5\u4e00\u4e2a\u5df2\u7ecf\u5b58\u5728\u7684\u7cfb\u7edf\uff0c\u5f80\u5f80\u4e1a\u52a1\u65b9\u4e0d\u613f\u610f\u66f4\u6539\uff0c\u8fd9\u4e2a\u65f6\u5019\u80fd\u91c7\u96c6\u5bb9\u5668\u91cc\u7684\u65e5\u5fd7\u6587\u4ef6\u5417\uff1f</p> <p>Loggie\u5c1d\u8bd5\u89e3\u51b3\u4e86\u8fd9\u4e2a\u95ee\u9898\uff0c\u53ef\u4ee5\u901a\u8fc7\u914d\u7f6e\u5f00\u542f\uff0c\u4e0d\u8fc7\u8fd9\u79cd\u65b9\u5f0f\u4ecd\u7136\u9700\u8981\u66f4\u591a\u957f\u671f\u751f\u4ea7\u5b9e\u8df5\u7684\u68c0\u9a8c\u3002\u6b22\u8fce\u8bd5\u7528\uff0c\u5177\u4f53\u5f00\u5173\u8bf7\u53c2\u8003\u4e0b\u4e00\u8282\u3002</p>"},{"location":"user-guide/use-in-kubernetes/general-usage/#sidecar-stdout","title":"Sidecar + Stdout/\u65e5\u5fd7\u6587\u4ef6","text":"<p>\u5982\u679c\u9700\u8981\u91c7\u7528sidecar\u7684\u65b9\u5f0f\uff0c\u9700\u8981\u5c06\u65e5\u5fd7Agent\u540c\u65f6\u6302\u8f7d\u76f8\u540c\u7684\u65e5\u5fd7\u8def\u5f84\uff0cAgent\u7684\u914d\u7f6e\u6587\u4ef6\u4e5f\u4e00\u822c\u4f7f\u7528ConfigMap\u6302\u8f7d\u51fa\u6765\u3002</p> <p>\u4f7f\u7528Sidecar\u7684\u90e8\u7f72\u65b9\u5f0f\u548cDaemonSet\u7684\u65b9\u5f0f\u4f18\u52a3\u5bf9\u6bd4\u8bf7\u53c2\u8003\u4e0a\u6587\u3002  </p> <p></p> <p>\u603b\u7ed3\uff1a \u5927\u90e8\u5206\u4e3b\u6d41\u7684\u5f00\u6e90Agent\uff0c\u53ea\u5bf9\u5bb9\u5668Stdout\u6709\u90e8\u5206\u652f\u6301\uff0c\u6bd4\u5982\u652f\u6301\u91c7\u96c6\u7684\u65f6\u5019\u7edf\u4e00\u52a0\u4e0a\u4e00\u4e9bK8s\u76f8\u5173\u5143\u4fe1\u606f\uff0c\u4f46\u4e0d\u652f\u6301\u5355\u72ec\u9488\u5bf9\u67d0\u4e9bPod\u8fdb\u884c\u914d\u7f6e\uff0c\u800c\u4e14\u5747\u6ca1\u6709\u5bf9\u5bb9\u5668\u4e2d\u7684\u65e5\u5fd7\u6587\u4ef6\u91c7\u96c6\u6709\u5f88\u597d\u7684\u652f\u6301\u3002 \u8fd9\u6837\u5bfc\u81f4\u5728\u5b9e\u9645\u590d\u6742\u7684\u5404\u7c7b\u4e1a\u52a1\u573a\u666f\u4e2d\uff0c\u6ca1\u529e\u6cd5\u6ee1\u8db3\u9700\u6c42\u3002  </p>"},{"location":"user-guide/use-in-kubernetes/general-usage/#loggie","title":"Loggie\u5982\u4f55\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898\uff1f","text":"<p>\u76f8\u4fe1\u4ee5\u4e0a\u5217\u51fa\u7684\u95ee\u9898\u5927\u5bb6\u90fd\u9047\u5230\u6216\u8005\u601d\u8003\u8fc7\uff0c\u90a3Loggie\u662f\u5982\u4f55\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898\u7684\u5462\uff1f \u8bf7\u770b\u4e0b\u4e00\u8282\u5982\u4f55 \u4f7f\u7528Loggie\u91c7\u96c6\u5bb9\u5668\u65e5\u5fd7\uff1f</p>"}]}